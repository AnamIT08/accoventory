<!DOCTYPE html>
<!-- 
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.5
Version: 4.5.2
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->

    <head>
        <meta charset="utf-8" />
        <title>Settings | Accoventory .::.SaaS.::. Accounting & Inventory Software - SaaS</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />
        <!-- BEGIN PAGE FIRST SCRIPTS -->
        <script src="<?php echo base_url(); ?>assets/global/plugins/pace/pace.min.js" type="text/javascript"></script>
        <!-- END PAGE FIRST SCRIPTS -->
        <!-- BEGIN PAGE TOP STYLES -->
        <link href="<?php echo base_url(); ?>assets/global/plugins/pace/themes/pace-theme-flash.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE TOP STYLES -->
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <link href="<?php echo base_url(); ?>assets/systemOwn/css/fonts.googleapis.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="<?php echo base_url(); ?>assets/global/plugins/select2/css/select2.min.css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/cubeportfolio/css/cubeportfolio.css" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/nouislider/nouislider.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/nouislider/nouislider.pips.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/dropzone/dropzone.min.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL STYLES -->  
        <link href="<?php echo base_url(); ?>assets/global/plugins/jquery-nestable/jquery.nestable.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/css/components-md.min.css" rel="stylesheet" id="style_components" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/css/plugins.css" rel="stylesheet" type="text/css" /> 
        <link href="<?php echo base_url(); ?>assets/global/css/plugins-md.min.css" rel="stylesheet" type="text/css" />
        <!-- END THEME GLOBAL STYLES -->
        <!-- BEGIN PAGE LEVEL STYLES -->
        <link href="<?php echo base_url(); ?>assets/pages/css/portfolio.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL STYLES -->
        <!-- BEGIN PAGE LEVEL STYLES -->
        <link href="<?php echo base_url(); ?>assets/global/plugins/bootstrap-toastr/toastr.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/apps/css/inbox.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/Scroller/css/dataTables.scroller.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/ColReorder/css/dataTables.colReorder.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="<?php echo base_url(); ?>assets/systemOwn/plugins/readactor/css/redactor.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/systemOwn/css/sweetalert.css" rel="stylesheet" type="text/css" >
        <link href="<?php echo base_url(); ?>assets/systemOwn/css/ad_a_note.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL STYLES -->        <!-- BEGIN THEME LAYOUT STYLES -->
        <link href="<?php echo base_url(); ?>assets/layouts/layout4/css/layout.min.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/layouts/layout4/css/themes/light.min.css" rel="stylesheet" type="text/css" id="style_color" />
        <link href="<?php echo base_url(); ?>assets/layouts/layout4/css/custom.css" rel="stylesheet" type="text/css" />
        <link href="<?php echo base_url(); ?>assets/systemOwn/css/overLay.css" rel="stylesheet" type="text/css" />
        <!-- END THEME LAYOUT STYLES -->
        <style type="text/css">
            .page-head .page-title {
                width: 100%;
            }            
            #scroll-percent{
                display: none;
                position: fixed;
                right: 1.5%;
                width: 60px;
                z-index: 9999;
                color: white;
                text-shadow: 1px 1px 3px black;
                font-family: Helvetica, sans-serif;
                text-align: center;
            }
            .form-group.form-md-line-input:last-child {
                margin-bottom: 15px;
            }
            .dropdown-menu-custom {
                min-width: 120px !important;
                max-width: 125px !important;
            }
            .dropdown-submenu > .dropdown-menu {
                left: 0 !important;
            }
            .dropdown-menu-custom-sub {
                min-width: 135px !important;
                max-width: 145px !important;
            }
            .newDrop {
                cursor: pointer;
                min-height: 180px;
                padding: 20px 0;
                text-align: center;
                border: 1px dashed;
                border-radius: 5px;
                border-color: #54c7c3;
                margin: 0 auto;
                background: #fff;
                float: right;
            }
            .uploadedLogo {
                float: right;
                margin-right: 10%;
            }
            .newDropUploaded {
                border: 1px none;
                min-height: 10px;
                float: right;
            }
            .wave-logo-uploader-dropzone__logo__dropzone__hint {
                line-height: 20px;
                color: gray;
            }
            .wv-text, .wv-text--body, .wv-generated-content p:not([class*="wv-"]) {
                margin: 16px 0;
            }
            .wave-logo-uploader-dropzone__logo__dropzone__browse-link {
                color: #54c7c3;
            }
            #profile-img-system {
                max-width: 130px;
            }
            #profile a{
                margin: auto;
            }
            div.fadeMe {
                border-radius: 2px;
                opacity:    0.01; 
                background: #000; 
                width:      100%;
                height:     100%; 
                z-index:    10;
                top:        0; 
                left:       0; 
                position:   absolute;
                cursor: default;
            }
            .inbox .inbox-content {
                min-height: 575px;
            }
            .custom-control-label {
                margin-left: 15px;
            }
            .fiscal {
                background-color: #fff !important;
                font-weight: bold;
            }
            .radio14,.radio15 { color: gray !important; }
            .noUi-background {
                background-image: linear-gradient(to right, #2AB4C0 100%, #2AB4C0 100%);
            }
            #static .default-tax-row { display: inline-block !important; }
            .customFormGroup { margin-right: 5px; }
            #static .form-control, #static .form-control { border: 0; padding: 0; border-bottom: 2px solid #36C6D3; box-shadow: none; letter-spacing: .34px; border-radius: 0; -webkit-appearance: none; }
            #static .modal-header .dataDiv, #static .modal-header .dataDiv { margin-bottom: 10px }
            #static .modal-body, #static .modal-body { overflow: hidden; margin-top: 10px; }
            #static .slimScrollDiv, #static .slimScrollDiv { width: 99% !important; }
            .modal-header h4 { margin-bottom: -10px; border-bottom: 1px solid; padding-bottom: 8px !important; }
            .modal-body, .modal-header h4, .modal-header label { font-weight: bold !important; }
            #dateDifference { float: right; margin-top: 15px; margin-bottom: -15px; margin-right: 15%; color: gray; font-weight: bold; }
            .moveButton, .deleteButton { opacity: 0.3; }
            .moveButton:hover { color: #E87E04; }
            .saveButton:hover { color: green;  cursor: pointer; }
            .updateButton:hover { color: yellow;  cursor: pointer; }
            .deleteButton:hover { color: red;  cursor: pointer; }
            .moveButton:hover, .deleteButton:hover { opacity: 1.0; }
            .hasError { color: red !important; }
            .profile-image-loading { cursor:pointer;margin-top: 101px;width: 100%; height: 100%; margin-left: 25% !important;}
            .hidden {display:none;}
            #profile a {display: table; vertical-align: middle; text-align: center; position: relative;}    
            #profile a {display: table; vertical-align: middle; text-align: center; position: relative;}    
            #profile span {display: none;}  
            #profile a:hover span {position: absolute; right: 40%; top: 40%; display: block; text-align: center; color: red; font-size: 16px; }  
            #profile a:hover span b:hover {background: #000;}
            #profile a:hover span i { font-size: 30px !important; }
            img { border: none; vertical-align: bottom; cursor: auto}
            #uploadTrigger { margin-left: -10px; }
            .activeFile {display: none !important;}
            #status_msg_div { height: 5px; width: 100%; }
            #status_msg { width:100%; margin: 0 auto !important; text-align: center; }
            .error-error{ font-size:15px; padding-top:5px; color:red; font-weight:bold; -webkit-animation-name: blinker; -webkit-animation-duration: 3s; -webkit-animation-timing-function: linear; -webkit-animation-iteration-count: infinite; -moz-animation-name: blinker; -moz-animation-duration: 3s; -moz-animation-timing-function: linear; -moz-animation-iteration-count: infinite; nimation-name: blinker; animation-duration: 3s; animation-timing-function: linear; animation-iteration-count: infinite; }
            @-moz-keyframes blinker { 0% { opacity: 1.0; } 25% { opacity: 1.0; } 50% { opacity: 0.0; } 100% { opacity: 1.0; } }
            @-webkit-keyframes blinker { 0% { opacity: 1.0; } 25% { opacity: 1.0; } 50% { opacity: 0.0; } 100% { opacity: 1.0; } }
            @keyframes blinker { 0% { opacity: 1.0; } 25% { opacity: 1.0; } 50% { opacity: 0.0; } 100% { opacity: 1.0; } }
            input[readonly] { background-color:#fff !important; cursor: default !important;}
            .inbox .inbox-nav { margin: 30px -12px; }
            /*.table-condensed tr td.old { color: red !important; }*/
            /*.table-condensed tr td:nth-child(6), .table-condensed tr td:nth-child(7) { color: #999 !important; }*/
            .select2-container--bootstrap .select2-selection { border-radius: 0px !important; border: none; border-bottom: 2px solid #36C6D3 !important; border-top: none !important; border-left: none !important;border-right: none !important; }
            .select2-container--bootstrap .has-warning { border-radius: 0px !important; border: none; border-bottom: 2px solid #C29D0B !important; border-top: none !important; border-left: none !important;border-right: none !important; }
            .select2-container .select2-choice .select2-arrow { border-left: none ; }
            .select2-selection__rendered { font-weight: 600; }
            .mailBody { border-radius: 0px !important; border: none; border-bottom: 2px solid #36C6D3 !important; border-top: none !important; border-left: none !important;border-right: none !important; }
            .table-bordered > thead > tr > th, .table-bordered > tbody > tr > td { border: 1px solid #e7ecf1 !important; }
            .table-scrollable .dropdown-menu { position: relative !important; }
            .table-scrollable #sample_9 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_5 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_55 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_1 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_11 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_7 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .table-scrollable #sample_77 .dropdown-menu { position: relative !important; margin-top: 30px; margin-left: -103px; }
            .help-block { display: block; color: #6789ab; }
            .ibox { box-shadow: none; margin-bottom: 5px !important; }
            .ibox-content { background: none; }
            .activity-post { border: 1px dashed #e8e8e8; }
            #msg { border-bottom: 1px solid #e8e8e8; }
            #all_timeline_div { border: 1px solid #e8e8e8; border-radius: 5px; padding: 10px; margin-top: 10px; }
            .timeline-item { margin: 0 auto; margin-bottom: 5px; border: 1px solid #e8e8e8; border-radius: 5px; background: #fff; }
            .timeline-item .date { width: 95px; padding-top: 5px; color: #34495E }
            .timeline-item .no-top-border .iconMark { position: absolute; top: -1px; right: 8px; padding: 10px; width: 40px; text-align: center; border-top: 1px solid #e7eaec; border-bottom: 1px solid #e7eaec; border-left: 1px solid #e7eaec; background: #f8f8f8; font-size: 20px; border-top-right-radius: 5px; color: #34495E }
            .no-top-border { width: 87.6% !important; min-height: 95px !important; }
            .avatar { height: 45px; width: 45px; border-radius: 50% !important; border: 2px solid !important; }
            .editCustom { position: absolute !important; top: 5px !important; right: 125px !important; }
            .deleteCustom { position: absolute !important; top: 5px !important; right: 50px !important; }
            ​.loadMore { margin-top: 10px !important; }
            .content { color: #34495E }
            .select2-search, .select2-search--dropdown { display:none }
            .select2-container--bootstrap { display: block; width: 100% !important; }     
            .has-warning .md-checkbox label, .has-warning.md-checkbox label { color: #E87E04; } 
            a.tooltipC { outline:none; }
            a.tooltipC strong { line-height:17px; }
            a.tooltipC:hover { text-decoration:none; }
            a.tooltipC .sTooltip { z-index:9999; display:none; padding:6px 6px; margin-top:-20px; margin-left:5px; max-width:175px; height:auto; line-height:0px; }
            a.tooltipC:hover .sTooltip{ display:inline-block !important; position:absolute; border:2px solid #FFF; width:auto; height:auto; color:#EEE; background:#000; z-index:9999; }
            a.tooltipC .sTooltip { border-radius:5px; -moz-border-radius: 5px; -webkit-border-radius: 5px; -moz-box-shadow: 0px 0px 1px 1px #666; -webkit-box-shadow: 0px 0px 1px 1px #666; box-shadow: 0px 0px 1px 1px #666; opacity: 0.8; }     
            .dropzone { border: none !important; padding: 0px !important; background: white; min-height: 135px !important; }
            .dropzone .dz-preview, .dropzone-previews .dz-preview {
                background: rgba(255,255,255,0.8);
                position: relative;
                display: inline-block;
                margin: 0px 5px;
                vertical-align: top;
                border: 1px solid #acacac;
                padding: 3px;
            }
            .dropzone .dz-preview .dz-details, .dropzone-previews .dz-preview .dz-details {
                width: 120px;
                height: 100px;
                position: relative;
                background: #ebebeb;
                padding: 5px;
                margin-bottom: 22px;
            }
            .dropzone .dz-preview.dz-success .dz-progress, .dropzone-previews .dz-preview.dz-success .dz-progress {display: block;opacity: 1;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=1)";filter: alpha(opacity=1);-webkit-transition: opacity 0.4s ease-in-out;-moz-transition: opacity 0.4s ease-in-out;-o-transition: opacity 0.4s ease-in-out;-ms-transition: opacity 0.4s ease-in-out;transition: opacity 0.4s ease-in-out;}
            .dropzone .dz-preview.dz-success .dz-success-mark, .dropzone-previews .dz-preview.dz-success .dz-success-mark {
                opacity: 1;
                -ms-filter: none;
                filter: none;
                z-index: 10;
            }
            .newCross { right: 0; top: 0; }
            .default-tax-row input { border-bottom: 1px solid #C2CAD4 !important }
            .successInput input { border-bottom: 1px solid #36C6D3 !important }
            .errorInput input { border-bottom: 1px solid #FF0000 !important }
            .default-tax-row .form-group { margin-bottom: 0px !important; }
            .addNew { color: #000 !important; }
            .md-radio label > .cBox { margin-top: 0px; width: 15px; height: 15px; }
            .md-radio label > .cCheck { top: 4px; left: 4px; width: 7px; height: 7px; }
            .dd3-content .md-radio label { padding-left: 15px; }
            .dd-main { background: #3598DC !important; }
            .dd-sub { background: #C49F47 !important; }
            .textLabel { font-weight: bold; width : 92 !important; }
            .accordion-toggle { font-weight: 400; color: #414141; }
            .mailBody { min-height: 350px !important; text-align: left !important; }
            table th:first-child, td:first-child { display: none; }
        </style>
        <link rel="shortcut icon" href="<?php echo base_url(); ?>favicon.png" /> 
    </head>
    <!-- END HEAD -->
        

    <body class="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo page-md pace-done page-sidebar-closed">
        <!-- BEGIN HEADER -->
        <?php include('partials/top_bar.php'); ?>
        <!-- END HEADER -->
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN SIDEBAR -->
            <div class="page-sidebar-wrapper">
                <!-- BEGIN SIDEBAR -->
                <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
                <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
                <div class="page-sidebar navbar-collapse collapse">
                    <!-- BEGIN SIDEBAR MENU -->
                    <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
                    <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
                    <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
                    <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
                    <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
                    <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
                    <?php include('partials/menu_bar.php'); ?>
                    <!-- END SIDEBAR MENU -->
                </div>
                <!-- END SIDEBAR -->
            </div>
            <!-- END SIDEBAR -->
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper" style="margin-top: -10px;">
                <!-- BEGIN CONTENT BODY -->
                <div  id="js-grid-juicy-projects" style="display: none"></div>
                <div class="page-content">
                    <!-- BEGIN PAGE BASE CONTENT -->                    
                    <div class="row">
                        <div class="inbox">
                            <div class="col-md-2">
                                <div class="inbox-sidebar">
                                    <button href="javascript:;" data-title="Settings" class="btn red compose-btn btn-block"> <i class="icon-settings" style="margin-left: -5px; margin-right: 0px;"></i> Settings </button>
                                    <ul class="inbox-nav">
                                        <li class="active business" onclick="activateHorizontalMenu('business');">
                                            <a href="javascript:;" data-type="inbox" data-title="Inbox"><i class="icon-briefcase" style="color: #2F353B;"></i> Business </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="financial" onclick="activateHorizontalMenu('financial');">
                                            <a href="javascript:;" data-type="important" data-title="Inbox"><i class="fa fa-line-chart" style="color: #1BA39C"></i> Financial </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="BankCash" onclick="activateHorizontalMenu('Bank Cash');">
                                            <a href="javascript:;" data-type="important" data-title="Inbox"><i class="fa fa-building" style="color: green"></i> Bank & Cash </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="Invoice" onclick="activateHorizontalMenu('Invoice');">
                                            <a href="javascript:;" data-type="sent" data-title="Sent"><i class="icon-note" style="color: #26C281;"></i> Invoice </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="Product" onclick="activateHorizontalMenu('Product');">
                                            <a href="javascript:;" data-type="sent" data-title="Sent"><i class="icon-handbag" style="color: #D05454;"></i> Product Enrollment </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="tax" onclick="activateHorizontalMenu('tax');">
                                            <a href="javascript:;" data-type="sent" data-title="Sent"><i class="fa fa-tags" style="color: #E87E04"></i> Tax </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="IncomeExpense" onclick="activateHorizontalMenu('Income Expense');">
                                            <a href="javascript:;" data-type="sent" data-title="Sent"><i class="fa fa-exchange" style="color: red"></i> <span style="font-size: 13.5px;">Income / Expense</span> </a>
                                        </li>
                                        <li class="divider"></li>
                                        <li class="EmailTemplate" onclick="activateHorizontalMenu('Email Template');">
                                            <a href="javascript:;" data-type="sent" data-title="Sent"><i class="icon-envelope-open" style="color: #000"></i> Email Templates </a>
                                        </li>
                                        <li class="divider"></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-10">
                                <div class="inbox-body profile-content">
                                    <div class="caption caption-md">
                                        <i class="icon-globe theme-font hide"></i>
                                        <span class="caption-subject font-blue-madison bold"><span id="tabTitle">Business Settings</span></span>
                                    </div>
                                    <div class="inbox-content" style="padding-top: 30px;">
                                        <div id="business">
                                            <div class="col-md-12">
                                                <div id="purchaseLogo" class="col-md-4 newDrop" style="display: <?php if($basicSettings[0]->defaultLogo == '' || $basicSettings[0]->defaultLogo != '' && $basicSettings[0]->defaultLogo == "defaultLogo.png") { echo "block"; } else { echo "none"; } ?>">
                                                    <form action="<?php echo base_url(); ?>product/file_upload/" class="dropzone dropzone-file-area">                                                                
                                                        <input id="identification" style="display:none;" name="identification" value="baseLogo" type="hiddin"/>
                                                        <div class="uploadFirst uploadFirstFile">                                                         
                                                            <img class="wave-logo-uploader-dropzone__logo__dropzone__icon" src="<?php echo base_url(); ?>assets/uploadedFile/system/63cc4065e830c9f2e76f19ff398dc73d.svg">
                                                            <div class="wave-logo-uploader-dropzone__logo___dropzone__text"><span class="wv-text wv-text--body"><span class="wave-logo-uploader-dropzone__logo__dropzone__browse-link">Browse</span><span> </span><span> your logo here.</span></span></div>
                                                            <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint"><span>Maximum 500KB in size.</span><br ><span>JPG, PNG, or GIF formats.</span></span></div>
                                                            <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint">Recommended size: 106 x 17 pixels.</span></div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div id="purchaseLogoDiv" class="col-md-offset-1 col-md-2 pull-right" style="margin-bottom: 25px; display: <?php if($basicSettings[0]->defaultLogo != '' && $basicSettings[0]->defaultLogo != "defaultLogo.png") { echo "block"; } else { echo "none"; } ?>">
                                                    <div class="uploadedLogo" >
                                                        <form id="image-form" name="image" enctype="multipart/form-data">
                                                            <div id="profile" class="profile-userpic">
                                                                <a href="javascript:void(0);">
                                                                    <?php
                                                                        if($basicSettings[0]->defaultLogo != "") {
                                                                            if (file_exists('./assets/layouts/layout4/img/'.$basicSettings[0]->defaultLogo)) {
                                                                                echo '<img id="profile-img-system" src="'.base_url().'assets/layouts/layout4/img/'.$basicSettings[0]->defaultLogo.'" class="img-circle img-responsive profile-image" alt="" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                            } else {
                                                                                echo '<img id="profile-img-system" alt="" class="img-circle img-responsive profile-image" src="'.base_url().'assets/uploadedFile/profilePicture/photo3.jpg" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                            }
                                                                        } else {
                                                                            echo '<img id="profile-img-system" alt="" class="img-circle img-responsive profile-image" src="'.base_url().'assets/uploadedFile/profilePicture/photo3.jpg" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                        }
                                                                    ?>
                                                                    <span id="uploadTrigger" onclick="removeLogo('baseLogo', 'defaultLogo')"><i class="fa fa-times newCross"></i></span>
                                                                    <label id="logoName" style="display:none;"><?php echo $basicSettings[0]->bDefaultLogo; ?></label>
                                                                </a>
                                                                <div id="status_msg_div"><div id="status_msg" class="error-error" style="font-size: 12px;"></div></div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                            <form id="basicSettings" role="form" action="#">
                                                <div class="col-md-4">
                                                    <div id="companyNameDiv" class="form-group form-md-line-input form-md-floating-label">
                                                        <div class="input-icon">
                                                            <input id="companyName" class="form-control" type="text" name="companyName" value="<?php echo $basicSettings[0]->companyName; ?>">
                                                            <label for="form_control_1">Company Name <span aria-required="true" class="required"> * </span></label>
                                                            <span class="help-block">Company name here...</span>
                                                            <i class="icon-wallet"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div id="phoneDiv" class="form-group form-md-line-input form-md-floating-label">
                                                        <div class="input-icon">
                                                            <input id="phone" class="form-control" type="text" name="phone" value="<?php echo $basicSettings[0]->phone; ?>">
                                                            <label for="form_control_1">Phone</label>
                                                            <span class="help-block">Company phone here...</span>
                                                            <i class="icon-call-end"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div id="mobileDiv" class="form-group form-md-line-input form-md-floating-label">
                                                        <div class="input-icon">
                                                            <input id="mobile" class="form-control" type="text" name="mobile" value="<?php echo $basicSettings[0]->mobile; ?>">
                                                            <label for="form_control_1">Mobile</label>
                                                            <span class="help-block">Company mobile here...</span>
                                                            <i class="icon-screen-smartphone"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div id="address1Div" class="form-group form-md-line-input form-md-floating-label" style="margin-top: 25px">
                                                        <div class="input-icon">
                                                            <textarea id="address1" class="form-control" name="address1" type="text"><?php echo $basicSettings[0]->addressLine1; ?></textarea>
                                                            <label for="form_control_1">Address Line 1 <span aria-required="true" class="required"> * </span></label>
                                                            <span class="help-block">Company address here...</span>
                                                            <i class="icon-pointer"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div id="address2Div" class="form-group form-md-line-input form-md-floating-label" style="margin-top: 25px">
                                                        <div class="input-icon">
                                                            <textarea id="address2" class="form-control" name="address2" type="text"><?php echo $basicSettings[0]->addressLine2; ?></textarea>
                                                            <label for="form_control_1">Address Line 2</label>
                                                            <span class="help-block">Company address here...</span>
                                                            <i class="icon-pointer"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div id="emailDiv" class="form-group form-md-line-input form-md-floating-label" style="margin-top: 25px">
                                                        <div class="input-icon">
                                                            <input id="email" class="form-control" name="email" value="<?php echo $basicSettings[0]->email; ?>" type="text">
                                                            <label for="form_control_1">Email<span aria-required="true" class="required"> * </span></label>
                                                            <span class="help-block">Company email here...</span>
                                                            <i class="icon-envelope"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div id="webDiv" class="form-group form-md-line-input form-md-floating-label" style="margin-top: 25px">
                                                        <div class="input-icon">
                                                            <input name="webUrl" class="form-control" name="webUrl" value="<?php echo $basicSettings[0]->web; ?>" type="text">
                                                            <label for="form_control_1">Web Address</label>
                                                            <span class="help-block">Company web address here...</span>
                                                            <i class="icon-link"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 margiv-top-10"><br/>
                                                    <input id="defaultLogo" type="hidden" name="defaultLogo" value="<?php echo $basicSettings[0]->defaultLogo; ?>" />
                                                    <a id="basicSettingsSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                </div>
                                            </form>
                                        </div>
                                        <div id="financial" style="display: none;">
                                            <form id="financialSettings" role="form" action="#">
                                                <div class="col-md-6">
                                                    <div class="col-sm-12">
                                                        <select id="dateFormate" title="" aria-hidden="true" id="date_format" name="date_format" class="form-control">
                                                            <option value="F d, Y">April 21, 2016</option>
                                                            <option value="Y-m-d">2016-04-21</option>
                                                            <option value="d/m/Y">21/04/2016</option>
                                                            <option value="d F, Y">21 March, 2016</option>
                                                        </select>
                                                        <span class="help-block">The format you select here will be reflected on all reports.</span>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="col-sm-12">
                                                        <select id="currencyFormate" title="" aria-hidden="true" tabindex="-1" id="currency" name="currency" class="form-control">
                                                            <option value="1,234.56">1,234.56</option>
                                                            <option value="1234.56">1234.56</option>
                                                            <option value="1.234,56">1.234,56</option>
                                                            <option value="1234,56">1234,56</option>
                                                        </select>
                                                        <span class="help-block">The format you select here will be reflected on all reports.</span>
                                                    </div>
                                                </div>                                                
                                                <div class="col-md-3">
                                                    <br/>
                                                    <label class="control-label col-md-12">Fiscal year end <span aria-required="true" class="required"> * </span></label>
                                                    <div class="col-md-12">
                                                        <div class="input-group input-midium date date-picker" data-date="<?php if($basicSettings[0]->fiscalYearEnd != '') { echo $basicSettings[0]->fiscalYearEnd; } else { echo '12/31';} ?>" data-date-format="mm/dd" data-date-viewmode="years" data-date-minviewmode="months">
                                                            <input type="text" class="form-control fiscal" name="fiscalYearEnd" value="<?php if($basicSettings[0]->fiscalYearEnd != '') { echo $basicSettings[0]->fiscalYearEnd; } else { echo '12/31';} ?>" readonly>
                                                            <span class="input-group-btn">
                                                                <button class="btn default" type="button">
                                                                    <i class="fa fa-calendar"></i>
                                                                </button>
                                                            </span>
                                                        </div>
                                                        <!-- /input-group -->
                                                        <span class="help-block"> MM/DD (For example, enter 12/31 for December 31) </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <br/>
                                                    <div class="col-sm-12" style="margin-top: -5px; width: 115%; margin-left: -15px !important;">
                                                        <label for="form_control_1" style="color: gray">Local Currency Code</label>
                                                        <select id="currencyLocal" title="" aria-hidden="true" tabindex="-1" name="currencyLocal" class="form-control">
                                                            <option value="Albania - Lek">Albania - Lek</option>
                                                            <option value="Afghanistan - ؋">Afghanistan - ؋</option>
                                                            <option value="Argentina - $">Argentina - $</option>
                                                            <option value="Aruba - ƒ">Aruba - ƒ</option>
                                                            <option value="Australia - $">Australia - $</option>
                                                            <option value="Azerbaijan - ман">Azerbaijan - ман</option>
                                                            <option value="Bahamas - $">Bahamas - $</option>
                                                            <option value="Barbados - $">Barbados - $</option>
                                                            <option value="Bangladesh - ৳">Bangladesh - ৳</option>
                                                            <option value="Belarus - p.">Belarus - p.</option>
                                                            <option value="Belize - BZ$">Belize - BZ$</option>
                                                            <option value="Bermuda - $">Bermuda - $</option>
                                                            <option value="Bolivia - $b">Bolivia - $b</option>
                                                            <option value="Bosnia and Herzegovina - KM">Bosnia and Herzegovina - KM</option>
                                                            <option value="Botswana - P">Botswana - P</option>
                                                            <option value="Bulgaria - лв">Bulgaria - лв</option>
                                                            <option value="Brazil - R$">Brazil - R$</option>
                                                            <option value="Brunei - $">Brunei - $</option>
                                                            <option value="Cambodia - ៛">Cambodia - ៛</option>
                                                            <option value="Belarus - p.">Belarus - p.</option>
                                                            <option value="Canada - $">Canada - $</option>
                                                            <option value="Cayman Islands - $">Cayman Islands - $</option>
                                                            <option value="Chile - $">Chile - $</option>
                                                            <option value="China - ¥">China - ¥</option>
                                                            <option value="Colombia - $">Colombia - $</option>
                                                            <option value="Costa Rica - ₡">Costa Rica - ₡</option>
                                                            <option value="Croatia - kn">Croatia - kn</option>
                                                            <option value="Cuba - ₱">Cuba - ₱</option>
                                                            <option value="Czech Republic -Kč">Czech Republic - Kč</option>
                                                            <option value="Denmark - kr">Denmark - kr</option>
                                                            <option value="Dominican Republic - RD$">Dominican Republic - RD$</option>
                                                            <option value="East Caribbean - $">East Caribbean - $</option>
                                                            <option value="Egypt - £">Egypt - £</option>
                                                            <option value="El Salvador - $">El Salvador - $</option>
                                                            <option value="Euro Member - €">Euro Member - €</option>
                                                            <option value="Falkland Islands - £">Falkland Islands - £</option>
                                                            <option value="Fiji - $">Fiji - $</option>
                                                            <option value="Ghana - ¢">Ghana - ¢</option>
                                                            <option value="Gibraltar - £">Gibraltar - £</option>
                                                            <option value="Guatemala - Q">Guatemala - Q</option>
                                                            <option value="Guernsey - £">Guernsey - £</option>
                                                            <option value="Guyana - $">Guyana - $</option>
                                                            <option value="Honduras - L">Honduras - L</option>
                                                            <option value="Hong Kong - $">Hong Kong - $</option>
                                                            <option value="Hungary - Ft">Hungary - Ft</option>
                                                            <option value="Iceland - kr">Iceland - kr</option>
                                                            <option value="India - ₹">India - ₹</option>
                                                            <option value="Indonesia - Rp">Indonesia - Rp</option>
                                                            <option value="Iran - &#65020;">Iran - &#65020;</option>
                                                            <option value="Isle of Man - £">Isle of Man - £</option>
                                                            <option value="Israel - ₪">Israel - ₪</option>
                                                            <option value="Jamaica - J$">Jamaica - J$</option>
                                                            <option value="Japan - ¥">Japan - ¥</option>
                                                            <option value="Jersey - £">Jersey - £</option>
                                                            <option value="Kazakhstan - лв">Kazakhstan - лв</option>
                                                            <option value="Korea (North) -₩">Korea (North) - ₩</option>
                                                            <option value="Korea (South) - ₩">Korea (South) - ₩</option>
                                                            <option value="Kyrgyzstan - лв">Kyrgyzstan - лв</option>
                                                            <option value="Laos - ₭">Laos - ₭</option>
                                                            <option value="Lebanon - £">Lebanon - £</option>
                                                            <option value="$">Liberia - $</option>
                                                            <option value="Liberia - ден">Macedonia - ден</option>
                                                            <option value="Malaysia - Rm">Malaysia - Rm</option>
                                                            <option value="Mauritius - Rs">Mauritius - Rs</option>
                                                            <option value="Mexico - $">Mexico - $</option>
                                                            <option value="Mongolia - ₮">Mongolia - ₮</option>
                                                            <option value="Mozambique - MT">Mozambique - MT</option>
                                                            <option value="Namibia - $">Namibia - $</option>
                                                            <option value="Nepal - $">Nepal - $</option>
                                                            <option value="Netherlands - ƒ">Netherlands - ƒ</option>
                                                            <option value="New Zealand - $">New Zealand - $</option>
                                                            <option value="Nicaragua - C$">Nicaragua - C$</option>
                                                            <option value="Nigeria - ₦">Nigeria - ₦</option>
                                                            <option value="Norway - kr">Norway - kr</option>
                                                            <option value="Oman - &#65020;">Oman - &#65020;</option>
                                                            <option value="Pakistan - Rs">Pakistan - Rs</option>
                                                            <option value="Panama - B/.">Panama - B/.</option>
                                                            <option value="Paraguay - Gs">Paraguay - Gs</option>
                                                            <option value="Peru - S/.">Peru - S/.</option>
                                                            <option value="Philippines - ₱">Philippines - ₱</option>
                                                            <option value="Poland - zł">Poland - zł</option>
                                                            <option value="Qatar - &#65020;">Qatar - &#65020;</option>
                                                            <option value="Romania - lei">Romania - lei</option>
                                                            <option value="Russia - руб">Russia - руб</option>
                                                            <option value="Saint Helena - £">Saint Helena - £</option>
                                                            <option value="Saudi Arabia - &#65020;">Saudi Arabia - &#65020;</option>
                                                            <option value="Serbia - Дин.">Serbia - Дин.</option>
                                                            <option value="Seychelles - Rs">Seychelles - Rs</option>
                                                            <option value="Singapore - $">Singapore - $</option>
                                                            <option value="Solomon Islands - $">Solomon Islands - $</option>
                                                            <option value="Somalia - S">Somalia - S</option>
                                                            <option value="South Africa - R">South Africa - R</option>
                                                            <option value="Sri Lanka - Rs">Sri Lanka - Rs</option>
                                                            <option value="Sweden - kr">Sweden - kr</option>
                                                            <option value="Switzerland - CHF">Switzerland - CHF</option>
                                                            <option value="$Suriname - ">Suriname - $</option>
                                                            <option value="Syria - £">Syria - £</option>
                                                            <option value="Syria -NT$">Taiwan - NT$</option>
                                                            <option value="Thailand - ฿">Thailand - ฿</option>
                                                            <option value="Trinidad and Tobago - TT$">Trinidad and Tobago - TT$</option>
                                                            <option value="Turkey - &#8378;">Turkey - &#8378;</option>
                                                            <option value="Tuvalu - $">Tuvalu - $</option>
                                                            <option value="Ukraine - ₴">Ukraine - ₴</option>
                                                            <option value="United Kingdom - £">United Kingdom - £</option>
                                                            <option value="United States - $">United States - $</option>
                                                            <option value="Uruguay - $U">Uruguay - $U</option>
                                                            <option value="Uzbekistan - лв">Uzbekistan - лв</option>
                                                            <option value="Venezuela - Bs">Venezuela - Bs</option>
                                                            <option value="Viet Nam - ₫">Viet Nam - ₫</option>
                                                            <option value="Yemen - &#65020;">Yemen - &#65020;</option>
                                                            <option value="Zimbabwe - Z$">Zimbabwe - Z$</option>
                                                        </select>
                                                        <span class="help-block">Please select local currency</span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <br/>
                                                    <div class="col-sm-12" style="margin-top: -5px; width: 115%; margin-left: -15px !important;">
                                                        <label for="form_control_1" style="color: gray">Foreign Currency Code</label>
                                                        <select id="currencyForeign" title="" aria-hidden="true" tabindex="-1" name="currencyForeign" class="form-control">
                                                            <option value="Albania - Lek">Albania - Lek</option>
                                                            <option value="Afghanistan - ؋">Afghanistan - ؋</option>
                                                            <option value="Argentina - $">Argentina - $</option>
                                                            <option value="Aruba - ƒ">Aruba - ƒ</option>
                                                            <option value="Australia - $">Australia - $</option>
                                                            <option value="Azerbaijan - ман">Azerbaijan - ман</option>
                                                            <option value="Bahamas - $">Bahamas - $</option>
                                                            <option value="Barbados - $">Barbados - $</option>
                                                            <option value="Bangladesh - ৳">Bangladesh - ৳</option>
                                                            <option value="Belarus - p.">Belarus - p.</option>
                                                            <option value="Belize - BZ$">Belize - BZ$</option>
                                                            <option value="Bermuda - $">Bermuda - $</option>
                                                            <option value="Bolivia - $b">Bolivia - $b</option>
                                                            <option value="Bosnia and Herzegovina - KM">Bosnia and Herzegovina - KM</option>
                                                            <option value="Botswana - P">Botswana - P</option>
                                                            <option value="Bulgaria - лв">Bulgaria - лв</option>
                                                            <option value="Brazil - R$">Brazil - R$</option>
                                                            <option value="Brunei - $">Brunei - $</option>
                                                            <option value="Cambodia - ៛">Cambodia - ៛</option>
                                                            <option value="Belarus - p.">Belarus - p.</option>
                                                            <option value="Canada - $">Canada - $</option>
                                                            <option value="Cayman Islands - $">Cayman Islands - $</option>
                                                            <option value="Chile - $">Chile - $</option>
                                                            <option value="China - ¥">China - ¥</option>
                                                            <option value="Colombia - $">Colombia - $</option>
                                                            <option value="Costa Rica - ₡">Costa Rica - ₡</option>
                                                            <option value="Croatia - kn">Croatia - kn</option>
                                                            <option value="Cuba - ₱">Cuba - ₱</option>
                                                            <option value="Czech Republic -Kč">Czech Republic - Kč</option>
                                                            <option value="Denmark - kr">Denmark - kr</option>
                                                            <option value="Dominican Republic - RD$">Dominican Republic - RD$</option>
                                                            <option value="East Caribbean - $">East Caribbean - $</option>
                                                            <option value="Egypt - £">Egypt - £</option>
                                                            <option value="El Salvador - $">El Salvador - $</option>
                                                            <option value="Euro Member - €">Euro Member - €</option>
                                                            <option value="Falkland Islands - £">Falkland Islands - £</option>
                                                            <option value="Fiji - $">Fiji - $</option>
                                                            <option value="Ghana - ¢">Ghana - ¢</option>
                                                            <option value="Gibraltar - £">Gibraltar - £</option>
                                                            <option value="Guatemala - Q">Guatemala - Q</option>
                                                            <option value="Guernsey - £">Guernsey - £</option>
                                                            <option value="Guyana - $">Guyana - $</option>
                                                            <option value="Honduras - L">Honduras - L</option>
                                                            <option value="Hong Kong - $">Hong Kong - $</option>
                                                            <option value="Hungary - Ft">Hungary - Ft</option>
                                                            <option value="Iceland - kr">Iceland - kr</option>
                                                            <option value="India - ₹">India - ₹</option>
                                                            <option value="Indonesia - Rp">Indonesia - Rp</option>
                                                            <option value="Iran - &#65020;">Iran - &#65020;</option>
                                                            <option value="Isle of Man - £">Isle of Man - £</option>
                                                            <option value="Israel - ₪">Israel - ₪</option>
                                                            <option value="Jamaica - J$">Jamaica - J$</option>
                                                            <option value="Japan - ¥">Japan - ¥</option>
                                                            <option value="Jersey - £">Jersey - £</option>
                                                            <option value="Kazakhstan - лв">Kazakhstan - лв</option>
                                                            <option value="Korea (North) -₩">Korea (North) - ₩</option>
                                                            <option value="Korea (South) - ₩">Korea (South) - ₩</option>
                                                            <option value="Kyrgyzstan - лв">Kyrgyzstan - лв</option>
                                                            <option value="Laos - ₭">Laos - ₭</option>
                                                            <option value="Lebanon - £">Lebanon - £</option>
                                                            <option value="$">Liberia - $</option>
                                                            <option value="Liberia - ден">Macedonia - ден</option>
                                                            <option value="Malaysia - Rm">Malaysia - Rm</option>
                                                            <option value="Mauritius - Rs">Mauritius - Rs</option>
                                                            <option value="Mexico - $">Mexico - $</option>
                                                            <option value="Mongolia - ₮">Mongolia - ₮</option>
                                                            <option value="Mozambique - MT">Mozambique - MT</option>
                                                            <option value="Namibia - $">Namibia - $</option>
                                                            <option value="Nepal - $">Nepal - $</option>
                                                            <option value="Netherlands - ƒ">Netherlands - ƒ</option>
                                                            <option value="New Zealand - $">New Zealand - $</option>
                                                            <option value="Nicaragua - C$">Nicaragua - C$</option>
                                                            <option value="Nigeria - ₦">Nigeria - ₦</option>
                                                            <option value="Norway - kr">Norway - kr</option>
                                                            <option value="Oman - &#65020;">Oman - &#65020;</option>
                                                            <option value="Pakistan - Rs">Pakistan - Rs</option>
                                                            <option value="Panama - B/.">Panama - B/.</option>
                                                            <option value="Paraguay - Gs">Paraguay - Gs</option>
                                                            <option value="Peru - S/.">Peru - S/.</option>
                                                            <option value="Philippines - ₱">Philippines - ₱</option>
                                                            <option value="Poland - zł">Poland - zł</option>
                                                            <option value="Qatar - &#65020;">Qatar - &#65020;</option>
                                                            <option value="Romania - lei">Romania - lei</option>
                                                            <option value="Russia - руб">Russia - руб</option>
                                                            <option value="Saint Helena - £">Saint Helena - £</option>
                                                            <option value="Saudi Arabia - &#65020;">Saudi Arabia - &#65020;</option>
                                                            <option value="Serbia - Дин.">Serbia - Дин.</option>
                                                            <option value="Seychelles - Rs">Seychelles - Rs</option>
                                                            <option value="Singapore - $">Singapore - $</option>
                                                            <option value="Solomon Islands - $">Solomon Islands - $</option>
                                                            <option value="Somalia - S">Somalia - S</option>
                                                            <option value="South Africa - R">South Africa - R</option>
                                                            <option value="Sri Lanka - Rs">Sri Lanka - Rs</option>
                                                            <option value="Sweden - kr">Sweden - kr</option>
                                                            <option value="Switzerland - CHF">Switzerland - CHF</option>
                                                            <option value="$Suriname - ">Suriname - $</option>
                                                            <option value="Syria - £">Syria - £</option>
                                                            <option value="Syria -NT$">Taiwan - NT$</option>
                                                            <option value="Thailand - ฿">Thailand - ฿</option>
                                                            <option value="Trinidad and Tobago - TT$">Trinidad and Tobago - TT$</option>
                                                            <option value="Turkey - &#8378;">Turkey - &#8378;</option>
                                                            <option value="Tuvalu - $">Tuvalu - $</option>
                                                            <option value="Ukraine - ₴">Ukraine - ₴</option>
                                                            <option value="United Kingdom - £">United Kingdom - £</option>
                                                            <option value="United States - $">United States - $</option>
                                                            <option value="Uruguay - $U">Uruguay - $U</option>
                                                            <option value="Uzbekistan - лв">Uzbekistan - лв</option>
                                                            <option value="Venezuela - Bs">Venezuela - Bs</option>
                                                            <option value="Viet Nam - ₫">Viet Nam - ₫</option>
                                                            <option value="Yemen - &#65020;">Yemen - &#65020;</option>
                                                            <option value="Zimbabwe - Z$">Zimbabwe - Z$</option>
                                                        </select>
                                                        <span class="help-block">Please select foreign currency</span>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <br/>
                                                    <div id="currencyRateDiv" class="form-group form-md-line-input form-md-floating-label">
                                                        <div class="input-icon">
                                                            <input id="currencyRate" class="form-control bold numericFloat" name="currencyRate" value="<?php echo $basicSettings[0]->foreignCurrencyRate ?>" type="text">
                                                            <label for="form_control_1">Foreign Currency Rate</label>
                                                            <span class="help-block">Add foreign currency rate here.</span>
                                                            <i class="fa fa-dollar"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <div class="col-md-12">
                                                    <div id="isInstallmentDiv" class="col-md-4" style="margin-top: 45px;"> 
                                                        <div class="md-checkbox">
                                                            <input id="checkbox4" <?php if($basicSettings[0]->isInstallment == 1){ echo 'checked=""'; } ?> name="isInstallment" class="md-check" type="checkbox">
                                                            <label for="checkbox4">
                                                                <span></span>
                                                                <span class="check"></span>
                                                                <span class="box"></span> <b>Installment</b> 
                                                            </label>
                                                        </div>  
                                                    </div>
                                                    <div id="installmentPeriod" class="col-md-4" style="margin-top: 25px; display: none"> 
                                                        <div id="installmentPeriodDiv" class="form-group form-md-line-input form-md-floating-label">
                                                            <div class="input-icon">
                                                                <input id="installmentTime" class="form-control bold numericInteger" name="installmentTime" value="<?php echo $basicSettings[0]->installmentSchedule; ?>" type="text">
                                                                <label for="form_control_1">Number of scheduled <span aria-required="true" class="required"> * </span></label>
                                                                <span class="help-block">Default installment period here.</span>
                                                                <i class="icon-clock"></i>
                                                            </div>
                                                        </div>        
                                                    </div>
                                                    <div id="radioPeriod" class="col-md-4" style="margin-top: 25px; display: none"> 
                                                        <div class="md-radio-inline" style="margin-top: 15px;">
                                                            <div class="md-radio">
                                                                <input id="radio2" name="radio2" value="Monthly" <?php if($basicSettings[0]->installmentPeriod == "Monthly") echo 'checked=""'; ?> class="md-radiobtn" type="radio">
                                                                <label for="radio2">
                                                                    <span></span>
                                                                    <span class="check"></span>
                                                                    <span class="box"></span> Monthly </label>
                                                            </div>
                                                            <div class="md-radio">
                                                                <input id="radio3" name="radio2" value="Weekly" <?php if($basicSettings[0]->installmentPeriod == "Weekly") echo 'checked=""'; ?> class="md-radiobtn" type="radio">
                                                                <label for="radio3">
                                                                    <span></span>
                                                                    <span class="check"></span>
                                                                    <span class="box"></span> Weekly </label>
                                                            </div>
                                                            <div class="md-radio">
                                                                <input id="radio4" name="radio2" value="Daily" <?php if($basicSettings[0]->installmentPeriod == "Daily") echo 'checked=""'; ?> class="md-radiobtn" type="radio">
                                                                <label for="radio4">
                                                                    <span></span>
                                                                    <span class="check"></span>
                                                                    <span class="box"></span> Daily </label>
                                                            </div>
                                                        </div>       
                                                    </div>
                                                </div> -->
                                                <div class="col-md-12 margiv-top-10"><br/>
                                                    <input id="isInstallmentCheck" value="<?php echo $basicSettings[0]->isInstallment; ?>" type="hidden" name="isInstallmentCheck" />
                                                    <a id="financialSettingsSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                </div>
                                            </form>
                                        </div>
                                        <div id="BankCash" style="display: none;"> 
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row addBankCash" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="caption caption-md">
                                                                <i class="icon-bar-chart theme-font hide"></i>
                                                                <span class="caption-subject font-blue-madison bold" style="color: green !important">Add New Account</span>
                                                                <span class="caption-helper hide">weekly stats...</span>
                                                            </div>
                                                            <div class="portlet-title" style="margin-top: -25px">
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm BankCashListVisible"><i class="fa fa-list"></i> Account List </a>
                                                                    <a href="javascript:;" class="btn default btn-sm BankCashListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div id="portlet-body" class="portlet-body" style="min-height: 450px;">
                                                                    <form id="addBankCash" role="form" action="#">
                                                                        <div class="col-md-12" style="margin-top: 15px;">
                                                                            <div id="bankAccountTitleDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="bankAccountTitle" class="form-control" name="bankAccountTitle" type="text" value="">
                                                                                    <label for="form_control_1">Account Title <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Account title here...</span>
                                                                                    <i class="icon-paper-clip"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12" style="margin-top: 25px;">
                                                                            <div id="bankInitialDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="bankInitial" class="form-control numericFloat" name="bankInitial" value="" type="text">
                                                                                    <label for="form_control_1">Initial Balance <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Initial balance here.</span>
                                                                                    <i class="fa fa-adjust"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12" style="margin-top: 25px;">
                                                                            <div id="bankDescriptionDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="bankDescription" class="form-control" name="bankDescription" value="" type="text">
                                                                                    <label for="form_control_1">Description</label>
                                                                                    <span class="help-block"></span>
                                                                                    <i class="icon-book-open"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6 margiv-top-10"><br/>
                                                                            <input id="bankSystemCode" name="bankSystemCode" type="hidden" value="0" />
                                                                            <input id="bankEditId" name="bankEditId" type="hidden" value="0" />
                                                                            <a id="bankSave" href="javascript:;" class="btn btn-primary"><i class="fa fa-save"></i> Save </a>
                                                                            <a id="bankSaveNew" href="javascript:;" class="btn green"><i class="fa fa-newspaper-o"></i> Save & New </a>
                                                                            <a href="javascript:;" class="btn default BankCashListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row BankCashList">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm BankCashAddVisible"><i class="fa fa-plus"></i> Add New Account </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: green"></i><span class="caption-subject font-blue-madison bold" style="color: green !important">Account List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_9', 'Bank Account List')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_9', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_9_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Account Title</label>
                                                                                <label><input type="checkbox" checked data-column="3">Description</label>
                                                                                <label><input type="checkbox" checked data-column="4">Account Balance</label>
                                                                                <label><input type="checkbox" checked data-column="5">Initial Balance</label>
                                                                                <label><input type="checkbox" data-column="6">Created By</label>
                                                                                <label><input type="checkbox" data-column="7">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body BankCashListTable">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_9">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Account Title
                                                                                </th>
                                                                                <th>
                                                                                    Description
                                                                                </th>
                                                                                <th>
                                                                                    Account Balance
                                                                                </th>
                                                                                <th>
                                                                                    Initial Balance
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($listBankAccount as $bankAccountList) { ?>
                                                                                <tr id="bank<?php echo $bankAccountList->id; ?>">
                                                                                    <td>
                                                                                        <div class="btn-group" style="margin: -5px">
                                                                                            <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                                <i class="fa fa-angle-down"></i>
                                                                                            </button>
                                                                                            <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                                <li>
                                                                                                    <a onclick="editBankData('<?php echo $bankAccountList->id; ?>')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>
                                                                                                </li>
                                                                                                <!-- <li>
                                                                                                    <a onclick="duplicateBankData('<?php echo $bankAccountList->id; ?>')" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>
                                                                                                </li> -->
                                                                                            </ul>
                                                                                        </div>                                                          
                                                                                    </td>
                                                                                    <td>
                                                                                        <span id="spanBankTitle<?php echo $bankAccountList->id; ?>"><?php echo $bankAccountList->title; ?></span>
                                                                                        <span id="spanBankDescription<?php echo $bankAccountList->id; ?>" style="display: none"><?php echo $bankAccountList->description; ?></span>
                                                                                        <span id="spanBankBalance<?php echo $bankAccountList->id; ?>" style="display: none"><?php echo $bankAccountList->balance; ?></span>
                                                                                        <span id="spanBankId<?php echo $bankAccountList->id; ?>" style="display: none"><?php echo $bankAccountList->id; ?></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <?php echo $bankAccountList->description; ?>
                                                                                    </td>
                                                                                    <td>
                                                                                        <?php
                                                                                            $invoiceIncome = $this->data_model->columnSum("adjustAmount", array("bankId" => $bankAccountList->id, "type" => "Income", 'status' => 1), "list_payment");
                                                                                            $receiptIncome = $this->data_model->columnSum("amount", array("docType" => "Transaction", "account" => $bankAccountList->id, "type" => "Income", 'status' => 1), "list_transaction");
                                                                                            $invoiceExpense = $this->data_model->columnSum("adjustAmount", array("bankId" => $bankAccountList->id, "type" => "Expense", 'status' => 1), "list_payment");
                                                                                            $receiptExpense = $this->data_model->columnSum("amount", array("docType" => "Transaction", "account" => $bankAccountList->id, "type" => "Expense", 'status' => 1), "list_transaction");
                                                                                            $calculation = ($invoiceIncome[0]->adjustAmount-$invoiceExpense[0]->adjustAmount+$receiptIncome[0]->amount-$receiptExpense[0]->amount);
                                                                                        ?>
                                                                                        <?php echo number_format($bankAccountList->balance+$calculation, 2); ?>
                                                                                    </td>
                                                                                    <td>
                                                                                        <?php echo number_format($bankAccountList->balance, 2); ?>
                                                                                    </td>
                                                                                    <td>
                                                                                        <?php $team = $this->data_model->get_specific_column("name", array("id" => $bankAccountList->createdBy), "list_team"); echo $team[0]->name; ?>
                                                                                    </td>
                                                                                    <td>
                                                                                        <?php echo $bankAccountList->createdDateTime; ?>
                                                                                    </td>
                                                                                    <td style="display: none;">
                                                                                        <div class="col-md-12 col-sm-12">
                                                                                            <div class="portlet">
                                                                                                <div class="portlet-body" id="chats">                                                                           
                                                                                                    <div class="ibox float-e-margins ui-sortable">
                                                                                                        <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                            <div id="sysfrm_ajaxrender">
                                                                                                            <section class="activity-post mb-xlg">
                                                                                                                <form id="marking-form" method="get" action="/">
                                                                                                                    <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                    <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                    <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                                </form>
                                                                                                                <div class="compose-box-footer">
                                                                                                                    <ul class="compose-toolbar">
                                                                                                                        <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                        <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                        <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                        <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                        <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                        <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                        <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                        <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                        <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                        <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                    </ul>
                                                                                                                    <ul class="compose-btn">
                                                                                                                        <li>
                                                                                                                            <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                                </section>
                                                                                                                <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                    <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                        <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                            <div class="row">
                                                                                                                                <div class="col-xs-3 date">
                                                                                                                                    <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                    <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                    <br>
                                                                                                                                    <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                                </div>
                                                                                                                                <div class="col-xs-10 content no-top-border">
                                                                                                                                    <i class="fa fa-cog iconMark"></i>
                                                                                                                                    <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                    <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                    <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                            <div class="row">
                                                                                                                                <div class="col-xs-3 date">
                                                                                                                                    <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                    <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                    <br>
                                                                                                                                    <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                                </div>
                                                                                                                                <div class="col-xs-10 content no-top-border">
                                                                                                                                    <i class="fa fa-cog iconMark"></i>
                                                                                                                                    <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                    <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                    <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                        </div>
                                        <div id="Invoice" class="InvoiceDiv" style="display: none;">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="portlet-title tabbable-line">
                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                            <li class="active">
                                                                <a aria-expanded="true" href="#tab11" data-toggle="tab">Invoice Logo</a>
                                                            </li>
                                                            <li class="">
                                                                <a aria-expanded="false" href="#tab12" data-toggle="tab">Invoice Settings</a>
                                                            </li>
                                                            <li class="">
                                                                <a aria-expanded="false" href="#tab13" data-toggle="tab">Estimate Settings</a>
                                                            </li>
                                                            <li class="">
                                                                <a aria-expanded="false" href="#tab10" data-toggle="tab">Purchase Settings</a>
                                                            </li>
                                                            <li class="">
                                                                <a aria-expanded="false" href="#tab14" data-toggle="tab">Column Settings</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                        <div class="tab-content" style="margin-top: 35px;">
                                                            <div class="tab-pane active" id="tab11">
                                                                <div class="col-md-6">
                                                                    <div id="invoiceLogo" class="col-md-12 newDrop" style="display: <?php if($basicSettings[0]->bDefaultLogo == '') { echo "block"; } else { echo "none"; } ?>">
                                                                        <form action="<?php echo base_url(); ?>product/file_upload/" class="dropzone dropzone-file-area">                                                                
                                                                            <input id="identification" style="display:none;" name="identification" value="invoiceLogo" type="hiddin"/>
                                                                            <div class="uploadFirst uploadFirstFile">                                                         
                                                                                <img class="wave-logo-uploader-dropzone__logo__dropzone__icon" src="<?php echo base_url(); ?>assets/uploadedFile/system/63cc4065e830c9f2e76f19ff398dc73d.svg">
                                                                                <div class="wave-logo-uploader-dropzone__logo___dropzone__text"><span class="wv-text wv-text--body"><span class="wave-logo-uploader-dropzone__logo__dropzone__browse-link">Browse</span><span> </span><span> your logo here.</span></span></div>
                                                                                <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint"><span>Maximum 500KB in size.</span><br ><span>JPG, PNG, or GIF formats.</span></span></div>
                                                                                <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint">Recommended size: 106 x 17 pixels.</span></div>
                                                                            </div>
                                                                        </form>
                                                                    </div>
                                                                    <div id="invoiceLogoDiv" class="col-md-12 pull-left" style="width: 100%; margin-bottom: 25px; display: <?php if($basicSettings[0]->bDefaultLogo != '') { echo "block"; } else { echo "none"; } ?>">
                                                                        <div class="uploadedLogo" >
                                                                            <form id="image-form" name="image" enctype="multipart/form-data">
                                                                                <div id="profile" class="profile-userpic">
                                                                                    <a href="javascript:void(0);">
                                                                                        <?php
                                                                                            if($basicSettings[0]->bDefaultLogo != "") {
                                                                                                if (file_exists('./assets/uploadedFile/system/'.$basicSettings[0]->bDefaultLogo)) {
                                                                                                    echo '<img id="invoiceLogoImg" src="'.base_url().'assets/uploadedFile/system/'.$basicSettings[0]->bDefaultLogo.'" class="img-responsive profile-image" alt="" style="width: '.$basicInvoiceEstimate[0]->logoSize.'px !important; max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                                                } else {
                                                                                                    echo '<img id="invoiceLogoImg" alt="" class="img-circle img-responsive profile-image" src="'.base_url().'assets/uploadedFile/profilePicture/photo3.jpg" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                                                }
                                                                                            } else {
                                                                                                echo '<img id="invoiceLogoImg" alt="" class="img-circle img-responsive profile-image" src="'.base_url().'assets/uploadedFile/profilePicture/photo3.jpg" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>';
                                                                                            }
                                                                                        ?>
                                                                                        <span id="uploadTrigger" onclick="removeLogo('invoiceLogo', 'invoiceDefaultLogo')"><i class="fa fa-times newCross"></i></span>
                                                                                        <label id="logoName" style="display:none;"><?php echo $basicSettings[0]->bDefaultLogo; ?></label>
                                                                                    </a>
                                                                                    <div id="status_msg_div"><div id="status_msg" class="error-error" style="font-size: 12px;"></div></div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                    <label><b id="imageSize"><?php echo $invoiceEstimate[0]->logoSize; ?>px</b></label>
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-6">
                                                                    <form id="invoiceLogoForm" role="form" class="form-horizontal form-bordered">
                                                                        <div style="margin-left: -15px">
                                                                            <label>Set Invoice Image Size</label>
                                                                            <div class="form-group">
                                                                                <div class="col-md-11">
                                                                                    <div id="demo7" class="noUi-background"></div>
                                                                                </div>
                                                                            </div> 
                                                                        </div>                                                                
                                                                        <div class="form-group form-md-radios" style="margin-top: 50px;">
                                                                            <label><i class=" icon-picture"></i> Display logo in invoice</label>
                                                                            <div class="md-radio-inline">
                                                                                <div class="md-radio has-success">
                                                                                    <input id="radio14" name="radio2" value="Yes" class="md-radiobtn" <?php if($invoiceEstimate[0]->defaultLogoSettings == "Yes") { echo 'checked=""';} ?> type="radio">
                                                                                    <label class="radio14" for="radio14">
                                                                                        <span class="inc"></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Yes </label>
                                                                                </div>
                                                                                <div class="md-radio has-warning">
                                                                                    <input id="radio15" name="radio2" value="No" class="md-radiobtn" <?php if($invoiceEstimate[0]->defaultLogoSettings == "No") { echo 'checked=""';} ?> type="radio">
                                                                                    <label class="radio15" for="radio15">
                                                                                        <span class="inc"></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> No </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <input id="invoiceDefaultLogo" type="hidden" name="invoiceDefaultLogo" value="<?php echo $basicSettings[0]->bDefaultLogo; ?>" />
                                                                        <input id="invoiceDefaultLogoSize" type="hidden" name="invoiceDefaultLogoSize" value="<?php echo $invoiceEstimate[0]->logoSize; ?>" />
                                                                    </form>
                                                                </div>
                                                                <div class="col-md-12" style="margin-top: 15px;"><br/>
                                                                    <a id="invoiceLogoSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane" id="tab12">
                                                                <div class="clearfix"> </div>
                                                                <form id="invoiceBasic" role="form" action="#">
                                                                    <div class="col-md-6">
                                                                        <div id="invoiceTitleDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <input id="invoiceTitle" class="form-control" name="invoiceTitle" value="<?php echo $invoiceEstimate[0]->titleInvoice; ?>" type="text">
                                                                                <label for="form_control_1">Default Title <span aria-required="true" class="required"> * </span></label>
                                                                                <span class="help-block">The default title for all invoices.</span>
                                                                                <i class="fa fa-edit"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6" style="margin-top: 20px;">
                                                                        <div class="col-sm-12">
                                                                            <select id="invoiceTerms" title="" aria-hidden="true" tabindex="-1" name="invoiceTerms" class="form-control">
                                                                                <option value="0">Due upon receipt</option>
                                                                                <option value="3">Due upon 3 days</option>
                                                                                <option value="5">Due upon 5 days</option>
                                                                                <option value="7">Due upon 7 days</option>
                                                                                <option value="10">Due upon 10 days</option>
                                                                                <option value="15">Due upon 15 days</option>
                                                                                <option value="30">Due upon 30 days</option>
                                                                                <option value="45">Due upon 45 days</option>
                                                                                <option value="60">Due upon 60 days</option>
                                                                            </select>
                                                                            <span class="help-block">This will be displayed at the bottom of each invoice.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                        <div id="invoiceNoteDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <textarea id="invoiceNote" name="invoiceNote" class="form-control" type="text"><?php echo $invoiceEstimate[0]->noteInvoice; ?></textarea>
                                                                                <label for="form_control_1">NOTES</label>
                                                                                <span class="help-block">Appears on each invoice. Notes that are visible to your customer.</span>
                                                                                <i class="icon-speech"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6 margiv-top-10"><br/>
                                                                        <a id="invoiceBasicSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                    </div>
                                                                </form> 
                                                            </div>
                                                            <div class="tab-pane" id="tab13">
                                                                <div class="clearfix"> </div>
                                                                <form id="estimateBasic" role="form" action="#">
                                                                    <div class="col-md-6">
                                                                        <div id="estimateTitleDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <input id="estimateTitle" name="estimateTitle" class="form-control" value="<?php echo $invoiceEstimate[0]->titleEstimate; ?>" type="text">
                                                                                <label for="form_control_1">Default Title <span aria-required="true" class="required"> * </span></label>
                                                                                <span class="help-block">The default title for all estimates.</span>
                                                                                <i class="fa fa-edit"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div> 
                                                                    <div class="col-md-6" style="margin-top: 20px;">
                                                                        <div class="col-sm-12">
                                                                            <select id="estimateTerms" title="" aria-hidden="true" tabindex="-1" name="estimateTerms" class="form-control">
                                                                                <option value="0">Due upon receipt</option>
                                                                                <option value="3">Due upon 3 days</option>
                                                                                <option value="5">Due upon 5 days</option>
                                                                                <option value="7">Due upon 7 days</option>
                                                                                <option value="10">Due upon 10 days</option>
                                                                                <option value="15">Due upon 15 days</option>
                                                                                <option value="30">Due upon 30 days</option>
                                                                                <option value="45">Due upon 45 days</option>
                                                                                <option value="60">Due upon 60 days</option>
                                                                            </select>
                                                                            <span class="help-block">This will be displayed at the bottom of each estimate.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                        <div id="estimateNoteDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <textarea id="estimateNote" name="estimateNote" class="form-control" type="text"><?php echo $invoiceEstimate[0]->noteEstimate; ?></textarea>
                                                                                <label for="form_control_1">NOTES</label>
                                                                                <span class="help-block">Appears on each estimate. Notes that are visible to your customer.</span>
                                                                                <i class="icon-speech"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6 margiv-top-10"><br/>
                                                                        <a id="estimateBasicSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                    </div>
                                                                </form> 
                                                            </div>
                                                            <div class="tab-pane" id="tab10">
                                                                <div class="clearfix"> </div>
                                                                <form id="purchaseBasic" role="form" action="#">
                                                                    <div class="col-md-6">
                                                                        <div id="estimateTitleDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <input id="purchaseTitle" name="purchaseTitle" class="form-control" value="<?php echo $invoiceEstimate[0]->titlePurchase; ?>" type="text">
                                                                                <label for="form_control_1">Default Title <span aria-required="true" class="required"> * </span></label>
                                                                                <span class="help-block">The default title for all purchase.</span>
                                                                                <i class="fa fa-edit"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div> 
                                                                    <div class="col-md-6" style="margin-top: 20px;">
                                                                        <div class="col-sm-12">
                                                                            <select id="purchaseTerms" title="" aria-hidden="true" tabindex="-1" name="purchaseTerms" class="form-control">
                                                                                <option value="0">Due upon receipt</option>
                                                                                <option value="3">Due upon 3 days</option>
                                                                                <option value="5">Due upon 5 days</option>
                                                                                <option value="7">Due upon 7 days</option>
                                                                                <option value="10">Due upon 10 days</option>
                                                                                <option value="15">Due upon 15 days</option>
                                                                                <option value="30">Due upon 30 days</option>
                                                                                <option value="45">Due upon 45 days</option>
                                                                                <option value="60">Due upon 60 days</option>
                                                                            </select>
                                                                            <span class="help-block">This will be displayed at the bottom of each purchase.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                        <div id="estimateNoteDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                            <div class="input-icon">
                                                                                <textarea id="purchaseNote" name="purchaseNote" class="form-control" type="text"><?php echo $invoiceEstimate[0]->notePurchase; ?></textarea>
                                                                                <label for="form_control_1">NOTES</label>
                                                                                <span class="help-block">Appears on each bill. Notes that are visible to your vendor.</span>
                                                                                <i class="icon-speech"></i>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6 margiv-top-10"><br/>
                                                                        <a id="purchaseBasicSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                    </div>
                                                                </form> 
                                                            </div>
                                                            <div class="tab-pane" id="tab14">
                                                                <div class="clearfix"> </div>
                                                                <form id="columnSettings" role="form" action="#">
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <div class="col-md-6">
                                                                                <div id="pNameDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="pName" name="pName" class="form-control" value="<?php echo $columnSettings[0]->name; ?>" type="text">
                                                                                        <label for="form_control_1">Items <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Products, Services..)</span>
                                                                                        <i class="fa fa-edit"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="form_control_1">Description</label>
                                                                                <div id="checkbox6Div" class="md-checkbox">
                                                                                    <input id="checkbox6" name="checkbox6" <?php if($columnSettings[0]->isDescription ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox6">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show description </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <div class="col-md-6">
                                                                                <div id="messureDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="messure" name="messure" class="form-control" value="<?php echo $columnSettings[0]->unitName; ?>" type="text">
                                                                                        <label for="form_control_1">Units <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Quantity, Hours.)</span>
                                                                                        <i class="icon-film"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="form_control_1">Units</label>
                                                                                <div id="checkbox7Div" class="md-checkbox">
                                                                                    <input id="checkbox7" name="checkbox7" <?php if($columnSettings[0]->isUnit ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox7">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show units </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <div class="col-md-6">
                                                                                <div id="priceSetDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="priceSet" name="priceSet" class="form-control" value="<?php echo $columnSettings[0]->priceName; ?>" type="text">
                                                                                        <label for="form_control_1">Price <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Price, Rate etc.)</span>
                                                                                        <i class="icon-credit-card"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <div id="amountSetDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="amountSet" name="amountSet" class="form-control" value="<?php echo $columnSettings[0]->amountName; ?>" type="text">
                                                                                        <label for="form_control_1">Amount <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Amount,Total etc.)</span>
                                                                                        <i class="icon-basket-loaded"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div> 
                                                                        </div>
                                                                    </div> 
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <div class="col-md-6">
                                                                                <div id="itemCodeDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="itemCode" name="itemCode" class="form-control" value="<?php echo $columnSettings[0]->itemCode; ?>" type="text">
                                                                                        <label for="form_control_1">Items Code <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Code, Serial No..)</span>
                                                                                        <i class="icon-calendar"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="form_control_1">Items Code</label>
                                                                                <div id="checkbox12Div" class="md-checkbox">
                                                                                    <input id="checkbox12" name="checkbox12" <?php if($columnSettings[0]->isCode ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox12">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show Items code </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <div class="col-md-6">
                                                                                <div id="warrantyStatusDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                    <div class="input-icon">
                                                                                        <input id="warrantyStatus" name="warrantyStatus" class="form-control" value="<?php echo $columnSettings[0]->warrantyName; ?>" type="text">
                                                                                        <label for="form_control_1">Warranty <span aria-required="true" class="required"> * </span></label>
                                                                                        <span class="help-block">(For example Warranty, Guarantee..)</span>
                                                                                        <i class="icon-badge"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="form_control_1">Product Warranty </label>
                                                                                <div id="isWarrantyDiv" class="md-checkbox">
                                                                                    <input id="checkbox13" name="isWarranty" <?php if($columnSettings[0]->isWarranty ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox13">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show Warranty </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <div id="isImageDiv" class="col-md-6">
                                                                                <label for="form_control_1">Product Image</label>
                                                                                <div class="md-checkbox">
                                                                                    <input id="checkbox10" name="isImage" <?php if($columnSettings[0]->isProductPicture ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox10">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show Product image </label>
                                                                                </div>
                                                                            </div>
                                                                            <div id="isLinkDiv" class="col-md-6">
                                                                                <label for="form_control_1">Invoice link for print</label>
                                                                                <div class="md-checkbox">
                                                                                    <input id="checkbox11" name="isLink" <?php if($columnSettings[0]->isLink ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox11">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show link </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row" style="margin-top: 35px">
                                                                        <div class="col-md-12">
                                                                            <!-- <div id="isInstallmentDiv" class="col-md-6">
                                                                                <label for="form_control_1">Installment</label>
                                                                                <div class="md-checkbox">
                                                                                    <input id="checkbox101" name="isInstallment" <?php if($columnSettings[0]->isInstallment ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox101">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show Installment </label>
                                                                                </div>
                                                                            </div> -->
                                                                            <div id="isCurrencyShowDiv" class="col-md-6">
                                                                                <label for="form_control_1">Currency Option</label>
                                                                                <div class="md-checkbox">
                                                                                    <input id="checkbox111" name="isCurrencyShow" <?php if($columnSettings[0]->isCurrencyShow ==1) { echo 'checked=""'; } ?> class="md-check" type="checkbox">
                                                                                    <label for="checkbox111">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Show Currency Option </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6 margiv-top-10"><br/>
                                                                        <input id="descriptionIs" type="hidden" name="descriptionIs" value="<?php echo $columnSettings[0]->isDescription; ?>" />
                                                                        <input id="unitIs" type="hidden" name="unitIs" value="<?php echo $columnSettings[0]->isUnit; ?>" />
                                                                        <input id="codeIs" type="hidden" name="codeIs" value="<?php echo $columnSettings[0]->isCode ?>" />
                                                                        <input id="warrantyIs" type="hidden" name="warrantyIs" value="<?php echo $columnSettings[0]->isWarranty; ?>" />
                                                                        <input id="imageIs" type="hidden" name="imageIs" value="<?php echo $columnSettings[0]->isProductPicture; ?>" />
                                                                        <input id="linkIs" type="hidden" name="linkIs" value="<?php echo $columnSettings[0]->isLink; ?>" />
                                                                        <input id="installmentIs" type="hidden" name="installmentIs" value="<?php echo $columnSettings[0]->isInstallment; ?>" />
                                                                        <input id="currencyIs" type="hidden" name="currencyIs" value="<?php echo $columnSettings[0]->isCurrencyShow; ?>" />
                                                                        <a id="columnSettingsSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="Product" class="ProductDiv" style="display: none;">
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row addProduct" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="caption caption-md">
                                                                <i class="icon-bar-chart theme-font hide"></i>
                                                                <span class="caption-subject font-blue-madison bold" style="color: #D05454 !important;">Add New Product</span>
                                                                <span class="caption-helper hide">weekly stats...</span>
                                                            </div>
                                                            <div class="portlet-title" style="margin-top: -25px">
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm productListVisible"><i class="fa fa-list"></i> Product List </a>
                                                                    <a href="javascript:;" class="btn default btn-sm productListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div id="portlet-body" class="portlet-body productBody" style="min-height: 950px !important;">
                                                                    <div class="col-md-12">
                                                                        <div id="productPicture" class="col-md-4 newDrop" style="display: block">
                                                                            <form action="<?php echo base_url(); ?>product/file_upload/" class="dropzone dropzone-file-area">                                                                
                                                                                <input id="identification" style="display:none;" name="identification" value="productPicture" type="hiddin"/>
                                                                                <div class="uploadFirst uploadFirstFile">                                                         
                                                                                    <img class="wave-logo-uploader-dropzone__logo__dropzone__icon" src="<?php echo base_url(); ?>assets/uploadedFile/system/63cc4065e830c9f2e76f19ff398dc73d.svg">
                                                                                    <div class="wave-logo-uploader-dropzone__logo___dropzone__text"><span class="wv-text wv-text--body"><span class="wave-logo-uploader-dropzone__logo__dropzone__browse-link">Browse</span><span> </span><span> product image here.</span></span></div>
                                                                                    <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint"><span>Maximum 500KB in size.</span><br ><span>JPG, PNG, or GIF formats.</span></span></div>
                                                                                    <div class="wave-logo-uploader-dropzone__logo__dropzone__hint"><span class="wv-text wv-text--hint">Recommended size: 250 x 250 pixels.</span></div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                        <div id="productPictureDiv" class="col-md-offset-1 col-md-2 pull-right" style="margin-top: 25px !important; display: none">
                                                                            <div class="uploadedLogo" >
                                                                                <form id="image-form" name="image" enctype="multipart/form-data">
                                                                                    <div id="profile" class="profile-userpic">
                                                                                        <a href="javascript:void(0);">
                                                                                            <img id="productPictureImg" alt="" class="img-circle img-responsive profile-image" src="<?php echo base_url(); ?>assets/uploadedFile/productPicture/productDefault.jpg" style="max-height:none; padding: 5px; border: 1px dashed #54c7c3; border-radius: 5px;"/>
                                                                                            <span id="uploadTrigger" onclick="removeLogo('productPicture', 'productImg')"><i class="fa fa-times newCross"></i></span>
                                                                                            <label id="logoName" style="display:none;"><?php echo $basicSettings[0]->bDefaultLogo; ?></label>
                                                                                        </a>
                                                                                        <div id="status_msg_div"><div id="status_msg" class="error-error" style="font-size: 12px;"></div></div>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <form id="addProduct" role="form" action="#">
                                                                        <div class="col-md-6" style="margin-top: 35px;">
                                                                            <div id="codeProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="codeProduct" name="codeProduct" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Product Code </label>
                                                                                    <span class="help-block">Product code here...</span>
                                                                                    <i class="icon-calendar"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 35px;">
                                                                            <div id="nameProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="nameProduct" name="nameProduct" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Product Name <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Product name here...</span>
                                                                                    <i class="fa fa-edit"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 15px">
                                                                            <div id="unitProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="unitProduct" name="unitProduct" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Unit Of Measure</label>
                                                                                    <span class="help-block">Example (kg, Inch, Gallon, Pound, Ton)</span>
                                                                                    <i class="icon-film"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 15px">
                                                                            <div id="initialProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="initialProduct" name="initialProduct" value="" class="form-control numericInteger" type="text">
                                                                                    <label for="form_control_1">Initial Quantity</label>
                                                                                    <span class="help-block">Add present stock here...</span>
                                                                                    <i class="fa fa-adjust"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 15px">
                                                                            <div id="priceProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="priceProduct" name="priceProduct" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Initial Unit Purchase Price</label>
                                                                                    <span class="help-block">Initial product unit purchase price</span>
                                                                                    <i class="fa fa-money"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 15px">
                                                                            <div id="saleProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="saleProduct" name="saleProduct" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Initial Unit Salling Price</label>
                                                                                    <span class="help-block">Initial product unit salling price</span>
                                                                                    <i class="fa fa-money"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6" style="margin-top: 15px">
                                                                            <div id="alertProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="alertProduct" name="alertProduct" value="" class="form-control numericInteger" type="text">
                                                                                    <label for="form_control_1">Alert Quantity</label>
                                                                                    <span class="help-block">Minimum alert quantity here...</span>
                                                                                    <i class="fa fa-bell"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12">
                                                                            <div class="taxInfo" style="margin-left: -30px;">
                                                                                <div class="col-md-6">
                                                                                    <div id="categoryCheckDiv" class="form-group" style="margin-top: 20px;">
                                                                                        <label class="control-label col-md-8"><i class="fa fa-list"></i> Add Category or Sub-category</label>
                                                                                        <div class="col-md-4">
                                                                                            <input id="addCato" type="checkbox" class="make-switch" data-on-text="Yes" data-off-text="No" data-on-color="success" data-off-color="warning">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="default-tax-row inPage" style="display: none;">
                                                                                    <div class="col-md-5 form-group form-md-line-input form-md-floating-label">
                                                                                        <div class="form-group customFormGroup">      
                                                                                            <input class="form-control newInput" placeholder="Category/Sub-category name" name="name" type="text" value="">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-1">
                                                                                        <input id="oldIdCat" type="hidden" name="oldIdCat" value="" />
                                                                                        <input id="oldType" type="hidden" name="oldType" value="0" />
                                                                                        <i id="entrySave" class="fa fa-check-circle-o tax-delete-button pointer saveButton" style="font-size: 17px; margin-top: 30px;"></i>
                                                                                        <i class="fa fa-trash tax-delete-button pointer deleteButton ddBtn" style="font-size: 17px; margin-top: 30px;"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="taxInfosub nestList" style="width: 100%; margin-top: 75px;">
                                                                                <div class="dd-item" onclick="dd_extra(1)">
                                                                                    <div class="dd-main1 dd-main dd-persistent dd3-handle"> </div>
                                                                                    <div class="dd3-content">
                                                                                        <label class="textLabel text"> Uncategories</label>
                                                                                        
                                                                                    </div>
                                                                                </div>
                                                                                <div class="dd" id="nestable_list_3">
                                                                                    <ol class="dd-list allList" style="margin-bottom: 25px;">
                                                                                        <?php $liveArray = array(); $totalCount = count($productCategories); $k = 1000; $j = 0; foreach ($productCategories as $productCategory) { $liveArray[$j++] = $productCategory->name; if($productCategory->id != 1) { ?>
                                                                                        <li class="dd-item dd3-item" data-id="<?php echo $productCategory->id; ?>">
                                                                                            <div onclick="dd_main(<?php echo $productCategory->id; ?>)">
                                                                                                <div class="dd-main<?php echo $productCategory->id; ?> <?php if($productCategory->id == 1) { echo 'dd-persistent dd-main'; } else { echo 'dd-handle'; } ?> dd3-handle"> </div>
                                                                                                <div class="dd3-content">
                                                                                                    <label class="textLabel text<?php echo $productCategory->id; ?>"> <?php echo $productCategory->name; ?></label>
                                                                                                    
                                                                                                </div>
                                                                                            </div>
                                                                                            <?php if($productCategory->id != 1) { ?>
                                                                                            <div class="span-right" style="float:right; margin-right: 15px; margin-top: -30px"><span><b>|</b></span>
                                                                                                <i class="fa fa-pencil updateButton" onClick="updatePcategory(<?php echo $productCategory->id; ?>);"></i>
                                                                                                <i class="fa fa-trash deleteButton<?php echo $productCategory->id; ?> deleteButton" onClick="deletePcategory(<?php echo $productCategory->id; ?>);"></i>
                                                                                            </div>
                                                                                            <?php } ?>
                                                                                            <?php 
                                                                                                $subCategory = $this->data_model->get_all_info_where_with_order('*', array('parent' =>$productCategory->id), 'sortOrder', '', 'settings_product_category');
                                                                                                if(count($subCategory) > 0) {
                                                                                            ?>                                        
                                                                                                <ol class="dd-list">
                                                                                            <?php
                                                                                                     $totalCount += count($subCategory);
                                                                                                    for ($i = 0; $i < count($subCategory); $i++) { 
                                                                                            ?>
                                                                                                        <li class="dd-item dd3-item" data-id="<?php echo $subCategory[$i]->id; ?>">
                                                                                                            <div onclick="dd_sub(<?php echo $productCategory->id; ?>, <?php echo $subCategory[$i]->id; ?>);">
                                                                                                                <div class="<?php echo $subCategory[$i]->id; ?> dd-sub<?php echo $subCategory[$i]->id; ?> <?php if($productCategory->id == 1) { echo 'dd-persistent dd-sub'; } else { echo 'dd-handle'; } ?> dd3-handle"> </div>
                                                                                                                <div class="dd3-content"> 
                                                                                                                    <label class="textLabel text<?php echo $subCategory[$i]->id; ?>"> <?php echo $subCategory[$i]->name; ?></label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <?php if($productCategory->id != 1) { ?>
                                                                                                            <div class="span-right" style="float:right; margin-top:-30px; margin-right: 15px;">
                                                                                                                <span><b>|</b></span>
                                                                                                                <i class="fa fa-pencil updateButton" onClick="updatePcategory(<?php echo $subCategory[$i]->id; ?>);"></i>
                                                                                                                <i class="fa fa-trash deleteButton<?php echo $subCategory[$i]->id; ?> deleteButton" onClick="deletePcategory(<?php echo $subCategory[$i]->id; ?>);"></i>
                                                                                                            </div>
                                                                                                            <?php } ?>
                                                                                                        </li>
                                                                                            <?php
                                                                                                    }
                                                                                            ?>
                                                                                                </ol>
                                                                                            <?php
                                                                                                }
                                                                                            ?>
                                                                                        </li>
                                                                                        <?php } } ?>
                                                                                    </ol>
                                                                                    <input id="nestable-output" type="hidden">
                                                                                </div>
                                                                                <hr/>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12">
                                                                            <div id="descriptionProductDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <textarea id="descriptionProduct" name="descriptionProduct" class="form-control" type="text"></textarea>
                                                                                    <label for="form_control_1">Description</label>
                                                                                    <span class="help-block">Product description here...</span>
                                                                                    <i class="icon-book-open"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4" style="margin-top: 35px;">
                                                                            <div id="warrantyDiv" class="form-group">
                                                                                <label class="control-label col-md-6"><i class="icon-badge"></i> Warranty</label>
                                                                                <div class="col-md-6">
                                                                                    <input id="warranty" type="checkbox" class="make-switch" data-on-text="Yes" data-off-text="No" data-on-color="success" data-off-color="warning">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-3" style="margin-top: 15px;">
                                                                            <div id="discountCheckDiv" class="form-group form-md-line-input form-md-floating-label discountCheck" style="display: none;">
                                                                                <div class="input-icon">
                                                                                    <input id="discountCheck" name="discountCheck" class="form-control" value="" type="text">
                                                                                    <label for="form_control_1">Warranty Period</label>
                                                                                    <span class="help-block">Add warranty period here...</span>
                                                                                    <i class="icon-clock"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-5" style="margin-top: 15px;">
                                                                            <div class="col-sm-12 radioCheck" style="display: none;">
                                                                                <div class="md-radio-inline" style="margin-top: 25px; float: right; margin-right: 15px; margin-bottom: -5px;">
                                                                                    <div class="md-radio">
                                                                                        <input id="radioDay" name="radio2Product" value="Day" checked="" class="md-radiobtn" type="radio">
                                                                                        <label for="radioDay">
                                                                                            <span></span>
                                                                                            <span class="check"></span>
                                                                                            <span class="box"></span> Day </label>
                                                                                    </div>
                                                                                    <div class="md-radio">
                                                                                        <input id="radioMonth" name="radio2Product" value="Month" checked="" class="md-radiobtn" type="radio">
                                                                                        <label for="radioMonth">
                                                                                            <span></span>
                                                                                            <span class="check"></span>
                                                                                            <span class="box"></span> Month </label>
                                                                                    </div>
                                                                                    <div class="md-radio">
                                                                                        <input id="radioYear" name="radio2Product" value="Year" class="md-radiobtn" type="radio">
                                                                                        <label for="radioYear">
                                                                                            <span></span>
                                                                                            <span class="check"></span>
                                                                                            <span class="box"></span> Year 
                                                                                        </label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12"><br/>
                                                                            <input id="warrantyYes" type="hidden" name="warrantyYes" value="0" />
                                                                            <input id="productSystemCode" type="hidden" name="productSystemCode" value="0" />
                                                                            <input id="productEditId" type="hidden" name="productEditId" value="0" />
                                                                            <input id="productImg" type="hidden" name="productImg" value="" />
                                                                            <input id="categoryProduct" type="hidden" name="categoryProduct" value="1" />
                                                                            <input id="subCategoryProduct" type="hidden" name="subCategoryProduct" value="2" />
                                                                            <input id="nameCategory" type="hidden" name="nameCategory" value="1" />
                                                                            <input id="nameSubCategory" type="hidden" name="nameSubCategory" value="2" />
                                                                            <a id="productSave" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save </a>
                                                                            <a id="productSaveNew" href="javascript:;" class="btn green"><i class="fa fa-newspaper-o"></i> Save &amp; New </a>
                                                                            <a href="javascript:;" class="btn default productListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row ProductList">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio11" name="radio11" value="active" checked="" class="md-radiobtn" type="radio">
                                                                        <label for="radio11">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Active List</b> </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio12" name="radio11" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio12">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Archive List </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm productAddVisible"><i class="fa fa-plus"></i> New Product </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: #D05454;"></i><span class="caption-subject font-blue-madison bold" style="color: #D05454 !important;">Active Product List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_7', 'Product List Active')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_7', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_7_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Alert Status</label>
                                                                                <label><input type="checkbox" checked data-column="3">Item Name</label>
                                                                                <label><input type="checkbox" checked data-column="4">Last Selling Price</label>
                                                                                <label><input type="checkbox" checked data-column="5">Last Purchase Price</label>
                                                                                <label><input type="checkbox" data-column="6">Item ID</label>
                                                                                <label><input type="checkbox" data-column="7">Item Code</label>
                                                                                <label><input type="checkbox" data-column="8">Invoice Tax</label>
                                                                                <label><input type="checkbox" data-column="9">Quantity</label>
                                                                                <label><input type="checkbox" data-column="10">Warranty</label>
                                                                                <label><input type="checkbox" data-column="11">Sub-Category</label>
                                                                                <label><input type="checkbox" data-column="12">Category</label>
                                                                                <label><input type="checkbox" data-column="13">Created By</label>
                                                                                <label><input type="checkbox" data-column="14">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_7">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Alert Status
                                                                                </th>
                                                                                <th>
                                                                                    Item Name
                                                                                </th>
                                                                                <th>
                                                                                    Last Selling Price
                                                                                </th>
                                                                                <th>
                                                                                    Last Purchase Price
                                                                                </th>
                                                                                <th>
                                                                                    Item ID
                                                                                </th>
                                                                                <th>
                                                                                    Item Code
                                                                                </th>
                                                                                <th>
                                                                                    Invoice Tax
                                                                                </th>
                                                                                <th>
                                                                                    Quantity
                                                                                </th>
                                                                                <th>
                                                                                    Warranty
                                                                                </th>
                                                                                <th>
                                                                                    Sub-Category
                                                                                </th>
                                                                                <th>
                                                                                    Category
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($activeProduct as $activeProductResult) { ?>
                                                                            <tr id="product<?php echo $activeProductResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                            <li id="view<?php echo $activeProductResult->id; ?>">
                                                                                                <a target="_blank" href="<?php echo base_url(); ?>product/details/<?php echo $activeProductResult->id; ?>" class="liveLink"><i class="fa fa-search" style="color: #26C281;"></i><span>View</span></a>
                                                                                            </li>
                                                                                            <li id="editProduct<?php echo $activeProductResult->id; ?>">
                                                                                                <a onclick="editProductData(<?php echo $activeProductResult->id; ?>)" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>
                                                                                            </li>
                                                                                            <li id="duplicateProduct<?php echo $activeProductResult->id; ?>">
                                                                                                <a onclick="duplicateProductData(<?php echo $activeProductResult->id; ?>)" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>
                                                                                            </li>                                                                                            
                                                                                            <li id="deleteProduct<?php echo $activeProductResult->id; ?>">
                                                                                                <a onclick="deleteProductData(<?php echo $activeProductResult->id; ?>)"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>                                                          
                                                                                </td>
                                                                                <td>
                                                                                    <?php  
                                                                                        if(($activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity) == 0) {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: blue"> N/A </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity." ".$activeProductResult->unit; ?><br/> Alert Quantity: <?php echo $activeProductResult->alertQuantity." ".$activeProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php 
                                                                                        } else if(($activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity) > $activeProductResult->alertQuantity) {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: green"> Ok </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity." ".$activeProductResult->unit; ?><br/> Alert Quantity: <?php echo $activeProductResult->alertQuantity." ".$activeProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php 
                                                                                        } else {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: red"> Short </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity." ".$activeProductResult->unit; ?><br/> Alert Quantity: <?php echo $activeProductResult->alertQuantity." ".$activeProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php
                                                                                        } 
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <span id="nameProduct<?php echo $activeProductResult->id; ?>"><?php echo $activeProductResult->name; ?></span>
                                                                                    <span id="codeProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->code; ?></span>
                                                                                    <span id="unitProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->unit; ?></span>
                                                                                    <span id="initialProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->initialQuantity; ?></span>
                                                                                    <span id="alertProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->alertQuantity; ?></span>
                                                                                    <span id="categoryProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->category; ?></span>
                                                                                    <span id="subCategoryProduct<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->subCategory; ?></span>
                                                                                    <span id="warrantyYes<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->isWarranty; ?></span>
                                                                                    <span id="discountCheck<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->warrantyPeriod; ?></span>
                                                                                    <span id="warrantyTime<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->warrantyTime; ?></span>
                                                                                    <span id="price<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->lastPurchasePrice; ?></span>
                                                                                    <span id="sale<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->lastSellingPrice; ?></span>
                                                                                    <span id="picture<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->picture; ?></span>
                                                                                    <span id="description<?php echo $activeProductResult->id; ?>" style="display:none;"><?php echo $activeProductResult->description; ?></span>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->lastSellingPrice; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->lastPurchasePrice; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->systemId; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->code; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeProductResult->lastTax != 0) {
                                                                                            $lastTax = $this->data_model->get_specific_column("name", array("id" => $activeProductResult->lastTax), "settings_product_category"); echo $lastTax[0]->name;
                                                                                        } else {
                                                                                            echo "N/A Yet.";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->balanceQuantity-$activeProductResult->sellingQuantity; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeProductResult->warrantyPeriod == 0) {
                                                                                            echo "N/A";
                                                                                        } else {
                                                                                            echo $activeProductResult->warrantyPeriod." ".$activeProductResult->warrantyTime;
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeProductResult->subCategory != '---') {
                                                                                        $subCategory = $this->data_model->get_specific_column("name", array("id" => $activeProductResult->subCategory), "settings_product_category"); echo $subCategory[0]->name;
                                                                                        } else {
                                                                                            echo "N/A";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeProductResult->category != '---') {
                                                                                        $category = $this->data_model->get_specific_column("name", array("id" => $activeProductResult->category), "settings_product_category"); echo $category[0]->name;
                                                                                        } else {
                                                                                            echo "N/A";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->createdBy; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeProductResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row ProductListArchive" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio21" name="radio12" value="active" class="md-radiobtn" type="radio">
                                                                        <label for="radio21">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Active List </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio22" name="radio12" checked="" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio22">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Archive List</b> </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm productAddVisible"><i class="fa fa-plus"></i> New Product </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: #D05454;"></i><span class="caption-subject font-blue-madison bold" style="color: #D05454 !important;">Archive Product List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_77', 'Product List Inactive')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_77', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_77_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Alert Status</label>
                                                                                <label><input type="checkbox" checked data-column="3">Item Name</label>
                                                                                <label><input type="checkbox" checked data-column="4">Last Selling Price</label>
                                                                                <label><input type="checkbox" checked data-column="5">Last Purchase Price</label>
                                                                                <label><input type="checkbox" data-column="6">Item ID</label>
                                                                                <label><input type="checkbox" data-column="7">Item Code</label>
                                                                                <label><input type="checkbox" data-column="8">Invoice Tax</label>
                                                                                <label><input type="checkbox" data-column="9">Quantity</label>
                                                                                <label><input type="checkbox" data-column="10">Warranty</label>
                                                                                <label><input type="checkbox" data-column="11">Sub-Category</label>
                                                                                <label><input type="checkbox" data-column="12">Category</label>
                                                                                <label><input type="checkbox" data-column="13">Created By</label>
                                                                                <label><input type="checkbox" data-column="14">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_77">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Alert Status
                                                                                </th>
                                                                                <th>
                                                                                    Item Name
                                                                                </th>
                                                                                <th>
                                                                                    Last Selling Price
                                                                                </th>
                                                                                <th>
                                                                                    Last Purchase Price
                                                                                </th>
                                                                                <th>
                                                                                    Item ID
                                                                                </th>
                                                                                <th>
                                                                                    Item Code
                                                                                </th>
                                                                                <th>
                                                                                    Invoice Tax
                                                                                </th>
                                                                                <th>
                                                                                    Quantity
                                                                                </th>
                                                                                <th>
                                                                                    Warranty
                                                                                </th>
                                                                                <th>
                                                                                    Sub-Category
                                                                                </th>
                                                                                <th>
                                                                                    Category
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($inActiveProduct as $inActiveProductResult) { ?>
                                                                            <tr id="product<?php echo $inActiveProductResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">                                                                                           
                                                                                            <li id="view<?php echo $inActiveProductResult->id; ?>">
                                                                                                <a target="_blank" href="<?php echo base_url(); ?>product/details/<?php echo $inActiveProductResult->id; ?>" class="liveLink"><i class="fa fa-search" style="color: #26C281;"></i><span>View</span></a>
                                                                                            </li>
                                                                                            <li id="activeProduct<?php echo $inActiveProductResult->id; ?>">
                                                                                                <a onclick="activeProductData(<?php echo $inActiveProductResult->id; ?>)"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>                                                          
                                                                                </td>
                                                                                <td>
                                                                                    <?php  
                                                                                        if(($inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity) == 0) {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: blue"> N/A </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity." ".$inActiveProductResult->unit; ?><br/> Alert Quantity: <?php echo $inActiveProductResult->alertQuantity." ".$inActiveProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php 
                                                                                        } else if(($inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity) > $inActiveProductResult->alertQuantity) {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: green"> Ok </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity." ".$inActiveProductResult->unit; ?><br/> Alert Quantity: <?php echo $inActiveProductResult->alertQuantity." ".$inActiveProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php 
                                                                                        } else {
                                                                                    ?>
                                                                                            <a class="tooltipC">
                                                                                                <span class="label label-sm" style="background: red"> Short </span>
                                                                                                <span class="sTooltip"><strong>Total Quantity: <?php echo $inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity." ".$inActiveProductResult->unit; ?><br/> Alert Quantity: <?php echo $inActiveProductResult->alertQuantity." ".$inActiveProductResult->unit; ?></strong></span>
                                                                                            </a>
                                                                                    <?php
                                                                                        } 
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <span id="nameProduct<?php echo $inActiveProductResult->id; ?>"><?php echo $inActiveProductResult->name; ?></span>
                                                                                    <span id="codeProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->code; ?></span>
                                                                                    <span id="unitProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->unit; ?></span>
                                                                                    <span id="initialProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->initialQuantity; ?></span>
                                                                                    <span id="alertProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->alertQuantity; ?></span>
                                                                                    <span id="categoryProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->category; ?></span>
                                                                                    <span id="subCategoryProduct<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->subCategory; ?></span>
                                                                                    <span id="warrantyYes<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->isWarranty; ?></span>
                                                                                    <span id="discountCheck<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->warrantyPeriod; ?></span>
                                                                                    <span id="warrantyTime<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->warrantyTime; ?></span>
                                                                                    <span id="price<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->lastPurchasePrice; ?></span>
                                                                                    <span id="sale<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->lastSellingPrice; ?></span>
                                                                                    <span id="picture<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->picture; ?></span>
                                                                                    <span id="description<?php echo $inActiveProductResult->id; ?>" style="display:none;"><?php echo $inActiveProductResult->description; ?></span>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->lastSellingPrice; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->lastPurchasePrice; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->systemId; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->code; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($inActiveProductResult->lastTax != 0) {
                                                                                            $lastTax = $this->data_model->get_specific_column("name", array("id" => $inActiveProductResult->lastTax), "settings_product_category"); echo $lastTax[0]->name;
                                                                                        } else {
                                                                                            echo "N/A Yet.";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->balanceQuantity-$inActiveProductResult->sellingQuantity; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($inActiveProductResult->warrantyPeriod == 0) {
                                                                                            echo "N/A";
                                                                                        } else {
                                                                                            echo $inActiveProductResult->warrantyPeriod." ".$inActiveProductResult->warrantyTime;
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php
                                                                                        if($inActiveProductResult->subCategory != '---') {
                                                                                        $subCategory = $this->data_model->get_specific_column("name", array("id" => $inActiveProductResult->subCategory), "settings_product_category"); echo $subCategory[0]->name;
                                                                                        } else {
                                                                                            echo "N/A";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($inActiveProductResult->category != '---') {
                                                                                        $category = $this->data_model->get_specific_column("name", array("id" => $inActiveProductResult->category), "settings_product_category"); echo $category[0]->name;
                                                                                        } else {
                                                                                            echo "N/A";
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->createdBy; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveProductResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?> 
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                        </div>
                                        <div id="tax" style="display: none;"> 
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row addTax" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="caption caption-md">
                                                                <i class="icon-bar-chart theme-font hide"></i>
                                                                <span class="caption-subject font-blue-madison bold" style="color: #E87E04 !important;">Add New Tax</span>
                                                                <span class="caption-helper hide">weekly stats...</span>
                                                            </div>
                                                            <div class="portlet-title" style="margin-top: -25px">
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm taxListVisible"><i class="fa fa-list"></i> Tax List </a>
                                                                    <a href="javascript:;" class="btn default btn-sm taxListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div id="portlet-body" class="portlet-body" style="min-height: 380px;">
                                                                    <form id="addTax" role="form" action="#">
                                                                        <div class="col-md-12" style="margin-top: 15px;">
                                                                            <div id="taxNameDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="taxName" name="taxName" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Tax Name <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Tax name here...</span>
                                                                                    <i class="icon-paper-clip"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12" style="margin-top: 25px;">
                                                                            <div id="taxRateDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="taxRate" name="taxRate" value="" class="form-control numericFloat" type="text">
                                                                                    <label for="form_control_1">Rate(%) <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Tax rate should be a number only, without a percent sign.</span>
                                                                                    <i class="icon-star"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-12" style="margin-top: 25px;">
                                                                            <div id="taxDescriptionDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="taxDescription" name="taxDescription" value="" class="form-control" type="text">
                                                                                    <label for="form_control_1">Description</label>
                                                                                    <span class="help-block"></span>
                                                                                    <i class="icon-book-open"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6 margiv-top-10"><br/>
                                                                            <input id="taxSystemCode" name="taxSystemCode" value="" type="hidden" />
                                                                            <input id="taxEditId" name="taxEditId" value="" type="hidden" />
                                                                            <a id="taxSave" href="javascript:;" class="btn btn-primary"><i class="fa fa-save"></i> Save </a>
                                                                            <a id="taxSaveNew" href="javascript:;" class="btn green"><i class="fa fa-newspaper-o"></i> Save & New </a>
                                                                            <a href="javascript:;" class="btn default taxListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row TaxList">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio23" name="radio23" value="active" checked="" class="md-radiobtn" type="radio">
                                                                        <label for="radio23">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Active List</b> </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio24" name="radio23" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio24">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Archive List </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm taxAddVisible"><i class="fa fa-plus"></i> New Tax </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: #E87E04"></i><span class="caption-subject font-blue-madison bold" style="color: #E87E04 !important">Active Tax List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_1', 'Tax List Active')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_1', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_1_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Tax Name</label>
                                                                                <label><input type="checkbox" checked data-column="3">Rate(%)</label>
                                                                                <label><input type="checkbox" checked data-column="4">Description</label>
                                                                                <label><input type="checkbox" checked data-column="5">Invoice Nos</label>
                                                                                <label><input type="checkbox" data-column="6">Tax ID</label>
                                                                                <label><input type="checkbox" data-column="7">Customer Nos</label>
                                                                                <label><input type="checkbox" data-column="8">Created By</label>
                                                                                <label><input type="checkbox" data-column="9">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_1">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Tax Name
                                                                                </th>
                                                                                <th>
                                                                                    Rate(%)
                                                                                </th>
                                                                                <th>
                                                                                    Description
                                                                                </th>
                                                                                <th>
                                                                                    Invoice Nos
                                                                                </th>
                                                                                <th>
                                                                                    Tax ID
                                                                                </th>
                                                                                <th>
                                                                                    Customer Nos
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($activeTax as $activeTaxResult) { ?>
                                                                            <tr id="tax<?php echo $activeTaxResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                            <li id="taxEdit<?php echo $activeTaxResult->id; ?>">
                                                                                                <a onclick="editTaxData(<?php echo $activeTaxResult->id; ?>)" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>
                                                                                            </li>
                                                                                            <li id="taxDelete<?php echo $activeTaxResult->id; ?>">
                                                                                                <a onclick="deleteTaxData(<?php echo $activeTaxResult->id; ?>)"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>                                                          
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeTaxResult->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeTaxResult->taxRate; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeTaxResult->description; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php $totalInvoice = $this->data_model->get_all_info('*', array('taxId' => $activeTaxResult->id), 'list_product_adjust'); echo count($totalInvoice); ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeTaxResult->systemId; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php $totalCustomer = $this->data_model->countGroupWhere('customerId', array('taxId' => $activeTaxResult->id), 'list_product_adjust'); if(isset($totalCustomer[0]->total)) { echo $totalCustomer[0]->total; } else { echo 0; } ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php $team = $this->data_model->get_specific_column("name", array("id" => $activeTaxResult->createdBy), "list_team"); echo $team[0]->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeTaxResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row TaxListArchive" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio25" name="radio25" value="active" class="md-radiobtn" type="radio">
                                                                        <label for="radio25">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Active List </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio26" name="radio25" checked="" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio26">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Archive List</b> </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm taxAddVisible"><i class="fa fa-plus"></i> New Tax </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: #E87E04"></i><span class="caption-subject font-blue-madison bold" style="color: #E87E04 !important">Archive Tax List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_11', 'Tax List Inactive')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_11', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_11_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Tax Name</label>
                                                                                <label><input type="checkbox" checked data-column="3">Rate(%)</label>
                                                                                <label><input type="checkbox" checked data-column="4">Description</label>
                                                                                <label><input type="checkbox" checked data-column="5">Invoice Nos</label>
                                                                                <label><input type="checkbox" data-column="6">Tax ID</label>
                                                                                <label><input type="checkbox" data-column="7">Customer Nos</label>
                                                                                <label><input type="checkbox" data-column="8">Created By</label>
                                                                                <label><input type="checkbox" data-column="9">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_11">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Tax Name
                                                                                </th>
                                                                                <th>
                                                                                    Rate(%)
                                                                                </th>
                                                                                <th>
                                                                                    Description
                                                                                </th>
                                                                                <th>
                                                                                    Invoice Nos
                                                                                </th>
                                                                                <th>
                                                                                    Tax ID
                                                                                </th>
                                                                                <th>
                                                                                    Customer Nos
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($inActiveTax as $inActiveTaxResult) { ?>
                                                                            <tr id="tax<?php echo $inActiveTaxResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                            <li id="taxActive<?php echo $inActiveTaxResult->id; ?>">
                                                                                                <a onclick="activeTaxData(<?php echo $inActiveTaxResult->id; ?>)"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>                                                          
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->taxRate; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->description; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->totalInvoice; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->systemId; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->totalCustomer; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php $team = $this->data_model->get_specific_column("name", array("id" => $inActiveTaxResult->createdBy), "list_team"); echo $team[0]->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveTaxResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                        </div>
                                        <div id="IncomeExpense" style="display: none;"> 
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row addIncomeExpense" style="display: none;">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="caption caption-md">
                                                                <i class="icon-bar-chart theme-font hide"></i>
                                                                <span class="caption-subject font-blue-madison bold" style="color: red !important">Add New Income/Expense</span>
                                                                <span class="caption-helper hide">weekly stats...</span>
                                                            </div>
                                                            <div class="portlet-title" style="margin-top: -25px">
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm IncomeExpenseListVisible"><i class="fa fa-list"></i> Income/Expense List </a>
                                                                    <a href="javascript:;" class="btn default btn-sm IncomeExpenseListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div id="portlet-body" class="portlet-body" style="min-height: 450px;">
                                                                    <form id="addIncomeExpense" role="form" action="#">
                                                                        <div class="col-md-6" style="margin-top: 55px;">
                                                                            <div id="categoryNameDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <input id="categoryName" name="categoryName" class="form-control" type="text">
                                                                                    <label for="form_control_1">Category Name <span aria-required="true" class="required"> * </span></label>
                                                                                    <span class="help-block">Income/Expense name here...</span>
                                                                                    <i class="fa fa-edit"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-sm-6 radioCheck moreCheck">
                                                                            <div class="md-radio-inline" style="float: right; margin-right: 35px; margin-top: 75px">
                                                                                <div class="md-radio">
                                                                                    <input id="radio222" name="incomeExpenseRadio" checked="" value="Income" class="md-radiobtn" type="radio">
                                                                                    <label for="radio222">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Income </label>
                                                                                </div>
                                                                                <div class="md-radio">
                                                                                    <input id="radio221" name="incomeExpenseRadio" value="Expense" class="md-radiobtn" type="radio">
                                                                                    <label for="radio221">
                                                                                        <span></span>
                                                                                        <span class="check"></span>
                                                                                        <span class="box"></span> Expense </span>
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <!-- <div class="col-md-12">
                                                                            <div class="col-md-4" style="margin-top: 55px">
                                                                                <div id="categoryNotification" class="form-group">
                                                                                    <label class="control-label col-md-7" style="margin-top: 8px; font-weight: 500;"><i class="fa fa-bell"></i> Notification</label>
                                                                                    <div class="col-md-5">
                                                                                        <input id="notofication" type="checkbox" class="make-switch" data-on-text="Yes" data-off-text="No" data-on-color="success" data-off-color="warning">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div id="notoficationDiv" class="col-md-8" style="margin-top: 35px; display: none">
                                                                                <div class="col-md-6">
                                                                                    <div id="notificationCategoryAmountDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                        <div class="input-icon">
                                                                                            <input id="notificationCategoryAmount" name="notificationCategoryAmount" class="form-control" value="" type="text">
                                                                                            <label for="form_control_1">Amount</label>
                                                                                            <span class="help-block">Send email if amount is equal or greater than</span>
                                                                                            <i class="fa fa-balance-scale"></i>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-6">
                                                                                    <div id="notificationCategoryEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                        <div class="input-icon">
                                                                                            <input id="notificationCategoryEmail" name="notificationCategoryEmail" class="form-control" type="text" value="<?php echo $basicSettings[0]->email; ?>">
                                                                                            <label for="form_control_1">Notification Email</label>
                                                                                            <span class="help-block">Default Email</span>
                                                                                            <i class="icon-envelope"></i>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div> -->
                                                                        <div class="col-md-12" style="margin-top: 20px;">
                                                                            <div id="categoryDescriptionDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                <div class="input-icon">
                                                                                    <textarea id="categoryDescription" name="categoryDescription" class="form-control" type="text"></textarea>
                                                                                    <label for="form_control_1">Description</label>
                                                                                    <span class="help-block">Income/Expense description here...</span>
                                                                                    <i class="icon-book-open"></i>
                                                                                </div>
                                                                            </div>
                                                                        </div>  
                                                                        <div class="col-md-12" style="margin-top-10"><br/>
                                                                            <input id="notificationCheck" name="notificationCheck" value="0" type="hidden" />
                                                                            <input id="categorySystemCode" name="categorySystemCode" value="" type="hidden" />
                                                                            <input id="categoryEditId" name="categoryEditId" value="" type="hidden" />
                                                                            <a id="categorySave" href="javascript:;" class="btn btn-primary"><i class="fa fa-save"></i> Save </a>
                                                                            <a id="categorySaveNew" href="javascript:;" class="btn green"><i class="fa fa-newspaper-o"></i> Save & New </a>
                                                                            <a href="javascript:;" class="btn default IncomeExpenseListVisible"><i class="fa fa-times"></i> Cancel </a>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row IncomeExpenseList">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio27" name="radio27" value="active" checked="" class="md-radiobtn" type="radio">
                                                                        <label for="radio27">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Active List</b> </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio28" name="radio27" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio28">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Archive List </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm IncomeExpenseAddVisible"><i class="fa fa-plus"></i> New Income/Expense </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: red"></i><span class="caption-subject font-blue-madison bold" style="color: red !important">Active Income/Expense List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_5', 'Income-Expense List Active')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_5', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_5_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Type</label>
                                                                                <label><input type="checkbox" checked data-column="3">Notification</label>
                                                                                <label><input type="checkbox" checked data-column="4">Category Name</label>
                                                                                <label><input type="checkbox" checked data-column="5">Description</label>
                                                                                <label><input type="checkbox" data-column="6">Created By</label>
                                                                                <label><input type="checkbox" data-column="7">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_5">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Type
                                                                                </th>
                                                                                <th>
                                                                                    Notification
                                                                                </th>
                                                                                <th>
                                                                                    Category Name
                                                                                </th>
                                                                                <th>
                                                                                    Description
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($activeCategory as $activeCategoryResult) { ?>
                                                                            <tr id="category<?php echo $activeCategoryResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                            <li id="catEdit<?php echo $activeCategoryResult->id; ?>">
                                                                                                <a onclick="editCategoryData(<?php echo $activeCategoryResult->id; ?>)" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>
                                                                                            </li>
                                                                                            <?php if($activeCategoryResult->name != 'Sales' && $activeCategoryResult->name != 'Purchase') { ?>
                                                                                            <li id="catDelete<?php echo $activeCategoryResult->id; ?>">
                                                                                                <a onclick="deleteCategoryData(<?php echo $activeCategoryResult->id; ?>)"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>
                                                                                            </li>
                                                                                            <?php } ?>
                                                                                        </ul>
                                                                                    </div> 
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeCategoryResult->type == "Income") {
                                                                                            echo '<span id="radioIncomeExpense'.$activeCategoryResult->id.'"><span class="label label-sm label-success"> Income </span></span>';    
                                                                                        } else {
                                                                                            echo '<span id="radioIncomeExpense'.$activeCategoryResult->id.'"><span class="label label-sm label-danger"> Expense </span></span>';                                                                                                
                                                                                        }
                                                                                    ?>
                                                                                    <span id="categoryType<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->type; ?></span>
                                                                                    <span id="categoryNotification<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->isNotify; ?></span>
                                                                                    <span id="categoryName<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->name; ?></span>
                                                                                    <span id="categoryDescription<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->description; ?></span>
                                                                                    <span id="categoryEmail<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->email; ?></span>
                                                                                    <span id="categoryAmount<?php echo $activeCategoryResult->id; ?>" style="display:none"><?php echo $activeCategoryResult->amount; ?></span>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($activeCategoryResult->isNotify == 1) {
                                                                                            echo '<span class="label label-sm" style="background: #0000FF"> Yes </span>';    
                                                                                        } else {
                                                                                            echo '<span class="label label-sm label-warning"> No </span>';                                                                                                
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeCategoryResult->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeCategoryResult->description; ?>                                                       
                                                                                </td>
                                                                                <td>
                                                                                    <?php $team = $this->data_model->get_specific_column("name", array("id" => $activeCategoryResult->createdBy), "list_team"); echo $team[0]->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $activeCategoryResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                            <!-- BEGIN PAGE BASE CONTENT -->
                                            <div class="row IncomeExpenseListArchive" style="display: none">
                                                <div class="col-md-12">
                                                    <div class="profile-content">
                                                        <!-- BEGIN PORTLET -->
                                                        <div class="portlet light bordered">
                                                            <div class="portlet-title">
                                                                <div class="col-md-6 md-radio-inline" style="margin-top: 10px;">
                                                                    <div class="md-radio">
                                                                        <input id="radio29" name="radio29" value="active" class="md-radiobtn" type="radio">
                                                                        <label for="radio29">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> Active List </label>
                                                                    </div>
                                                                    <div class="md-radio">
                                                                        <input id="radio30" name="radio29" checked="" value="archive" class="md-radiobtn" type="radio">
                                                                        <label for="radio30">
                                                                            <span></span>
                                                                            <span class="check"></span>
                                                                            <span class="box"></span> <b>Archive List</b> </label>
                                                                    </div>
                                                                </div>
                                                                <div style="float: right;">
                                                                    <a class="btn green-haze btn-sm IncomeExpenseAddVisible"><i class="fa fa-plus"></i> New Income/Expense </a>
                                                                </div>
                                                            </div>
                                                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                            <div class="portlet box light bordered">
                                                                <div class="portlet-title" style="padding-left:1.5%; padding-right:1.5%">
                                                                    <div class="caption">
                                                                        <i class="fa fa-th-list" style="color: red"></i><span class="caption-subject font-blue-madison bold" style="color: red !important">Archive Income/Expense List</span>
                                                                    </div>
                                                                    <div class="actions">
                                                                        <div class="btn-group btn-group-solid">
                                                                            <a class="dt-button buttons-print btn dark btn-outline" onclick="printData('sample_55', 'Income-Expense List Inactive')"><i class="fa fa-print"></i><span>Print</span></a>
                                                                            <a class="dt-button btn yellow btn-outline" onclick="tableToExcel('sample_55', 'W3C Example Table')"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                                                            <a class="btn default" href="#" data-toggle="dropdown">
                                                                                <i class="fa fa-sliders"></i>More <i class="fa fa-angle-down"></i>
                                                                            </a>
                                                                            <div id="sample_55_column_toggler" class="dropdown-menu hold-on-click dropdown-checkboxes pull-right">
                                                                                <label><input type="checkbox" checked data-column="1">Manage</label>
                                                                                <label><input type="checkbox" checked data-column="2">Type</label>
                                                                                <label><input type="checkbox" checked data-column="3">Notification</label>
                                                                                <label><input type="checkbox" checked data-column="4">Category Name</label>
                                                                                <label><input type="checkbox" checked data-column="5">Description</label>
                                                                                <label><input type="checkbox" checked data-column="6">Created By</label>
                                                                                <label><input type="checkbox" checked data-column="7">Entry Date</label>
                                                                            </div>
                                                                            <a id="tFull" class="fullscreen fullscreen-recent dt-button buttons-csv buttons-html5 btn blue btn-outline"><i id="tFullIcon" class="fa fa-expand"></i></a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="portlet-body" class="portlet-body">
                                                                    <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_55">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>
                                                                                    Manage
                                                                                </th>
                                                                                <th>
                                                                                    Type
                                                                                </th>
                                                                                <th>
                                                                                    Notification
                                                                                </th>
                                                                                <th>
                                                                                    Category Name
                                                                                </th>
                                                                                <th>
                                                                                    Description
                                                                                </th>
                                                                                <th>
                                                                                    Created By
                                                                                </th>
                                                                                <th>
                                                                                    Entry Date
                                                                                </th>
                                                                                <th style="display: none;">
                                                                                    inputChat
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody class="uiSortableList">
                                                                            <?php foreach ($inActiveCategory as $inActiveCategoryResult) { ?>
                                                                            <tr id="category<?php echo $inActiveCategoryResult->id; ?>">
                                                                                <td>
                                                                                    <div class="btn-group" style="margin: -5px">
                                                                                        <button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage
                                                                                            <i class="fa fa-angle-down"></i>
                                                                                        </button>
                                                                                        <ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">
                                                                                            <li id="catActive<?php echo $inActiveCategoryResult->id; ?>">
                                                                                                <a onclick="activeCategoryData(<?php echo $inActiveCategoryResult->id; ?>)"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div> 
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($inActiveCategoryResult->type == "Income") {
                                                                                            echo '<span id="radioIncomeExpense'.$inActiveCategoryResult->id.'"><span class="label label-sm label-success"> Income </span></span>';    
                                                                                        } else {
                                                                                            echo '<span id="radioIncomeExpense'.$inActiveCategoryResult->id.'"><span class="label label-sm label-danger"> Expense </span></span>';                                                                                                
                                                                                        }
                                                                                    ?>
                                                                                    <span id="categoryType<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->type; ?></span>
                                                                                    <span id="categoryNotification<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->isNotify; ?></span>
                                                                                    <span id="categoryName<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->name; ?></span>
                                                                                    <span id="categoryDescription<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->description; ?></span>
                                                                                    <span id="categoryEmail<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->email; ?></span>
                                                                                    <span id="categoryAmount<?php echo $inActiveCategoryResult->id; ?>" style="display:none"><?php echo $inActiveCategoryResult->amount; ?></span>
                                                                                </td>
                                                                                <td>
                                                                                    <?php 
                                                                                        if($inActiveCategoryResult->isNotify == 1) {
                                                                                            echo '<span class="label label-sm" style="background: #0000FF"> Yes </span>';    
                                                                                        } else {
                                                                                            echo '<span class="label label-sm label-warning"> No </span>';                                                                                                
                                                                                        }
                                                                                    ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveCategoryResult->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveCategoryResult->description; ?>                                                       
                                                                                </td>
                                                                                <td>
                                                                                    <?php $team = $this->data_model->get_specific_column("name", array("id" => $inActiveCategoryResult->createdBy), "list_team"); echo $team[0]->name; ?>
                                                                                </td>
                                                                                <td>
                                                                                    <?php echo $inActiveCategoryResult->createdDateTime; ?>
                                                                                </td>
                                                                                <td style="display: none;">
                                                                                    <div class="col-md-12 col-sm-12">
                                                                                        <div class="portlet">
                                                                                            <div class="portlet-body" id="chats">                                                                           
                                                                                                <div class="ibox float-e-margins ui-sortable">
                                                                                                    <div style="position: static;" class="ibox-content" id="ibox_form">
                                                                                                        <div id="sysfrm_ajaxrender">
                                                                                                        <section class="activity-post mb-xlg">
                                                                                                            <form id="marking-form" method="get" action="/">
                                                                                                                <textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>
                                                                                                                <input id="activity-type" value="fa-hourglass" type="hidden">
                                                                                                                <input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">
                                                                                                            </form>
                                                                                                            <div class="compose-box-footer">
                                                                                                                <ul class="compose-toolbar">
                                                                                                                    <li id="fa-hourglass" onClick="iconChange('fa-hourglass');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>
                                                                                                                    <li id="fa-hourglass-start" onClick="iconChange('fa-hourglass-start');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>
                                                                                                                    <li id="fa-hourglass-o" onClick="iconChange('fa-hourglass-o');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>
                                                                                                                    <li id="fa-balance-scale" onClick="iconChange('fa-balance-scale');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>
                                                                                                                    <li id="fa-adjust" onClick="iconChange('fa-adjust');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>
                                                                                                                    <li id="fa-certificate" onClick="iconChange('fa-certificate');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>
                                                                                                                    <li id="fa-check" onClick="iconChange('fa-check');" class="clickable"><a><i class="fa fa-check"></i></a></li>
                                                                                                                    <li id="fa-times" onClick="iconChange('fa-times');" class="clickable"><a><i class="fa fa-times"></i></a></li>
                                                                                                                    <li id="fa-exchange" onClick="iconChange('fa-exchange');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>
                                                                                                                    <li id="fa-cog" onClick="iconChange('fa-cog');" class="clickable"><a><i class="fa fa-cog"></i></a></li>
                                                                                                                </ul>
                                                                                                                <ul class="compose-btn">
                                                                                                                    <li>
                                                                                                                        <a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </div>
                                                                                                            </section>
                                                                                                            <div style="margin-top:20px !important;" class="mt-lg"> </div>
                                                                                                                <div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">
                                                                                                                    <div id="timeline-item_id_1" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar1.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('1');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Md. Arif Dewan</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div id="timeline-item_id_2" class="timeline-item">
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-xs-3 date">
                                                                                                                                <img class="avatar" alt="" src="<?php echo base_url(); ?>assets/uploadedFile/profilePicture/avatar2.jpg" />
                                                                                                                                <span class="sdate"><b>17-03-16</b></span>
                                                                                                                                <br>
                                                                                                                                <small class="text-navy"><span class="mmnt">2 W ago</span></small>
                                                                                                                            </div>
                                                                                                                            <div class="col-xs-10 content no-top-border">
                                                                                                                                <i class="fa fa-cog iconMark"></i>
                                                                                                                                <a onclick="editMark('1');" class="btn btn-warning editCustom btn-xs"><i class="fa fa-edit"></i> Edit</a> 
                                                                                                                                <a onclick="deleteMark('2');" class="btn btn-danger deleteCustom btn-xs"><i class="fa fa-trash"></i> Delete</a> 
                                                                                                                                <p class="m-b-xs"><strong>Easmin</strong></p>
                                                                                                                                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. </p>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <a id="loadMore" class="btn green-haze btn-sm loadMore" style="float: right;"><i class="fa fa-refresh"></i> Load More </a>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <?php } ?>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <!-- END EXAMPLE TABLE PORTLET-->
                                                        </div>
                                                        <!-- END PORTLET -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END PAGE BASE CONTENT -->
                                        </div>
                                        <div id="EmailTemplate" style="display: none;">
                                            <div class="row" style="margin-top: 0px;">
                                                <div class="col-md-12">
                                                    <div class="panel-group accordion" id="accordion3">
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_2"><i class="icon-note" style="color: #26C281;"></i> Invoice email templates </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_3_2" class="panel-collapse in">
                                                                <div class="panel-body" style="padding-top: 40px;">
                                                                    <div class="portlet-title tabbable-line">
                                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                                            <li class="active">
                                                                                <a aria-expanded="true" href="#tab15" data-toggle="tab">Invoice Created</a>
                                                                            </li>
                                                                            <li class="">
                                                                                <a aria-expanded="false" href="#tab16" data-toggle="tab">Payment Reminder</a>
                                                                            </li>
                                                                            <li class="">
                                                                                <a aria-expanded="false" href="#tab17" data-toggle="tab">Overdue Notice</a>
                                                                            </li>
                                                                            <li class="">
                                                                                <a aria-expanded="false" href="#tab18" data-toggle="tab">Payment Confirmation</a>
                                                                            </li>
                                                                            <li class="">
                                                                                <a aria-expanded="false" href="#tab19" data-toggle="tab">Refund Confirmation</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                                        <div class="tab-content" style="margin-top: 35px;">
                                                                            <div class="tab-pane active" id="tab15">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $invoiceCreated = $this->data_model->get_all_info('*', array('emailType' => "Invoice Created"), 'settings_email_template'); ?>
                                                                                <form id="invoiceCreate" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="invoiceCreateSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="invoiceCreateSubject" name="invoiceCreateSubject" class="form-control" value="<?php echo $invoiceCreated[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="invoiceCreateEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="invoiceCreateEmail" name="invoiceCreateEmail" class="form-control" value="<?php echo $invoiceCreated[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="invoiceCreateBody" name="invoiceCreateBody" class="form-control mailBody" type="text"><?php echo $invoiceCreated[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox14Div" class="md-checkbox">
                                                                                            <input id="checkbox14" class="md-check" type="checkbox">
                                                                                            <label for="checkbox14">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox15Div" class="md-checkbox">
                                                                                            <input id="checkbox15" <?php if($invoiceCreated[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox15">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach invoice link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000001" type="hidden" />
                                                                                        <input id="invoiceCreatePDF" name="invoiceCreatePDF" value="<?php echo $invoiceCreated[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="invoiceCreateLink" name="invoiceCreateLink" value="<?php echo $invoiceCreated[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Invoice Created" type="hidden" />
                                                                                        <a id="invoiceCreateSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                            <div class="tab-pane" id="tab16">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $paymentReminder = $this->data_model->get_all_info('*', array('emailType' => "Payment Reminder"), 'settings_email_template'); ?>
                                                                                <form id="paymentReminder" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="paymentReminderSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="paymentReminderSubject" name="paymentReminderSubject" class="form-control" value="<?php echo $paymentReminder[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="paymentReminderEmailSubject" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input name="paymentReminderEmail" id="paymentReminderEmail" class="form-control" value="<?php echo $paymentReminder[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div id="paymentReminderBodyDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="paymentReminderBody" name="paymentReminderBody" class="form-control mailBody" type="text"><?php echo $paymentReminder[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox16Div" class="md-checkbox">
                                                                                            <input id="checkbox16" <?php if($paymentReminder[0]->isAttachPDF == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox16">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox17Div" class="md-checkbox">
                                                                                            <input id="checkbox17" <?php if($paymentReminder[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox17">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach invoice link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000002" type="hidden" />
                                                                                        <input id="paymentReminderPDF" name="paymentReminderPDF" value="<?php echo $paymentReminder[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="paymentReminderLink" name="paymentReminderLink" value="<?php echo $paymentReminder[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Payment Reminder" type="hidden" />
                                                                                        <a id="paymentReminderSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                            <div class="tab-pane" id="tab17">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $overdueNotice = $this->data_model->get_all_info('*', array('emailType' => "Overdue Notice"), 'settings_email_template'); ?>
                                                                                <form id="overdueNotice" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="overdueNoticeSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="overdueNoticeSubject" name="overdueNoticeSubject" class="form-control" value="<?php echo $overdueNotice[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="overdueNoticeEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="overdueNoticeEmail" name="overdueNoticeEmail" class="form-control" value="<?php echo $overdueNotice[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div id="overdueNoticeBodyDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="overdueNoticeBody" name="overdueNoticeBody" class="form-control mailBody" type="text"><?php echo $overdueNotice[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox18Div" class="md-checkbox">
                                                                                            <input id="checkbox18" <?php if($overdueNotice[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox18">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox19Div" class="md-checkbox">
                                                                                            <input id="checkbox19" <?php if($overdueNotice[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox19">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach invoice link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000003" type="hidden" />
                                                                                        <input id="overdueNoticePDF" name="overdueNoticePDF" value="<?php echo $paymentReminder[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="overdueNoticeLink" name="overdueNoticeLink" value="<?php echo $paymentReminder[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Overdue Notice" type="hidden" />
                                                                                        <a id="overdueNoticeSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                            <div class="tab-pane" id="tab18">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $paymentConfirmation = $this->data_model->get_all_info('*', array('emailType' => "Payment Confirmation"), 'settings_email_template'); ?>
                                                                                <form id="paymentConfirmation" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="paymentConfirmationSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="paymentConfirmationSubject" name="paymentConfirmationSubject" class="form-control" value="<?php echo $paymentConfirmation[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="paymentConfirmationEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="paymentConfirmationEmail" name="paymentConfirmationEmail" class="form-control" value="<?php echo $paymentConfirmation[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div id="paymentConfirmationBodyDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="paymentConfirmationBody" name="paymentConfirmationBody" class="form-control mailBody" type="text"><?php echo $paymentConfirmation[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox20Div" class="md-checkbox">
                                                                                            <input id="checkbox20" <?php if($paymentConfirmation[0]->isAttachPDF == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox20">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox21Div" class="md-checkbox">
                                                                                            <input id="checkbox21" <?php if($paymentConfirmation[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox21">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach invoice link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000004" type="hidden" />
                                                                                        <input id="paymentConfirmationPDF" name="paymentConfirmationPDF" value="<?php echo $paymentConfirmation[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="paymentConfirmationLink" name="paymentConfirmationLink" value="<?php echo $paymentConfirmation[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Payment Confirmation" type="hidden" />
                                                                                        <a id="paymentConfirmationSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                            <div class="tab-pane" id="tab19">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $refundConfirmation = $this->data_model->get_all_info('*', array('emailType' => "Refund Confirmation"), 'settings_email_template'); ?>
                                                                                <form id="refundConfirmation" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="refundConfirmationSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="refundConfirmationSubject" name="refundConfirmationSubject" class="form-control" value="<?php echo $refundConfirmation[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="refundConfirmationEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="refundConfirmationEmail" name="refundConfirmationEmail" class="form-control" value="<?php echo $refundConfirmation[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div id="refundConfirmationBodyDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="refundConfirmationBody" name="refundConfirmationBody" class="form-control mailBody" type="text"><?php echo $refundConfirmation[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox22Div" class="md-checkbox">
                                                                                            <input id="checkbox22" <?php if($refundConfirmation[0]->isAttachPDF == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox22">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox23Div" class="md-checkbox">
                                                                                            <input id="checkbox23" <?php if($refundConfirmation[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox23">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach invoice link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000005" type="hidden" />
                                                                                        <input id="refundConfirmationPDF" name="refundConfirmationPDF" value="<?php echo $refundConfirmation[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="refundConfirmationLink" name="refundConfirmationLink" value="<?php echo $refundConfirmation[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Refund Confirmation" type="hidden" />
                                                                                        <a id="refundConfirmationSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_3"><i class="icon-pencil" style="color: #C5BF66;"></i> Estimate email templates </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_3_3" class="panel-collapse collapse">
                                                                <div class="panel-body" style="padding-top: 40px;">
                                                                    <div class="portlet-title tabbable-line">
                                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                                            <li class="active">
                                                                                <a aria-expanded="true" href="#tab21" data-toggle="tab">Estimate Created</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                                        <div class="tab-content" style="margin-top: 35px;">
                                                                            <div class="tab-pane active" id="tab21">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $estimateCreated = $this->data_model->get_all_info('*', array('emailType' => "Estimate Created"), 'settings_email_template'); ?>
                                                                                <form id="estimateCreate" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="estimateCreateSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="estimateCreateSubject" name="estimateCreateSubject" class="form-control" value="<?php echo $estimateCreated[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="estimateCreateEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="estimateCreateEmail" name="estimateCreateEmail" class="form-control" value="<?php echo $estimateCreated[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="estimateCreateBody" name="estimateCreateBody" class="form-control mailBody" type="text"><?php echo $estimateCreated[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox24Div" class="md-checkbox">
                                                                                            <input id="checkbox24" class="md-check" type="checkbox">
                                                                                            <label for="checkbox24">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox25Div" class="md-checkbox">
                                                                                            <input id="checkbox25" <?php if($estimateCreated[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox25">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach estimate link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000007" type="hidden" />
                                                                                        <input id="estimateCreatePDF" name="estimateCreatePDF" value="<?php echo $estimateCreated[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="estimateCreateLink" name="estimateCreateLink" value="<?php echo $estimateCreated[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Estimate Created" type="hidden" />
                                                                                        <a id="estimateCreateSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_4"><i class="icon-handbag" style="color: #D05454;"></i> Bill email templates </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_3_4" class="panel-collapse collapse">
                                                                <div class="panel-body" style="padding-top: 40px;">
                                                                    <div class="portlet-title tabbable-line">
                                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                                            <li class="active">
                                                                                <a aria-expanded="true" href="#tab22" data-toggle="tab">Bill Created</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                                        <div class="tab-content" style="margin-top: 35px;">
                                                                            <div class="tab-pane active" id="tab22">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $billCreated = $this->data_model->get_all_info('*', array('emailType' => "Bill Created"), 'settings_email_template'); ?>
                                                                                <form id="billCreate" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="billCreateSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="billCreateSubject" name="billCreateSubject" class="form-control" value="<?php echo $billCreated[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="billCreateEmailDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="billCreateEmail" name="billCreateEmail" class="form-control" value="<?php echo $billCreated[0]->bccEmailAddress; ?>" type="text">
                                                                                                <label for="form_control_1">Default BCC address</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-envelope"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="billCreateBody" name="billCreateBody" class="form-control mailBody" type="text"><?php echo $billCreated[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox26Div" class="md-checkbox">
                                                                                            <input id="checkbox26" class="md-check" type="checkbox">
                                                                                            <label for="checkbox26">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox27Div" class="md-checkbox">
                                                                                            <input id="checkbox27" <?php if($billCreated[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox27">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach bill link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000008" type="hidden" />
                                                                                        <input id="billCreatePDF" name="billCreatePDF" value="<?php echo $billCreated[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="billCreateLink" name="billCreateLink" value="<?php echo $billCreated[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Bill Created" type="hidden" />
                                                                                        <a id="billCreateSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_5"><i class="icon-directions" style="color: #4B77BE;"></i> Receipt email templates </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_3_5" class="panel-collapse collapse">
                                                                <div class="panel-body" style="padding-top: 40px;">
                                                                    <div class="portlet-title tabbable-line">
                                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                                            <li class="active">
                                                                                <a aria-expanded="true" href="#tab23" data-toggle="tab">Receipt Created</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                                        <div class="tab-content" style="margin-top: 35px;">
                                                                            <div class="tab-pane active" id="tab23">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $receiptCreated = $this->data_model->get_all_info('*', array('emailType' => "Receipt Created"), 'settings_email_template'); ?>
                                                                                <form id="receiptCreate" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="receiptCreateSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="receiptCreateSubject" name="receiptCreateSubject" class="form-control" value="<?php echo $receiptCreated[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="receiptCreateBody" name="receiptCreateBody" class="form-control mailBody" type="text"><?php echo $receiptCreated[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox28Div" class="md-checkbox">
                                                                                            <input id="checkbox28" class="md-check" type="checkbox">
                                                                                            <label for="checkbox28">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach PDF by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <div id="checkbox29Div" class="md-checkbox">
                                                                                            <input id="checkbox29" <?php if($receiptCreated[0]->isAttachLink == 1) { echo 'checked=""';} ?> class="md-check" type="checkbox">
                                                                                            <label for="checkbox29">
                                                                                                <span></span>
                                                                                                <span class="check"></span>
                                                                                                <span class="box"></span> Attach receipt link by default. </label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000009" type="hidden" />
                                                                                        <input id="receiptCreatePDF" name="receiptCreatePDF" value="<?php echo $receiptCreated[0]->isAttachPDF; ?>" type="hidden" />
                                                                                        <input id="receiptCreateLink" name="receiptCreateLink" value="<?php echo $receiptCreated[0]->isAttachLink; ?>" type="hidden" />
                                                                                        <input id="type" name="type" value="Receipt Created" type="hidden" />
                                                                                        <a id="receiptCreateSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_6"><i class="fa fa-bullseye" style="color: #FF0000;"></i> Notification email templates </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_3_6" class="panel-collapse collapse">
                                                                <div class="panel-body" style="padding-top: 40px;">
                                                                    <div class="portlet-title tabbable-line">
                                                                        <ul class="nav nav-pills" style="float:right; margin-top: -25px;">
                                                                            <li class="active">
                                                                                <a aria-expanded="true" href="#tab20" data-toggle="tab">Transaction Notification</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="tabbable tabbable-tabdrop" style="margin-top: 25px;">                                                
                                                                        <div class="tab-content" style="margin-top: 35px;">
                                                                            <div class="tab-pane active" id="tab20">
                                                                                <div class="clearfix"> </div>
                                                                                <?php $notification = $this->data_model->get_all_info('*', array('emailType' => "Notification"), 'settings_email_template'); ?>
                                                                                <form id="notification" role="form" action="#">
                                                                                    <div class="col-md-6">
                                                                                        <div id="notificationSubjectDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <div class="input-icon">
                                                                                                <input id="notificationSubject" name="notificationSubject" class="form-control" value="<?php echo $notification[0]->emailSubject; ?>" type="text">
                                                                                                <label for="form_control_1">Default email subject</label>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="fa fa-sticky-note-o"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12" style="margin-top: 15px;">
                                                                                        <div id="notificationBodyDiv" class="form-group form-md-line-input form-md-floating-label">
                                                                                            <label for="form_control_1" style="margin-bottom: 10px;">Default email body</label>
                                                                                            <div class="input-icon">
                                                                                                <textarea id="notificationBody" name="notificationBody" class="form-control mailBody" type="text"><?php echo $notification[0]->emailBody; ?></textarea>
                                                                                                <span class="help-block"></span>
                                                                                                <i class="icon-speech"></i>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-12 margiv-top-10"><br>
                                                                                        <input name="systemId" value="bcet000006" type="hidden" />
                                                                                        <input id="type" name="type" value="Notification" type="hidden" />
                                                                                        <a id="notificationSubmit" href="javascript:;" class="btn green"><i class="fa fa-save"></i> Save Changes </a>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END PAGE BASE CONTENT -->
                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
            <!-- BEGIN QUICK SIDEBAR -->
            <?php include('partials/quick_side_bar.php'); ?>
            <!-- END QUICK SIDEBAR -->
        </div>
        <!-- END CONTAINER -->
        <!-- BEGIN FOOTER -->
        <?php include('partials/footer.php'); ?>
        <!-- END FOOTER -->     
        <div id="overlay" style="display: none;">
            <img id="loading" alt="" class="img-responsive" src="" />
        </div>
        <!--[if lt IE 9]>
        <script src="<?php echo base_url(); ?>assets/global/plugins/respond.min.js"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/excanvas.min.js"></script> 
        <![endif]-->
        <!-- BEGIN CORE PLUGINS -->
        <script type="text/javascript">
            var page = '<?php echo $this->uri->segment(1) ?>';
            var uriParameter = '<?php echo $this->uri->segment(3) ?>';
            var base_link = "<?php echo base_url(); ?>";
            var invoiceDefaultLogoSize = <?php echo $invoiceEstimate[0]->logoSize; ?>;
            var userId = <?php echo $this->session->userdata('id'); ?>;
            var userNameFull = '<?php echo $this->session->userdata('userNameFull'); ?>';
            var mobileOperator = ['011', '015', '016', '017', '018', '019'];
            var currentBank = '';
            var totalBank = "<?php echo $totalBank; ?>";
            var currentProduct = '';
            var totalProduct = "<?php echo $totalProduct; ?>";
            var currentTax = '';
            var totalTax = "<?php echo $totalTax; ?>";
            var currentCategory = '';
            var totalCategory = "<?php echo $totalCategory; ?>";
            var currentActivity = '';
            var totalActivity =  "<?php echo $totalActivity; ?>";
            var currentdate = new Date();
            var getDateTime = currentdate.getFullYear() + "-"
                            + (currentdate.getMonth()+1)  + "-" 
                            + currentdate.getDate() + " "  
                            + (currentdate.getHours() % 12 || 12) + ":"  
                            + currentdate.getMinutes() + ":" 
                            + currentdate.getSeconds();
            var customURL = '';
        </script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
        <!-- IMPORTANT! Load jquery-ui-1.10.3.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/cubeportfolio/js/jquery.cubeportfolio.min.js" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery-nestable/jquery.nestable.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-modal/js/bootstrap-modal.js" type="text/javascript"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/select2/js/select2.min.js"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/moment-with-locales.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/jquery.mockjax.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-editable/bootstrap-editable/js/bootstrap-editable.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-editable/inputs-ext/address/address.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/nouislider/wNumb.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/nouislider/nouislider.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-toastr/toastr.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/dropzone/dropzone.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/global/plugins/bootstrap-tabdrop/js/bootstrap-tabdrop.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="<?php echo base_url(); ?>assets/global/scripts/app.min.js" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/TableTools/js/dataTables.tableTools.min.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/ColReorder/js/dataTables.colReorder.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/ColVis/js/dataTables.colVis.min.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/ColResize/dataTables.colResize.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/Scroller/js/dataTables.scroller.min.js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/extensions/api/sum().js"></script>
        <script type="text/javascript" src="<?php echo base_url(); ?>assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="<?php echo base_url(); ?>assets/pages/scripts/portfolio-1.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <script src="<?php echo base_url(); ?>assets/pages/scripts/components-nouisliders.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/ui-extended-modals.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/components-date-time-pickers.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/components-select2.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/form-editable.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/components-bootstrap-switch.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/layouts/layout4/scripts/layout.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/layouts/layout4/scripts/demo.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
        <!-- END THEME LAYOUT SCRIPTS -->
        <!-- BEGIN systemOwn SCRIPTS -->
        <script src="<?php echo base_url(); ?>assets/pages/scripts/form-dropzone.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/systemOwn/scripts/custom_common.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/ui-toastr.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/systemOwn/plugins/readactor/scripts/redactor.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/systemOwn/scripts/sweetalert.min.js" type="text/javascript"></script>
        <script src="<?php echo base_url(); ?>assets/pages/scripts/table-advanced.js" type="text/javascript"></script>
        <!-- END systemOwn SCRIPTS -->
        <script type="text/javascript">
            $(document).ready(function() {
                var updateOutput = function (e) {
                    var list = e.length ? e : $(e.target),
                        output = list.data('output');
                    if (window.JSON) {
                        output.val(window.JSON.stringify(list.nestable('serialize'))); //, null, 2));
                    } else {
                        output.val('JSON browser support required for this demo.');
                    }
                };
                $('#nestable_list_3').nestable({group: 1, maxDepth: 2}).on('change', updateOutput);
                updateOutput($('#nestable_list_3').data('output', $('#nestable-output'), true));                
                $("#currencyLocal").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });            
                var localCurrencySymbol = "<?php echo $basicSettings[0]->currencySymbol ?>";
                $("#currencyLocal").select2("val", localCurrencySymbol);
                $("#currencyForeign").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });            
                var foreignCurrencySymbol = "<?php echo $basicSettings[0]->foreignCurrencySymbol ?>";
                $("#currencyForeign").select2("val", foreignCurrencySymbol);    
                $("#dateFormate").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });
                var dateFormate = "<?php echo $basicSettings[0]->dateFormate ?>";
                $("#dateFormate").select2("val", dateFormate);

                $("#currencyFormate").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });
                var currencyFormate = "<?php echo $basicSettings[0]->currencyFormate ?>";
                $("#currencyFormate").select2("val", currencyFormate);

                $("#invoiceTerms").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });
                var invoiceTerms = "<?php echo $invoiceEstimate[0]->paymentTermInvoice ?>";
                $("#invoiceTerms").select2("val", invoiceTerms);

                $("#estimateTerms").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });
                var estimateTerms = "<?php echo $invoiceEstimate[0]->paymentTermEstimate ?>";
                $("#estimateTerms").select2("val", estimateTerms);

                $("#purchaseTerms").select2({
                    theme: "bootstrap",
                    language: {
                        noResults: function () {
                            return $("#_lan_no_results_found").val();
                        }
                    }
                });
                var purchaseTerms = "<?php echo $invoiceEstimate[0]->paymentTermPurchase ?>";
                $("#purchaseTerms").select2("val", purchaseTerms);
            });
            function activityListId() {
                if(totalActivity < 10) {
                    currentActivity = "00000"+(++totalActivity);
                    return currentActivity;
                } else if(totalActivity < 100) {
                    currentActivity = "0000"+(++totalActivity);  
                    return currentActivity;              
                } else if(totalActivity < 1000) {
                    currentActivity = "000"+(++totalActivity);
                    return currentActivity;                
                } else if(totalActivity < 10000) {
                    currentActivity = "00"+(++totalActivity); 
                    return currentActivity;               
                } else if(totalActivity < 100000) {
                    currentActivity = "0"+(++totalActivity); 
                    return currentActivity;               
                }
            }
            function bankListId() {
                if(totalBank < 10) {
                    currentBank = "00000"+(++totalBank);
                } else if(totalBank < 100) {
                    currentBank = "0000"+(++totalBank);                
                } else if(totalBank < 1000) {
                    currentBank = "000"+(++totalBank);                
                } else if(totalBank < 10000) {
                    currentBank = "00"+(++totalBank);                
                } else if(totalBank < 100000) {
                    currentBank = "0"+(++totalBank);                
                }
                $("#bankSystemCode").val("bcba"+(currentBank));
            }
            bankListId();
            function categoryListId() {
                if(totalCategory < 10) {
                    currentCategory = "00000"+(++totalCategory);
                } else if(totalCategory < 100) {
                    currentCategory = "0000"+(++totalCategory);                
                } else if(totalCategory < 1000) {
                    currentCategory = "000"+(++totalCategory);                
                } else if(totalCategory < 10000) {
                    currentCategory = "00"+(++totalCategory);                
                } else if(totalCategory < 100000) {
                    currentCategory = "0"+(++totalCategory);                
                }
                $("#categorySystemCode").val("bccn"+(currentCategory));
            }
            categoryListId();
            function taxListId() {
                if(totalTax < 10) {
                    currentTax = "00000"+(++totalTax);
                } else if(totalTax < 100) {
                    currentTax = "0000"+(++totalTax);                
                } else if(totalTax < 1000) {
                    currentTax = "000"+(++totalTax);                
                } else if(totalTax < 10000) {
                    currentTax = "00"+(++totalTax);                
                } else if(totalTax < 100000) {
                    currentTax = "0"+(++totalTax);                
                }
                $("#taxSystemCode").val("bc"+(currentTax));
            }
            taxListId();
            function productListId() {
                if(totalProduct < 10) {
                    currentProduct = "00000"+(++totalProduct);
                } else if(totalProduct < 100) {
                    currentProduct = "0000"+(++totalProduct);                
                } else if(totalProduct < 1000) {
                    currentProduct = "000"+(++totalProduct);                
                } else if(totalProduct < 10000) {
                    currentProduct = "00"+(++totalProduct);                
                } else if(totalProduct < 100000) {
                    currentProduct = "0"+(++totalProduct);                
                }
                $("#productSystemCode").val("bcp"+(currentProduct));
            }
            productListId();
            $('<audio id="chatAudio"><source src="'+base_link+'assets/uploadedFile/sound/notify.ogg" type="audio/ogg"><source src="'+base_link+'assets/uploadedFile/sound/notify.mp3" type="audio/mpeg"><source src="'+base_link+'assets/uploadedFile/sound/notify.wav" type="audio/wav"></audio>').appendTo('body');
            function setLoadingImage() {
                var loadingImageCollection = ['loading16.gif'];
                var loadingImage = Math.floor(Math.random()*loadingImageCollection.length);
                var ImgSrc = base_link+"assets/uploadedFile/animation/"+loadingImageCollection[loadingImage];
                $('#loading').attr("src", ImgSrc);
            }          
            function validateEmail($email) {
                var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                return emailReg.test( $email );
            }
            jQuery(document).ready(function() {
                // $('.mailBody').redactor({
                //     minHeight: 150 // pixels
                // });
                TableAdvanced.init();
                var table = $('#sample_4').DataTable();
                $('#tTable').on( 'click', function () {
                    swal("Sum of Engine Version in this Table", parseFloat(table.column( 5 ).data().sum()).toFixed(2));
                });          
                $('#cPage').on( 'click', function () {
                    swal("Sum of Engine Version in this Page", parseFloat(table.column( 5, {page:'current'} ).data().sum()).toFixed(2));
                });
            });
            if(uriParameter == 'Product') {
                var oldActive = "product";
            } else if(uriParameter == 'IncomeExpense') {
                var oldActive = "IncomeExpense";
            } else {
                var oldActive = "business";
            }
            // <!-- Start Page Scroll -->            
            $(function(){            
                var $scrollPercentText = $("#scroll-percent");            
                var $window = $(window);
                var documentHeight = $(document).height();
                var windowHeight = $window.height();
                var scrollTop = $window.scrollTop();
                
                $window.on("resize", function(){
                    windowHeight = $window.height();
                }).resize();
                
                $window.on("scroll", function() {                
                    scrollTop = $(window).scrollTop();              
                    var scrollPercent = (scrollTop) / (documentHeight - windowHeight); //gives us the scroll percent range from 0 to 1
                    if(scrollPercent > 0) {
                        $('#scroll-percent').css('display', 'block');
                    } else {
                        $('#scroll-percent').css('display', 'none');
                    }
                    $scrollPercentText.html( Math.round(scrollPercent*100) + "<span>%</span>" ); //gives us the scroll percent range from 0 to 100                
                });
            });            
            var isInstallment = <?php echo $basicSettings[0]->isInstallment; ?>;
            if(isInstallment == 1) {
                $('#installmentPeriod').slideDown('slow');
                $('#radioPeriod').slideDown('slow');
            } else {
                $('#installmentPeriod').slideUp('slow');
                $('#radioPeriod').slideUp('slow');                
            }
            $('#checkbox4').click(function() {
                if ($(this).is(':checked')) {
                    $('#installmentPeriod').slideDown('slow');
                    $('#isInstallmentCheck').val(1);
                } else {
                    $('#installmentPeriod').slideUp('slow');
                    $('#radioPeriod').slideUp('slow');
                    $('#isInstallmentCheck').val(0);
                }
            });
            $('#installmentTime').click(function() {
                $('#radioPeriod').slideDown('slow');
            });
            // <!-- End Page Scroll -->
            if(uriParameter == 'Product') {
                $('.business').removeClass("active");
                $('#business').css("display", "none");
                oldActive = 'product';
                $('.product').addClass("active"); 
                $('#tabTitle').html('Product Enrollment');
                $('.ProductDiv').removeAttr("style");
                // $('#Product').css("display", "block");
            } else if(uriParameter == 'IncomeExpense') {                
                $('.business').removeClass("active");
                $('#business').css("display", "none");
                oldActive = 'IncomeExpense';
                $('.IncomeExpense').addClass("active"); 
                $('#tabTitle').html('Income Expense Settings');
                $('#IncomeExpense').css("display", "block");
            } else {
                $('.'+oldActive).removeClass("active");
                $('#'+oldActive).css("display", "none");
                $('.'+oldActive).addClass("active"); 
                $('#tabTitle').html(oldActive+ " Settings");
                $('#'+oldActive).css("display", "block");
                $('#tabTitle').css('textTransform', 'capitalize');
            } 

            function activateHorizontalMenu(argument) {
                $('.'+oldActive).removeClass("active");
                $('#'+oldActive).css("display", "none");
                oldActive = argument.replace(/ /g,'');
                $('.'+oldActive).addClass("active"); 
                $('#tabTitle').html(oldActive+ " Settings");
                $('#'+oldActive).css("display", "block"); 
                if(oldActive == "Invoice") {
                    $('.InvoiceDiv').removeAttr("style");                     
                } else {
                    $('.InvoiceDiv').css("display", "none");
                }
                if(oldActive == 'Product') {
                    $('.ProductDiv').removeAttr("style");                    
                    $('#tabTitle').html('Product Enrollment');                  
                } else {
                    $('.ProductDiv').css("display", "none");
                }
                if(oldActive == 'IncomeExpense') {
                    $('#tabTitle').html('Income Expense Settings');
                }  
                if(oldActive == 'BankCash') {
                    $('#tabTitle').html('Bank & Cash Settings');
                } 
                if(oldActive == 'EmailTemplate') {
                    $('#tabTitle').html('Default Email Template Settings');
                } 
                $('#tabTitle').css('textTransform', 'capitalize');
            }
            $('.taxListVisible').on('click', function(e) {
                $('#taxUpdate').attr('id', 'taxSave');
                $('#taxSave').html('<i class="fa fa-save"></i> Save');
                $('#taxUpdateNew').attr('id', 'taxSaveNew');
                $('#taxSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                $('#addTax')[0].reset();
                $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                $('.addTax').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                $('#addTax').trigger("reset");
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('.taxAddVisible').on('click', function(e) {
                $('.addTax').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('.productListVisible').on('click', function(e) {
                $('#productUpdate').attr('id', 'productSave');
                $('#productSave').html('<i class="fa fa-save"></i> Save');
                $('#productUpdateNew').attr('id', 'productSaveNew');
                $('#productSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                $('#addProduct')[0].reset();
                $('#productPicture').css('display', 'block');
                $('#productPictureDiv').css('display', 'none');
                $('#productPictureImg').attr('src', base_link +'assets/uploadedFile/productPicture/productDefault.jpg');
                $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                $('#warranty').bootstrapSwitch('state', false);
                $('#radioMonth').attr("checked", true);
                $('#discountCheckDiv').slideUp("slow");
                $('.radioCheck').slideUp("slow"); 
                $('.addProduct').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                $('#addProduct').trigger("reset");
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('.productAddVisible').on('click', function(e) {
                $('.addProduct').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });             
            $('.BankCashListVisible').on('click', function(e) {
                $('#bankAccountTitle').attr("readonly", false) ;
                $('#bankUpdate').attr('id', 'bankSave');
                $('#bankSave').html('<i class="fa fa-save"></i> Save');
                $('#bankUpdateNew').attr('id', 'bankSaveNew');
                $('#bankSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                $('#addBankCash')[0].reset();
                $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                $('.addBankCash').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                $('#addBankCash').trigger("reset");
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('.BankCashAddVisible').on('click', function(e) {
                $('.addBankCash').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });          
            $('.IncomeExpenseListVisible').on('click', function(e) {
                $('#categoryName').attr("readonly", false);
                $('.moreCheck').slideDown("slow");
                $('#radio221').attr("checked", false);
                $('#radio222').attr("checked", true);
                $('#notofication').bootstrapSwitch('state', false);
                $('#categoryUpdate').attr('id', 'categorySave');
                $('#categorySave').html('<i class="fa fa-save"></i> Save');
                $('#categoryUpdateNew').attr('id', 'categorySaveNew');
                $('#categorySaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                $('#addIncomeExpense')[0].reset();
                $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                $('.addIncomeExpense').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                $('#addIncomeExpense').trigger("reset");
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('.IncomeExpenseAddVisible').on('click', function(e) {
                $('.addIncomeExpense').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            });
            $('#warranty').on('switchChange.bootstrapSwitch', function (event, state) {
                if(state) {
                    $(".discountCheck").slideDown('slow');
                    $("#warrantyYes").val(1);
                } else {
                    $("#warrantyYes").val(0);
                    $("#discountCheck").val('');
                    $(".discountCheck").slideUp('slow');
                    $(".radioCheck").slideUp('slow');
                }
            });
            $("#discountCheck").click(function(){
                //$(".radioCheck").show("fast");
                $(".radioCheck").slideDown('slow');
                //$(".radioCheck").show("slide", { direction: "right" }, 3000);
            });

            function printData(tableName, heading) {
               var divToPrint=document.getElementById(tableName);
               newWin= window.open("");
               newWin.document.write(divToPrint.outerHTML);
               newWin.document.write("<title>"+heading+"</title>");
               newWin.print();
               newWin.close();
            }

            function returnAccess() { }
            // trigger function in the begining 
            returnAccess();
            var tableToExcel = (function() {
              var uri = 'data:application/vnd.ms-excel;base64,'
                , template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>'
                , base64 = function(s) { return window.btoa(unescape(encodeURIComponent(s))) }
                , format = function(s, c) { return s.replace(/{(\w+)}/g, function(m, p) { return c[p]; }) }
              return function(table, name) {
                if (!table.nodeType) table = document.getElementById(table)
                var ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}
                window.location.href = uri + base64(format(template, ctx))
              }
            })()
            $(function() {
                $(".uiSortableList").sortable({ 
                    opacity: 0.5, cursor: 'move', update: function() {
                    var order = $(this).sortable("serialize") + '&action=update'; 
                        /*
                        $.ajax({
                            type: 'post',
                            url: base_link+"preInvoiceion/reorder_style_post",
                            data: order,
                            cache: false,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            toastr.success(" New Remark created for task.", "New Remark");
                                        }, 1000);
                                    }, 500);
                                    var acTitle = "Remark new added";
                                    var acType = "fa-edit";
                                    var acLabel = "label-success";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'title='+ acTitle+'&type='+ acType +'&label='+ acLabel+'&userId='+ baseId,
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("ser added now.", "Recent Activity Added");  
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                alert('Not connect.\n Verify Network.');
                                            } else if (jqXHR.status == 404) {
                                                alert('Requested page not found. [404]');
                                            } else if (jqXHR.status == 500) {
                                                alert('Internal Server Error [500].');
                                            } else if (exception === 'parsererror') {
                                                alert('Requested JSON parse failed.');
                                            } else if (exception === 'timeout') {
                                                alert('Time out error.');
                                            } else if (exception === 'abort') {
                                                alert('Ajax request aborted.');
                                            } else {
                                                alert('Uncaught Error.\n' + jqXHR.responseText);
                                            }
                                        }
                                    });
                                }
                            }
                        });
                        */
                    }
                });
            });
            var addCategoryNo = <?php echo count($productCategories); ?>;
            var productClist = <?php echo json_encode($liveArray) ?>;

            function updatePcategory(id) {
                $('.inPage').css("display", 'block');
                $('.newInput').val($('.text'+id).text().trim());
                $('#oldIdCat').val(id);
                $('#oldType').val(1);
                $('#entrySave').removeClass('saveButton');
                $('#entrySave').addClass('updateButton');
            }

            function deletePcategory(id) {
                $.ajax({
                    url: base_link+'settings/deleteCategory',
                    type: 'POST',
                    data: 'id='+id,
                    async: false,
                    beforeSend: function() {
                        $('#overlay').css('display', 'block');
                        setLoadingImage();
                    },
                    complete: function() {
                        $('#overlay').css('display', 'none');
                        $('#loadingSpinner').remove();
                        $('#chatAudio')[0].play();
                    },
                    success: function (response) { 
                        r = $.parseJSON(response);
                        if(r.response == "success") {
                            toastr.options = {
                                "closeButton": true,
                                "debug": true,
                                "positionClass": "toast-top-right",
                                "showDuration": "1000",
                                "hideDuration": "1000",
                                "timeOut": "5000",
                                "extendedTimeOut": "1000",
                                "showEasing": "swing",
                                "hideEasing": "linear",
                                "showMethod": "fadeIn",
                                "hideMethod": "fadeOut"
                            }
                            setTimeout(function() {
                                toastr.error(" You successfully deleted product category", "Delete Product Category");
                                $('.deleteButton'+id).closest('.dd-item').remove();
                            }, 1000);
                            var activityId = activityListId();
                            var acType = "fa-plus";
                            var acLabel = "label-success";
                            $.ajax({
                                url: base_link+'recent_activity/add_activity_without_toastr/',
                                data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=delete'+ '&title=category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                type: "POST",
								dataType: 'json',
								contentType: 'json',
                                success: function(json) {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    toastr.info("", "Recent activity recorded");
                                }, 
                                error: function(jqXHR, exception) {
                                    if (jqXHR.status === 0) {
                                        sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                    } else if (jqXHR.status == 404) {
                                        sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                    } else if (jqXHR.status == 500) {
                                        sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                    } else if (exception === 'parsererror') {
                                        sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                    } else if (exception === 'timeout') {
                                        sweetAlert("Oops...", "Time out error.", "error");
                                    } else if (exception === 'abort') {
                                        sweetAlert("Oops...", "Ajax request aborted.", "error");
                                    } else {
                                        // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                    }
                                }
                            });
                        }
                    }, 
                    error: function(jqXHR, exception) {
                        if (jqXHR.status === 0) {
                            sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                        } else if (jqXHR.status == 404) {
                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                        } else if (jqXHR.status == 500) {
                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                        } else if (exception === 'parsererror') {
                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                        } else if (exception === 'timeout') {
                            sweetAlert("Oops...", "Time out error.", "error");
                        } else if (exception === 'abort') {
                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                        } else {
                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                        }
                    }
                });
            }

            $('#entrySave').click(function () {
                if($('#oldType').val() == 0) {
                    var selectError = false;
                    var selectedId = $('.newInput').val();
                    if(selectedId == '') {
                        $('.saveButton').closest('.default-tax-row').addClass('errorInput');
                        return false;
                    } else {
                        $('.saveButton').closest('.default-tax-row').removeClass('errorInput');
                    }
                    if ($.inArray(selectedId, productClist) == -1) {
                        productClist = [];
                        $('[name="name[]"]').each(function() {
                            productClist.push($(this).val());                            
                        });
                        $('.saveButton').closest('.default-tax-row').removeClass('errorInput');
                        $('.saveButton').closest('.default-tax-row').removeClass('successInput');
                    } else {
                        selectError = true;                            
                        productClist = [];
                        $('[name="name[]"]').each(function() {
                            productClist.push($(this).val());                            
                        });
                        $('.saveButton').closest('.default-tax-row').removeClass('successInput');
                        $('.saveButton').closest('.default-tax-row').addClass('errorInput');
                    } 
                    $.ajax({
                        url: base_link+'settings/addCategory',
                        type: 'POST',
                        data: 'value='+selectedId,
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response); 
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    toastr.success(" You successfully added product category", "Add Product Category");
                                    $('.inPage').css('display', 'none');
                                    var dataCat =   '<li class="dd-item dd3-item" data-id="'+r.dataIndex+'">'+
                                                        '<div onclick="dd_main('+r.dataIndex+')">'+
                                                            '<div class="dd-main'+r.dataIndex+' dd-handle dd3-handle"> </div>'+
                                                            '<div class="dd3-content"> '+
                                                                '<label class="textLabel text'+r.dataIndex+'"> '+selectedId+' </label>'+
                                                                '<div class="span-right" style="float:right;">'+
                                                                    '<span style="margin-right: 4px;"><b>|</b></span>'+
                                                                    '<i style="margin-right: 4px;" class="fa fa-pencil updateButton" onclick="updatePcategory('+r.dataIndex+');"></i>'+
                                                                    '<i class="fa fa-trash deleteButton" onclick="deletePcategory('+r.dataIndex+');"></i>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</li>';
                                    $('.allList').append(dataCat);
                                    $('.newInput').val('');  
                                    $('#addCato').bootstrapSwitch('state', false);
                                }, 1000);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                }); 
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                } else {
                    var selectError = false;
                    var selectedId = $('.newInput').val();
                    var id = $('#oldIdCat').val();
                    if(selectedId == '') {
                        $('.updateButton').closest('.default-tax-row').addClass('errorInput');
                        return false;
                    } else {
                        $('.updateButton').closest('.default-tax-row').removeClass('errorInput');
                    }
                    $.ajax({
                        url: base_link+'settings/updateCategory',
                        type: 'POST',
                        data: 'id='+$('#oldIdCat').val()+'&value='+selectedId,
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") { 
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                $('.inPage').css('display', 'none');
                                setTimeout(function() {
                                    toastr.success(" You successfully Added Product Category", "Add Product Category");
                                    $('.newInput').val('');
                                    $('#oldIdCat').val('');
                                    $('#oldType').val(0);
                                    $('#entrySave').removeClass('updateButton');
                                    $('#entrySave').addClass('saveButton');
                                    $('.text'+id).html(selectedId);
                                    $('#addCato').bootstrapSwitch('state', false);
                                }, 1000);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } 
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                }
            });

            $('.dark, .ddBtn').click(function() {
                $('.inPage').css('display', 'none');              
                $('.newInput').val('');
                $('#oldIdCat').val('');
                $('#oldType').val(0);
                $('#addCato').bootstrapSwitch('state', false);
            });

            function initializeSelect2() {
                $(".select2").select2({
                    //placeholder: placeholder,
                    width: null
                });
            }

            $("input[name='radio27']").click(function(){
                if($('input:radio[name=radio27]:checked').val() == "archive"){                    
                    $(".IncomeExpenseList").css('display', 'none'); 
                    $(".IncomeExpenseListArchive").css('display', 'block');
                    $('#radio27').prop('checked', true);
                } else {
                    $(".IncomeExpenseList").css('display', 'block'); 
                    $(".IncomeExpenseListArchive").css('display', 'none');
                }
            });
            $("input[name='radio29']").click(function(){
                if($('input:radio[name=radio29]:checked').val() == "active"){
                    $(".IncomeExpenseList").css('display', 'block'); 
                    $(".IncomeExpenseListArchive").css('display', 'none');
                    $('#radio30').prop('checked', true);
                } else {                  
                    $(".IncomeExpenseList").css('display', 'none'); 
                    $(".IncomeExpenseListArchive").css('display', 'block');
                }
            });          
            $("input[name='radio23']").click(function(){
                if($('input:radio[name=radio23]:checked').val() == "archive"){                    
                    $(".TaxList").css('display', 'none'); 
                    $(".TaxListArchive").css('display', 'block');
                    $('#radio23').prop('checked', true);
                } else {
                    $(".TaxList").css('display', 'block'); 
                    $(".TaxListArchive").css('display', 'none');
                }
            });
            $("input[name='radio25']").click(function(){
                if($('input:radio[name=radio25]:checked').val() == "active"){
                    $(".TaxList").css('display', 'block'); 
                    $(".TaxListArchive").css('display', 'none');
                    $('#radio26').prop('checked', true);
                } else {                  
                    $(".TaxList").css('display', 'none'); 
                    $(".TaxListArchive").css('display', 'block');
                }
            });          
            $("input[name='radio11']").click(function(){
                if($('input:radio[name=radio11]:checked').val() == "archive"){                    
                    $(".ProductList").css('display', 'none'); 
                    $(".ProductListArchive").css('display', 'block');
                    $('#radio11').prop('checked', true);
                } else {
                    $(".ProductList").css('display', 'block'); 
                    $(".ProductListArchive").css('display', 'none');
                }
            });
            $("input[name='radio12']").click(function(){
                if($('input:radio[name=radio12]:checked').val() == "active"){
                    $(".ProductList").css('display', 'block'); 
                    $(".ProductListArchive").css('display', 'none');
                    $('#radio22').prop('checked', true);
                } else {                  
                    $(".ProductList").css('display', 'none'); 
                    $(".ProductListArchive").css('display', 'block');
                }
            });
            $('#notofication').on('switchChange.bootstrapSwitch', function (event, state) {
                if(state) { 
                    $('#notoficationDiv').slideDown('slow');
                    $('#notificationCheck').val(1);
                    $('#notificationCategoryEmail').addClass('edited');
                } else {
                    $('#notoficationDiv').slideUp('slow');
                    $('#notificationCheck').val(0);
                    $('#notificationCategoryEmail').addClass('edited');
                }
            });
            $("#phone, #mobile").keydown(function (e) {
                // Prevent if already dot
                // if(e.which == 46 && $(this).val().indexOf('.') != -1) {
                //     e.preventDefault();
                // } 
                // Allow: delete, backspace, tab, escape, enter and (. 110, 190)
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13]) !== -1 ||
                     // Allow: Ctrl+A, Command+A
                    (e.keyCode == 65 && ( e.ctrlKey === true || e.metaKey === true ) ) || 
                     // Allow: Ctrl+C, Command+C
                    (e.keyCode == 67 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+R, Command+R
                    (e.keyCode == 82 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+V, Command+V
                    (e.keyCode == 86 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+X, Command+X
                    (e.keyCode == 88 && ( e.ctrlKey === true || e.metaKey === true ) ) ||  
                     // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                         // let it happen, don't do anything
                         return true;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
            $(".numericInteger").keydown(function (e) {
                // Prevent if already dot
                // if(e.which == 46 && $(this).val().indexOf('.') != -1) {
                //     e.preventDefault();
                // } 
                // Allow: delete, backspace, tab, escape, enter and (. 110, 190)
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13]) !== -1 ||
                     // Allow: Ctrl+A, Command+A
                    (e.keyCode == 65 && ( e.ctrlKey === true || e.metaKey === true ) ) || 
                     // Allow: Ctrl+C, Command+C
                    (e.keyCode == 67 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+R, Command+R
                    (e.keyCode == 82 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+V, Command+V
                    (e.keyCode == 86 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+X, Command+X
                    (e.keyCode == 88 && ( e.ctrlKey === true || e.metaKey === true ) ) ||  
                     // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                         // let it happen, don't do anything
                         return true;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
            $(".numericFloat").keydown(function (e) {
                //Prevent if already dot
                if(e.keyCode == 110 && $(this).val().indexOf('.') != -1 || e.keyCode == 190 && $(this).val().indexOf('.') != -1) {
                    e.preventDefault();
                }
                // Allow: delete, backspace, tab, escape, enter and .
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                     // Allow: Ctrl+A, Command+A
                    (e.keyCode == 65 && ( e.ctrlKey === true || e.metaKey === true ) ) || 
                     // Allow: Ctrl+C, Command+C
                    (e.keyCode == 67 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+R, Command+R
                    (e.keyCode == 82 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+V, Command+V
                    (e.keyCode == 86 && ( e.ctrlKey === true || e.metaKey === true ) ) ||
                     // Allow: Ctrl+X, Command+X
                    (e.keyCode == 88 && ( e.ctrlKey === true || e.metaKey === true ) ) ||  
                     // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                         // let it happen, don't do anything
                         return true;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                } 
            });
            $('#basicSettingsSubmit').live('click', function(e) {
                var error = false;
                var nameCompany = $.trim($('#companyName').val());
                var address1 = $.trim($('#address1').val());
                var address2 = $.trim($('#address2').val());
                var email = $.trim($('#email').val());
                var phone = $.trim($('#phone').val());
                var mobile = $.trim($('#mobile').val());
                var webUrl = $.trim($('#webUrl').val());
                if (nameCompany != '') {
                    $('#companyNameDiv').addClass('has-success');
                    $('#companyNameDiv').removeClass('has-error');
                } else {
                    $('#companyNameDiv').removeClass('has-success');
                    $('#companyNameDiv').addClass('has-error');
                    error = true;
                }
                if (address1 != '') {
                    $('#address1Div').addClass('has-success');
                    $('#address1Div').removeClass('has-error');
                } else {
                    $('#address1Div').removeClass('has-success');
                    $('#address1Div').addClass('has-error');
                    error = true;
                }
                if (address2 != '') {
                    $('#address2Div').addClass('has-success');
                    $('#address2Div').removeClass('has-warning');
                } else {
                    $('#address2Div').removeClass('has-success');
                    $('#address2Div').addClass('has-warning');
                }
                if(email == '' || !validateEmail(email)) {
                    $('#emailDiv').removeClass('has-success');
                    $('#emailDiv').addClass('has-error');
                    error = true;
                } else {
                    $('#emailDiv').addClass('has-success');
                    $('#emailDiv').removeClass('has-error');
                }
                if(phone == '') {
                    $('#phoneDiv').removeClass('has-success');
                    $('#phoneDiv').addClass('has-warning');
                } else {
                    $('#phoneDiv').removeClass('has-warning');
                    $('#phoneDiv').addClass('has-success');
                }
                if(mobile == '' || mobile.length == 11) {
                    var foundOperator = $.inArray(mobile.substring(0, 3), mobileOperator);
                    if(foundOperator <= 0) {
                        $('#mobileDiv').removeClass('has-success');
                        $('#mobileDiv').addClass('has-warning');
                    } else {
                        $('#mobileDiv').addClass('has-success');
                        $('#mobileDiv').removeClass('has-warning');
                    }
                } else {
                    $('#mobileDiv').removeClass('has-success');
                    $('#mobileDiv').addClass('has-error');
                }
                if (webUrl != '') {
                    $('#webDiv').addClass('has-success');
                    $('#webDiv').removeClass('has-warning');
                } else {
                    $('#webDiv').removeClass('has-warning');
                    $('#webDiv').addClass('has-success');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateBasic',
                        type: 'POST',
                        data: $('#basicSettings').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated basic settings ", "Update settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=basic settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                $('#footerCompany').html(nameCompany);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#financialSettingsSubmit').live('click', function(e) {
                var error = false;
                var currencyCode = $.trim($('#currencyCode').val());
                var currencyRate = $.trim($('#currencyRate').val());
                // var isInstallmentCheck = $.trim($('#isInstallmentCheck').val());
                // var installmentTime = $.trim($('#installmentTime').val());
                // if(isInstallmentCheck == 1) {
                //     $('#isInstallmentDiv').removeClass('has-warning');
                //     $('#isInstallmentDiv').addClass('has-success');
                //    if (installmentTime != '') {
                //         $('#installmentPeriodDiv').addClass('has-success');
                //         $('#installmentPeriodDiv').removeClass('has-error');
                //     } else {
                //         $('#installmentPeriodDiv').removeClass('has-success');
                //         $('#installmentPeriodDiv').addClass('has-error');
                //         error = true;
                //     } 
                // } else {                    
                //     $('#isInstallmentDiv').removeClass('has-success');
                //     $('#isInstallmentDiv').addClass('has-warning');
                //     $('#installmentPeriodDiv').removeClass('has-success');
                //     $('#installmentPeriodDiv').addClass('has-error');
                // }

                if (currencyRate != '') {
                    $('#currencyRateDiv').addClass('has-success');
                    $('#currencyRateDiv').removeClass('has-error');
                } else {
                    $('#currencyRateDiv').removeClass('has-success');
                    $('#currencyRateDiv').addClass('has-error');
                    error = true;
                }
                
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateFinancial',
                        type: 'POST',
                        data: $('#financialSettings').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated financial settings ", "Update settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=financial settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#bankSave').live('click', function(e) {
                var error = false;
                var bankAccountTitle = $('#bankAccountTitle').val();
                var bankInitial = $('#bankInitial').val();
                var bankDescription = $('#bankDescription').val();
                if (bankAccountTitle != '') {
                    $('#bankAccountTitleDiv').addClass('has-success');
                    $('#bankAccountTitleDiv').removeClass('has-error');
                } else {
                    $('#bankAccountTitleDiv').removeClass('has-success');
                    $('#bankAccountTitleDiv').addClass('has-error');
                    error = true;
                }
                if (bankInitial == '') {
                    $('#bankInitial').addClass('edited');
                    $('#bankInitial').val(0);
                }
                if (bankInitial != '') {
                    $('#bankInitialDiv').addClass('has-success');
                    $('#bankInitialDiv').removeClass('has-warning');
                } else {
                    $('#bankInitialDiv').removeClass('has-success');
                    $('#bankInitialDiv').addClass('has-warning');
                }
                if (bankDescription != '') {
                    $('#bankDescriptionDiv').addClass('has-success');
                    $('#bankDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#bankDescriptionDiv').removeClass('has-success');
                    $('#bankDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addBankCash',
                        type: 'POST',
                        data: $('#addBankCash').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added bank account "+bankAccountTitle, "Add Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=bank account'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_9').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li>'+
                                                        '<a onclick="editBankData('+totalBank+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<span id="spanBankTitle'+totalBank+'">'+bankAccountTitle+'</span>'+
                                            '<span id="spanBankDescription'+totalBank+'" style="display: none">'+bankDescription+'</span>'+
                                            '<span id="spanBankBalance'+totalBank+'" style="display: none">'+bankInitial+'</span>'+
                                            '<span id="spanBankId'+totalBank+'" style="display: none">'+totalBank+'</span>',
                                            bankDescription,
                                            '0',
                                            bankInitial,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('.BankCashListTable #sample_9 tbody tr:first').attr('id');
                                    $('.BankCashListTable #sample_9 tbody tr:first').attr('id','bank'+totalBank);
                                    $('.BankCashListTable #sample_9 tr td:last-child').css('display', 'none');
                                    $('.addBankCash').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addBankCash').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addBankCash')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    bankListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });

            $('#bankSaveNew').live('click', function(e) {
                var error = false;
                var bankAccountTitle = $('#bankAccountTitle').val();
                var bankInitial = $('#bankInitial').val();
                var bankDescription = $('#bankDescription').val();
                if (bankAccountTitle != '') {
                    $('#bankAccountTitleDiv').addClass('has-success');
                    $('#bankAccountTitleDiv').removeClass('has-error');
                } else {
                    $('#bankAccountTitleDiv').removeClass('has-success');
                    $('#bankAccountTitleDiv').addClass('has-error');
                    error = true;
                }
                if (bankInitial == '') {
                    $('#bankInitial').addClass('edited');
                    $('#bankInitial').val(0);
                }
                if (bankInitial != '') {
                    $('#bankInitialDiv').addClass('has-success');
                    $('#bankInitialDiv').removeClass('has-warning');
                } else {
                    $('#bankInitialDiv').removeClass('has-success');
                    $('#bankInitialDiv').addClass('has-warning');
                }
                if (bankDescription != '') {
                    $('#bankDescriptionDiv').addClass('has-success');
                    $('#bankDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#bankDescriptionDiv').removeClass('has-success');
                    $('#bankDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addBankCash',
                        type: 'POST',
                        data: $('#addBankCash').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added bank account "+bankAccountTitle, "Add Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=bank account'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_9').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li>'+
                                                        '<a onclick="editBankData('+totalBank+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<span id="spanBankTitle'+totalBank+'">'+bankAccountTitle+'</span>'+
                                            '<span id="spanBankDescription'+totalBank+'" style="display: none">'+bankDescription+'</span>'+
                                            '<span id="spanBankBalance'+totalBank+'" style="display: none">'+bankInitial+'</span>'+
                                            '<span id="spanBankId'+totalBank+'" style="display: none">'+totalBank+'</span>',
                                            bankDescription,
                                            '0',
                                            bankInitial,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('.BankCashListTable #sample_9 tbody tr:first').attr('id');
                                    $('.BankCashListTable #sample_9 tbody tr:first').attr('id','bank'+totalBank);
                                    $('.BankCashListTable #sample_9 tr td:last-child').css('display', 'none');
                                    // $('.addBankCash').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addBankCash').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addBankCash')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    bankListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function editBankData(id) {
                var table = $('#sample_9').DataTable();
                $('#bankSave').attr('id', 'bankUpdate');
                $('#bankUpdate').html('<i class="fa fa-save"></i> Update');
                $('#bankSaveNew').attr('id', 'bankUpdateNew');
                $('#bankUpdateNew').html('<i class="fa fa-newspaper-o"></i> Update & New');
                $('#bankAccountTitle').addClass('edited');
                $('#bankAccountTitle').val($('#bank'+id).closest('tr').find('td:eq(2) #spanBankTitle'+id).text().trim());
                if($('#bankAccountTitle').val() == 'Cash on hand') {
                   $('#bankAccountTitle').attr("readonly", true) ;
                }
                $('#bankDescription').addClass('edited');
                $('#bankDescription').val($('#bank'+id).closest('tr').find('td:eq(2) #spanBankDescription'+id).text().trim());
                $('#bankInitial').addClass('edited');
                $('#bankInitial').val($('#bank'+id).closest('tr').find('td:eq(2) #spanBankBalance'+id).text().trim());
                $('#bankEditId').addClass('edited');
                $('#bankEditId').val($('#bank'+id).closest('tr').find('td:eq(2) #spanBankId'+id).text().trim());
                $('.addBankCash').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            }
            $('#bankUpdate').live('click', function(e) {
                $('#bankAccountTitle').attr("readonly", false) ;
                var error = false;
                var bankAccountTitle = $('#bankAccountTitle').val();
                var bankInitial = $('#bankInitial').val();
                var bankDescription = $('#bankDescription').val();
                var id = $('#bankEditId').val();
                if (bankAccountTitle != '') {
                    $('#bankAccountTitleDiv').addClass('has-success');
                    $('#bankAccountTitleDiv').removeClass('has-error');
                } else {
                    $('#bankAccountTitleDiv').removeClass('has-success');
                    $('#bankAccountTitleDiv').addClass('has-error');
                    error = true;
                }
                if (bankInitial == '') {
                    $('#bankInitial').addClass('edited');
                    $('#bankInitial').val(0);
                }
                if (bankInitial != '') {
                    $('#bankInitialDiv').addClass('has-success');
                    $('#bankInitialDiv').removeClass('has-warning');
                } else {
                    $('#bankInitialDiv').removeClass('has-success');
                    $('#bankInitialDiv').addClass('has-warning');
                }
                if (bankDescription != '') {
                    $('#bankDescriptionDiv').addClass('has-success');
                    $('#bankDescriptionDiv').removeClass('has-error');
                } else {
                    $('#bankDescriptionDiv').removeClass('has-success');
                    $('#bankDescriptionDiv').addClass('has-error');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateBankCash',
                        type: 'POST',
                        data: $('#addBankCash').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully update bank account "+bankAccountTitle, "Update Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcba'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=bank account'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankTitle'+id).text(bankAccountTitle);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankDescription'+id).text(bankDescription);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankBalance'+id).text(bankInitial);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankId'+id).text(id);
                                    $('#bank'+id).closest('tr').find('td:eq(3)').text(bankDescription);
                                    $('#bank'+id).closest('tr').find('td:eq(5)').text(bankInitial);
                                    $('.addBankCash').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addBankCash').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#bankUpdate').attr('id', 'bankSave');
                                    $('#bankSave').html('<i class="fa fa-save"></i> Save');
                                    $('#bankUpdateNew').attr('id', 'bankSaveNew');
                                    $('#bankSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addBankCash')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    $('#emailDiv').removeClass('has-success');
                                    $('#emailDiv').addClass('has-error');
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#bankUpdateNew').live('click', function(e) {
                $('#bankAccountTitle').attr("readonly", false) ;
                var error = false;
                var bankAccountTitle = $('#bankAccountTitle').val();
                var bankInitial = $('#bankInitial').val();
                var bankDescription = $('#bankDescription').val();
                var id = $('#bankEditId').val();
                if (bankAccountTitle != '') {
                    $('#bankAccountTitleDiv').addClass('has-success');
                    $('#bankAccountTitleDiv').removeClass('has-error');
                } else {
                    $('#bankAccountTitleDiv').removeClass('has-success');
                    $('#bankAccountTitleDiv').addClass('has-error');
                    error = true;
                }
                if (bankInitial == '') {
                    $('#bankInitial').addClass('edited');
                    $('#bankInitial').val(0);
                }
                if (bankInitial != '') {
                    $('#bankInitialDiv').addClass('has-success');
                    $('#bankInitialDiv').removeClass('has-warning');
                } else {
                    $('#bankInitialDiv').removeClass('has-success');
                    $('#bankInitialDiv').addClass('has-warning');
                }
                if (bankDescription != '') {
                    $('#bankDescriptionDiv').addClass('has-success');
                    $('#bankDescriptionDiv').removeClass('has-error');
                } else {
                    $('#bankDescriptionDiv').removeClass('has-success');
                    $('#bankDescriptionDiv').addClass('has-error');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateBankCash',
                        type: 'POST',
                        data: $('#addBankCash').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully update bank account "+bankAccountTitle, "Update Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcba'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=bank account'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankTitle'+id).text(bankAccountTitle);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankDescription'+id).text(bankDescription);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankBalance'+id).text(bankInitial);
                                    $('#bank'+id).closest('tr').find('td:eq(2) #spanBankId'+id).text(id);
                                    $('#bank'+id).closest('tr').find('td:eq(3)').text(bankDescription);
                                    $('#bank'+id).closest('tr').find('td:eq(5)').text(bankInitial);
                                    $('#addBankCash').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#bankUpdate').attr('id', 'bankSave');
                                    $('#bankSave').html('<i class="fa fa-save"></i> Save');
                                    $('#bankUpdateNew').attr('id', 'bankSaveNew');
                                    $('#bankSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addBankCash')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    $('#emailDiv').removeClass('has-success');
                                    $('#emailDiv').addClass('has-error');
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#invoiceLogoSubmit').live('click', function(e) {
                var error = false;
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateInvoiceLogo',
                        type: 'POST',
                        data: $('#invoiceLogoForm').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice logo settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=update'+ '&title=invoice logo settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#invoiceBasicSubmit').live('click', function(e) {
                var error = false;
                var invoiceTitle = $('#invoiceTitle').val();
                var invoiceNote = $('#invoiceNote').val();
                var id = $('#bankEditId').val();
                if (invoiceTitle != '') {
                    $('#invoiceTitleDiv').addClass('has-success');
                    $('#invoiceTitleDiv').removeClass('has-warning');
                } else {
                    $('#invoiceTitleDiv').removeClass('has-success');
                    $('#invoiceTitleDiv').addClass('has-warning');
                }
                if (invoiceNote != '') {
                    $('#invoiceNoteDiv').addClass('has-success');
                    $('#invoiceNoteDiv').removeClass('has-warning');
                } else {
                    $('#invoiceNoteDiv').removeClass('has-success');
                    $('#invoiceNoteDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateInvoiceBasic',
                        type: 'POST',
                        data: $('#invoiceBasic').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice basic settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice basic settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#estimateBasicSubmit').live('click', function(e) {
                var error = false;
                var estimateTitle = $('#estimateTitle').val();
                var estimateNote = $('#estimateNote').val();
                var id = $('#bankEditId').val();
                if (estimateTitle != '') {
                    $('#estimateTitleDiv').addClass('has-success');
                    $('#estimateTitleDiv').removeClass('has-warning');
                } else {
                    $('#estimateTitleDiv').removeClass('has-success');
                    $('#estimateTitleDiv').addClass('has-warning');
                }
                if (estimateNote != '') {
                    $('#estimateNoteDiv').addClass('has-success');
                    $('#estimateNoteDiv').removeClass('has-warning');
                } else {
                    $('#estimateNoteDiv').removeClass('has-success');
                    $('#estimateNoteDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateEstimateBasic',
                        type: 'POST',
                        data: $('#estimateBasic').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated estimate basic settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=estimate basic settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#purchaseBasicSubmit').live('click', function(e) {
                var error = false;
                var purchaseTitle = $('#purchaseTitle').val();
                var purchaseNote = $('#purchaseNote').val();
                var id = $('#bankEditId').val();
                if (purchaseTitle != '') {
                    $('#purchaseTitleDiv').addClass('has-success');
                    $('#purchaseTitleDiv').removeClass('has-warning');
                } else {
                    $('#purchaseTitleDiv').removeClass('has-success');
                    $('#purchaseTitleDiv').addClass('has-warning');
                }
                if (purchaseNote != '') {
                    $('#purchaseNoteDiv').addClass('has-success');
                    $('#purchaseNoteDiv').removeClass('has-warning');
                } else {
                    $('#purchaseNoteDiv').removeClass('has-success');
                    $('#purchaseNoteDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updatePurchaseBasic',
                        type: 'POST',
                        data: $('#purchaseBasic').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated purchase basic settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=purchase basic settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#columnSettingsSubmit').live('click', function(e) {
                var error = false;
                var pName = $('#pName').val();
                var messure = $('#messure').val();
                var priceSet = $('#priceSet').val();
                var itemCode = $('#itemCode').val();
                var amountSet = $('#amountSet').val();
                var warrantyStatus = $('#warrantyStatus').val();
                var checkbox6 = $('#checkbox6').is(':checked');
                var checkbox7 = $('#checkbox7').is(':checked');
                var checkbox12 = $('#checkbox12').is(':checked');
                var checkbox13 = $('#checkbox13').is(':checked');
                var checkbox10 = $('#checkbox10').is(':checked');
                var checkbox11 = $('#checkbox11').is(':checked');
                var checkbox101 = $('#checkbox101').is(':checked');
                var checkbox111 = $('#checkbox111').is(':checked');
                if (pName != '') {
                    $('#pNameDiv').addClass('has-success');
                    $('#pNameDiv').removeClass('has-error');
                } else {
                    $('#pNameDiv').removeClass('has-success');
                    $('#pNameDiv').addClass('has-error');
                    error = true;
                }
                if (messure != '') {
                    $('#messureDiv').addClass('has-success');
                    $('#messureDiv').removeClass('has-error');
                } else {
                    $('#messureDiv').removeClass('has-success');
                    $('#messureDiv').addClass('has-error');
                    error = true;
                }
                if (priceSet != '') {
                    $('#priceSetDiv').addClass('has-success');
                    $('#priceSetDiv').removeClass('has-error');
                } else {
                    $('#priceSetDiv').removeClass('has-success');
                    $('#priceSetDiv').addClass('has-error');
                    error = true;
                }
                if (itemCode != '') {
                    $('#itemCodeDiv').addClass('has-success');
                    $('#itemCodeDiv').removeClass('has-error');
                } else {
                    $('#itemCodeDiv').removeClass('has-success');
                    $('#itemCodeDiv').addClass('has-error');
                    error = true;
                }
                if (amountSet != '') {
                    $('#amountSetDiv').addClass('has-success');
                    $('#amountSetDiv').removeClass('has-error');
                } else {
                    $('#amountSetDiv').removeClass('has-success');
                    $('#amountSetDiv').addClass('has-error');
                    error = true;
                }
                if (warrantyStatus != '') {
                    $('#warrantyStatusDiv').addClass('has-success');
                    $('#warrantyStatusDiv').removeClass('has-error');
                } else {
                    $('#warrantyStatusDiv').removeClass('has-success');
                    $('#warrantyStatusDiv').addClass('has-error');
                    error = true;
                }
                if (checkbox7) {
                    $('#checkbox7Div').addClass('has-success');
                    $('#checkbox7Div').removeClass('has-warning');
                    $('#unitIs').val(1);
                } else {
                    $('#checkbox7Div').removeClass('has-success');
                    $('#checkbox7Div').addClass('has-warning');
                    $('#unitIs').val(0);
                }
                if (checkbox6) {
                    $('#checkbox6Div').addClass('has-success');
                    $('#checkbox6Div').removeClass('has-warning');
                    $('#descriptionIs').val(1);
                } else {
                    $('#checkbox6Div').removeClass('has-success');
                    $('#checkbox6Div').addClass('has-warning');
                    $('#descriptionIs').val(0);
                }
                if (checkbox10) {
                    $('#isImageDiv').addClass('has-success');
                    $('#isImageDiv').removeClass('has-warning');
                    $('#imageIs').val(1);
                } else {
                    $('#isImageDiv').removeClass('has-success');
                    $('#isImageDiv').addClass('has-warning');
                    $('#imageIs').val(0);
                }
                if (checkbox11) {
                    $('#isLinkDiv').addClass('has-success');
                    $('#isLinkDiv').removeClass('has-warning');
                    $('#linkIs').val(1);
                } else {
                    $('#isLinkDiv').removeClass('has-success');
                    $('#isLinkDiv').addClass('has-warning');
                    $('#linkIs').val(0);
                }
                if (checkbox101) {
                    $('#isInstallmentDiv').addClass('has-success');
                    $('#isInstallmentDiv').removeClass('has-warning');
                    $('#installmentIs').val(1);
                } else {
                    $('#isInstallmentDiv').removeClass('has-success');
                    $('#isInstallmentDiv').addClass('has-warning');
                    $('#installmentIs').val(0);
                }
                if (checkbox111) {
                    $('#isCurrencyShowDiv').addClass('has-success');
                    $('#isCurrencyShowDiv').removeClass('has-warning');
                    $('#currencyIs').val(1);
                } else {
                    $('#isCurrencyShowDiv').removeClass('has-success');
                    $('#isCurrencyShowDiv').addClass('has-warning');
                    $('#currencyIs').val(0);
                }
                if (checkbox12) {
                    $('#checkbox12Div').addClass('has-success');
                    $('#checkbox12Div').removeClass('has-warning');
                    $('#codeIs').val(1);
                } else {
                    $('#checkbox12Div').removeClass('has-success');
                    $('#checkbox12Div').addClass('has-warning');
                    $('#codeIs').val(0);
                }
                if (checkbox13) {
                    $('#isWarrantyDiv').addClass('has-success');
                    $('#isWarrantyDiv').removeClass('has-warning');
                    $('#warrantyIs').val(1);
                } else {
                    $('#isWarrantyDiv').removeClass('has-success');
                    $('#isWarrantyDiv').addClass('has-warning');
                    $('#warrantyIs').val(0);
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateColumnSettings',
                        type: 'POST',
                        data: $('#columnSettings').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated all column settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=all column settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#invoiceCreateSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var invoiceCreateSubject = $('#invoiceCreateSubject').val();
                var invoiceCreateEmail = $('#invoiceCreateEmail').val();
                var invoiceCreateBody = $('#invoiceCreateBody').val();
                var checkbox14 = $('#checkbox14').is(':checked');
                var checkbox15 = $('#checkbox15').is(':checked');

                if (invoiceCreateSubject != '') {
                    $('#invoiceCreateSubjectDiv').addClass('has-success');
                    $('#invoiceCreateSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#invoiceCreateSubjectDiv').removeClass('has-success');
                    $('#invoiceCreateSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (invoiceCreateEmail != '') {
                    $('#invoiceCreateEmailDiv').addClass('has-success');
                    $('#invoiceCreateEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#invoiceCreateEmailDiv').removeClass('has-success');
                    $('#invoiceCreateEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (invoiceCreateBody != '') {
                    $('#invoiceCreateBodyDiv').addClass('has-success');
                    $('#invoiceCreateBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#invoiceCreateBodyDiv').removeClass('has-success');
                    $('#invoiceCreateBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox14) {
                    $('#checkbox14Div').addClass('has-success');
                    $('#checkbox14Div').removeClass('has-warning');
                    $('#invoiceCreatePDF').val(1);
                } else {
                    $('#checkbox14Div').removeClass('has-success');
                    $('#checkbox14Div').addClass('has-warning');
                    $('#invoiceCreatePDF').val(0);
                }
                if (checkbox15) {
                    $('#checkbox15Div').addClass('has-success');
                    $('#checkbox15Div').removeClass('has-warning');
                    $('#invoiceCreateLink').val(1);
                } else {
                    $('#checkbox15Div').removeClass('has-success');
                    $('#checkbox15Div').addClass('has-warning');
                    $('#invoiceCreateLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateInvoiceCreate',
                        type: 'POST',
                        data: $('#invoiceCreate').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice basic settings ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice basic settings'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#paymentReminderSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var paymentReminderSubject = $('#paymentReminderSubject').val();
                var paymentReminderEmail = $('#paymentReminderEmail').val();
                var paymentReminderBody = $('#paymentReminderBody').val();
                var checkbox16 = $('#checkbox16').is(':checked');
                var checkbox17 = $('#checkbox17').is(':checked');

                if (paymentReminderSubject != '') {
                    $('#paymentReminderSubjectDiv').addClass('has-success');
                    $('#paymentReminderSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#paymentReminderSubjectDiv').removeClass('has-success');
                    $('#paymentReminderSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (paymentReminderEmail != '') {
                    $('#paymentReminderEmailDiv').addClass('has-success');
                    $('#paymentReminderEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#paymentReminderEmailDiv').removeClass('has-success');
                    $('#paymentReminderEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (paymentReminderBody != '') {
                    $('#paymentReminderBodyDiv').addClass('has-success');
                    $('#paymentReminderBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#paymentReminderBodyDiv').removeClass('has-success');
                    $('#paymentReminderBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox16) {
                    $('#checkbox16Div').addClass('has-success');
                    $('#checkbox16Div').removeClass('has-warning');
                    $('#paymentReminderPDF').val(1);
                } else {
                    $('#checkbox16Div').removeClass('has-success');
                    $('#checkbox16Div').addClass('has-warning');
                    $('#paymentReminderPDF').val(0);
                }
                if (checkbox17) {
                    $('#checkbox17Div').addClass('has-success');
                    $('#checkbox17Div').removeClass('has-warning');
                    $('#paymentReminderLink').val(1);
                } else {
                    $('#checkbox17Div').removeClass('has-success');
                    $('#checkbox17Div').addClass('has-warning');
                    $('#paymentReminderLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updatePaymentReminder',
                        type: 'POST',
                        data: $('#paymentReminder').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice payment reminder template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice payment reminder template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#overdueNoticeSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var overdueNoticeSubject = $('#overdueNoticeSubject').val();
                var overdueNoticeEmail = $('#overdueNoticeEmail').val();
                var overdueNoticeBody = $('#overdueNoticeBody').val();
                var checkbox18 = $('#checkbox18').is(':checked');
                var checkbox19 = $('#checkbox19').is(':checked');

                if (overdueNoticeSubject != '') {
                    $('#overdueNoticeSubjectDiv').addClass('has-success');
                    $('#overdueNoticeSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#overdueNoticeSubjectDiv').removeClass('has-success');
                    $('#overdueNoticeSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (overdueNoticeEmail != '') {
                    $('#overdueNoticeEmailDiv').addClass('has-success');
                    $('#overdueNoticeEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#overdueNoticeEmailDiv').removeClass('has-success');
                    $('#overdueNoticeEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (overdueNoticeBody != '') {
                    $('#overdueNoticeBodyDiv').addClass('has-success');
                    $('#overdueNoticeBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#overdueNoticeBodyDiv').removeClass('has-success');
                    $('#overdueNoticeBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox18) {
                    $('#checkbox18Div').addClass('has-success');
                    $('#checkbox18Div').removeClass('has-warning');
                    $('#overdueNoticePDF').val(1);
                } else {
                    $('#checkbox18Div').removeClass('has-success');
                    $('#checkbox18Div').addClass('has-warning');
                    $('#overdueNoticePDF').val(0);
                }
                if (checkbox19) {
                    $('#checkbox19Div').addClass('has-success');
                    $('#checkbox19Div').removeClass('has-warning');
                    $('#overdueNoticeLink').val(1);
                } else {
                    $('#checkbox19Div').removeClass('has-success');
                    $('#checkbox19Div').addClass('has-warning');
                    $('#overdueNoticeLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateOverdueNotice',
                        type: 'POST',
                        data: $('#overdueNotice').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice overdue template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice overdue template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#paymentConfirmationSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var paymentConfirmationSubject = $('#paymentConfirmationSubject').val();
                var paymentConfirmationEmail = $('#paymentConfirmationEmail').val();
                var paymentConfirmationBody = $('#paymentConfirmationBody').val();
                var checkbox20 = $('#checkbox20').is(':checked');
                var checkbox21 = $('#checkbox21').is(':checked');

                if (paymentConfirmationSubject != '') {
                    $('#paymentConfirmationSubjectDiv').addClass('has-success');
                    $('#paymentConfirmationSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#paymentConfirmationSubjectDiv').removeClass('has-success');
                    $('#paymentConfirmationSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (paymentConfirmationEmail != '') {
                    $('#paymentConfirmationEmailDiv').addClass('has-success');
                    $('#paymentConfirmationEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#paymentConfirmationEmailDiv').removeClass('has-success');
                    $('#paymentConfirmationEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (paymentConfirmationBody != '') {
                    $('#paymentConfirmationBodyDiv').addClass('has-success');
                    $('#paymentConfirmationBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#paymentConfirmationBodyDiv').removeClass('has-success');
                    $('#paymentConfirmationBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox20) {
                    $('#checkbox20Div').addClass('has-success');
                    $('#checkbox20Div').removeClass('has-warning');
                    $('#paymentConfirmationPDF').val(1);
                } else {
                    $('#checkbox20Div').removeClass('has-success');
                    $('#checkbox20Div').addClass('has-warning');
                    $('#paymentConfirmationPDF').val(0);
                }
                if (checkbox21) {
                    $('#checkbox21Div').addClass('has-success');
                    $('#checkbox21Div').removeClass('has-warning');
                    $('#paymentConfirmationLink').val(1);
                } else {
                    $('#checkbox21Div').removeClass('has-success');
                    $('#checkbox21Div').addClass('has-warning');
                    $('#paymentConfirmationLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updatePaymentConfirmation',
                        type: 'POST',
                        data: $('#paymentConfirmation').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice payment confirmation template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice payment confirmation template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#refundConfirmationSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var refundConfirmationSubject = $('#refundConfirmationSubject').val();
                var refundConfirmationEmail = $('#refundConfirmationEmail').val();
                var refundConfirmationBody = $('#refundConfirmationBody').val();
                var checkbox22 = $('#checkbox22').is(':checked');
                var checkbox23 = $('#checkbox23').is(':checked');

                if (refundConfirmationSubject != '') {
                    $('#refundConfirmationSubjectDiv').addClass('has-success');
                    $('#refundConfirmationSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#refundConfirmationSubjectDiv').removeClass('has-success');
                    $('#refundConfirmationSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (refundConfirmationEmail != '') {
                    $('#refundConfirmationEmailDiv').addClass('has-success');
                    $('#refundConfirmationEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#refundConfirmationEmailDiv').removeClass('has-success');
                    $('#refundConfirmationEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (refundConfirmationBody != '') {
                    $('#refundConfirmationBodyDiv').addClass('has-success');
                    $('#refundConfirmationBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#refundConfirmationBodyDiv').removeClass('has-success');
                    $('#refundConfirmationBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox22) {
                    $('#checkbox22Div').addClass('has-success');
                    $('#checkbox22Div').removeClass('has-warning');
                    $('#refundConfirmationPDF').val(1);
                } else {
                    $('#checkbox22Div').removeClass('has-success');
                    $('#checkbox22Div').addClass('has-warning');
                    $('#refundConfirmationPDF').val(0);
                }
                if (checkbox23) {
                    $('#checkbox23Div').addClass('has-success');
                    $('#checkbox23Div').removeClass('has-warning');
                    $('#refundConfirmationLink').val(1);
                } else {
                    $('#checkbox23Div').removeClass('has-success');
                    $('#checkbox23Div').addClass('has-warning');
                    $('#refundConfirmationLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateRefundConfirmation',
                        type: 'POST',
                        data: $('#refundConfirmation').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated invoice refund con template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=invoice refund con template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#estimateCreateSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var estimateCreateSubject = $('#estimateCreateSubject').val();
                var estimateCreateEmail = $('#estimateCreateEmail').val();
                var estimateCreateBody = $('#estimateCreateBody').val();
                var checkbox14 = $('#checkbox24').is(':checked');
                var checkbox15 = $('#checkbox25').is(':checked');

                if (estimateCreateSubject != '') {
                    $('#estimateCreateSubjectDiv').addClass('has-success');
                    $('#estimateCreateSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#estimateCreateSubjectDiv').removeClass('has-success');
                    $('#estimateCreateSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (estimateCreateEmail != '') {
                    $('#estimateCreateEmailDiv').addClass('has-success');
                    $('#estimateCreateEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#estimateCreateEmailDiv').removeClass('has-success');
                    $('#estimateCreateEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (estimateCreateBody != '') {
                    $('#estimateCreateBodyDiv').addClass('has-success');
                    $('#estimateCreateBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#estimateCreateBodyDiv').removeClass('has-success');
                    $('#estimateCreateBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox14) {
                    $('#checkbox24Div').addClass('has-success');
                    $('#checkbox24Div').removeClass('has-warning');
                    $('#estimateCreatePDF').val(1);
                } else {
                    $('#checkbox24Div').removeClass('has-success');
                    $('#checkbox24Div').addClass('has-warning');
                    $('#estimateCreatePDF').val(0);
                }
                if (checkbox15) {
                    $('#checkbox25Div').addClass('has-success');
                    $('#checkbox25Div').removeClass('has-warning');
                    $('#estimateCreateLink').val(1);
                } else {
                    $('#checkbox25Div').removeClass('has-success');
                    $('#checkbox25Div').addClass('has-warning');
                    $('#estimateCreateLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateEstimateCreate',
                        type: 'POST',
                        data: $('#estimateCreate').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated estimate basic template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=estimate basic template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#billCreateSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var billCreateSubject = $('#billCreateSubject').val();
                var billCreateEmail = $('#billCreateEmail').val();
                var billCreateBody = $('#billCreateBody').val();
                var checkbox14 = $('#checkbox26').is(':checked');
                var checkbox15 = $('#checkbox27').is(':checked');

                if (billCreateSubject != '') {
                    $('#billCreateSubjectDiv').addClass('has-success');
                    $('#billCreateSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#billCreateSubjectDiv').removeClass('has-success');
                    $('#billCreateSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (billCreateEmail != '') {
                    $('#billCreateEmailDiv').addClass('has-success');
                    $('#billCreateEmailDiv').removeClass('has-error');
                    email = false;
                } else {
                    $('#billCreateEmailDiv').removeClass('has-success');
                    $('#billCreateEmailDiv').addClass('has-error');
                    email = true;
                    error = true;
                }
                if (billCreateBody != '') {
                    $('#billCreateBodyDiv').addClass('has-success');
                    $('#billCreateBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#billCreateBodyDiv').removeClass('has-success');
                    $('#billCreateBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox14) {
                    $('#checkbox26Div').addClass('has-success');
                    $('#checkbox26Div').removeClass('has-warning');
                    $('#billCreatePDF').val(1);
                } else {
                    $('#checkbox26Div').removeClass('has-success');
                    $('#checkbox26Div').addClass('has-warning');
                    $('#billCreatePDF').val(0);
                }
                if (checkbox15) {
                    $('#checkbox27Div').addClass('has-success');
                    $('#checkbox27Div').removeClass('has-warning');
                    $('#billCreateLink').val(1);
                } else {
                    $('#checkbox27Div').removeClass('has-success');
                    $('#checkbox27Div').addClass('has-warning');
                    $('#billCreateLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateBillCreate',
                        type: 'POST',
                        data: $('#billCreate').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated bill basic template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=bill basic template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#receiptCreateSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var receiptCreateSubject = $('#receiptCreateSubject').val();
                var receiptCreateBody = $('#receiptCreateBody').val();
                var checkbox28 = $('#checkbox28').is(':checked');
                var checkbox29 = $('#checkbox29').is(':checked');

                if (receiptCreateSubject != '') {
                    $('#receiptCreateSubjectDiv').addClass('has-success');
                    $('#receiptCreateSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#receiptCreateSubjectDiv').removeClass('has-success');
                    $('#receiptCreateSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (receiptCreateBody != '') {
                    $('#receiptCreateBodyDiv').addClass('has-success');
                    $('#receiptCreateBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#receiptCreateBodyDiv').removeClass('has-success');
                    $('#receiptCreateBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if (checkbox28) {
                    $('#checkbox28Div').addClass('has-success');
                    $('#checkbox28Div').removeClass('has-warning');
                    $('#receiptCreatePDF').val(1);
                } else {
                    $('#checkbox28Div').removeClass('has-success');
                    $('#checkbox28Div').addClass('has-warning');
                    $('#receiptCreatePDF').val(0);
                }
                if (checkbox29) {
                    $('#checkbox29Div').addClass('has-success');
                    $('#checkbox29Div').removeClass('has-warning');
                    $('#receiptCreateLink').val(1);
                } else {
                    $('#checkbox29Div').removeClass('has-success');
                    $('#checkbox29Div').addClass('has-warning');
                    $('#receiptCreateLink').val(0);
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateReceiptCreate',
                        type: 'POST',
                        data: $('#receiptCreate').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated receipt basic template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=receipt basic template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#notificationSubmit').live('click', function(e) {
                var error = false;
                var subject = email = body = false;
                var notificationSubject = $('#notificationSubject').val();
                var notificationBody = $('#notificationBody').val();

                if (notificationSubject != '') {
                    $('#notificationSubjectDiv').addClass('has-success');
                    $('#notificationSubjectDiv').removeClass('has-error');
                    subject = false;
                } else {
                    $('#notificationSubjectDiv').removeClass('has-success');
                    $('#notificationSubjectDiv').addClass('has-error');
                    subject = true;
                    error = true;
                }
                if (notificationBody != '') {
                    $('#notificationBodyDiv').addClass('has-success');
                    $('#notificationBodyDiv').removeClass('has-error');
                    body = false;
                } else {
                    $('#notificationBodyDiv').removeClass('has-success');
                    $('#notificationBodyDiv').addClass('has-error');
                    body = true;
                    error = true;
                }
                if(!error && !subject && !email && !body) {
                    $.ajax({
                        url: base_link+'settings/updateNotification',
                        type: 'POST',
                        data: $('#notification').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.warning(" You successfully updated transition notification template ", "Update Settings");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-edit";
                                var acLabel = "label-warning";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=transition notification template'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#categorySave').live('click', function(e) {
                var error = false;
                var categoryName = $('#categoryName').val();
                var notificationCheck = $('#notificationCheck').val();
                var notificationCategoryAmount = $('#notificationCategoryAmount').val();
                var notificationCategoryEmail = $('#notificationCategoryEmail').val();
                var categoryDescription = $('#categoryDescription').val();
                var incomeExpenseRadio = $('input[name="incomeExpenseRadio"]:checked', '#addIncomeExpense').val();
                if(incomeExpenseRadio == "Income") {
                    var radioIncomeExpense = '<span class="label label-sm label-success"> Income </span>';
                } else {
                    var radioIncomeExpense = '<span class="label label-sm label-danger"> Expense </span>';
                }
                if($('#notofication').bootstrapSwitch('state', true)) {
                    var checkNotification = '<span class="label label-sm" style="background: #0000FF"> Yes </span>';
                } else {
                    var checkNotification = '<span class="label label-sm label-warning"> No </span>';
                }
                if (categoryName != '') {
                    $('#categoryNameDiv').addClass('has-success');
                    $('#categoryNameDiv').removeClass('has-error');
                } else {
                    $('#categoryNameDiv').removeClass('has-success');
                    $('#categoryNameDiv').addClass('has-error');
                    error = true;
                }
                if (notificationCheck != 0) {
                    $('#categoryNotification').addClass('has-success');
                    $('#categoryNotification').removeClass('has-warning');
                } else {
                    $('#categoryNotification').removeClass('has-success');
                    $('#categoryNotification').addClass('has-warning');
                }
                if(notificationCheck == 1) {
                    if (notificationCategoryAmount != '') {
                        $('#notificationCategoryAmountDiv').addClass('has-success');
                        $('#notificationCategoryAmountDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryAmountDiv').removeClass('has-success');
                        $('#notificationCategoryAmountDiv').addClass('has-error');
                        error = true;
                    }
                    if (notificationCategoryEmail != '') {
                        $('#notificationCategoryEmailDiv').addClass('has-success');
                        $('#notificationCategoryEmailDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryEmailDiv').removeClass('has-success');
                        $('#notificationCategoryEmailDiv').addClass('has-error');
                        error = true;
                    }
                }
                if (categoryDescription != '') {
                    $('#categoryDescriptionDiv').addClass('has-success');
                    $('#categoryDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#categoryDescriptionDiv').removeClass('has-success');
                    $('#categoryDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addIncomeExpenseCategory',
                        type: 'POST',
                        data: $('#addIncomeExpense').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added category ", "Add Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=income expense category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_5').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li id="catEdit'+totalCategory+'">'+
                                                        '<a onclick="editCategoryData('+totalCategory+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                    '<li id="catDelete'+totalCategory+'">'+
                                                        '<a onclick="deleteCategoryData('+totalCategory+')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<span id="radioIncomeExpense'+totalCategory+'">'+radioIncomeExpense+'</span>'+
                                            '<span id="categoryType'+totalCategory+'" style="display:none">'+incomeExpenseRadio+'</span>'+
                                            '<span id="categoryNotification'+totalCategory+'" style="display:none">'+notificationCheck+'</span>'+
                                            '<span id="categoryName'+totalCategory+'" style="display:none">'+categoryName+'</span>'+
                                            '<span id="categoryDescription'+totalCategory+'" style="display:none">'+categoryDescription+'</span>'+
                                            '<span id="categoryEmail'+totalCategory+'" style="display:none">'+notificationCategoryEmail+'</span>'+
                                            '<span id="categoryAmount'+totalCategory+'" style="display:none">'+notificationCategoryAmount+'</span>',
                                            checkNotification,
                                            categoryName,
                                            categoryDescription,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_5 tbody tr:first').attr('id');
                                    $('#sample_5 tbody tr:first').attr('id','bank'+totalBank);
                                    $('#sample_5 tr td:last-child').css('display', 'none');
                                    $('.addIncomeExpense').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addIncomeExpense').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addIncomeExpense')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    categoryListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#categorySaveNew').live('click', function(e) {
                var error = false;
                var categoryName = $('#categoryName').val();
                var notificationCheck = $('#notificationCheck').val();
                var notificationCategoryAmount = $('#notificationCategoryAmount').val();
                var notificationCategoryEmail = $('#notificationCategoryEmail').val();
                var categoryDescription = $('#categoryDescription').val();
                var incomeExpenseRadio = $('input[name="incomeExpenseRadio"]:checked', '#addIncomeExpense').val();
                if(incomeExpenseRadio == "Income") {
                    var radioIncomeExpense = '<span class="label label-sm label-success"> Income </span>';
                } else {
                    var radioIncomeExpense = '<span class="label label-sm label-danger"> Expense </span>';
                }
                if($('#notofication').bootstrapSwitch('state', true)) {
                    var checkNotification = '<span class="label label-sm" style="background: #0000FF"> Yes </span>';
                } else {
                    var checkNotification = '<span class="label label-sm label-warning"> No </span>';
                }
                if (categoryName != '') {
                    $('#categoryNameDiv').addClass('has-success');
                    $('#categoryNameDiv').removeClass('has-error');
                } else {
                    $('#categoryNameDiv').removeClass('has-success');
                    $('#categoryNameDiv').addClass('has-error');
                    error = true;
                }
                if (notificationCheck != 0) {
                    $('#categoryNotification').addClass('has-success');
                    $('#categoryNotification').removeClass('has-warning');
                } else {
                    $('#categoryNotification').removeClass('has-success');
                    $('#categoryNotification').addClass('has-warning');
                }
                if(notificationCheck == 1) {
                    if (notificationCategoryAmount != '') {
                        $('#notificationCategoryAmountDiv').addClass('has-success');
                        $('#notificationCategoryAmountDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryAmountDiv').removeClass('has-success');
                        $('#notificationCategoryAmountDiv').addClass('has-error');
                        error = true;
                    }
                    if (notificationCategoryEmail != '') {
                        $('#notificationCategoryEmailDiv').addClass('has-success');
                        $('#notificationCategoryEmailDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryEmailDiv').removeClass('has-success');
                        $('#notificationCategoryEmailDiv').addClass('has-error');
                        error = true;
                    }
                }
                if (categoryDescription != '') {
                    $('#categoryDescriptionDiv').addClass('has-success');
                    $('#categoryDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#categoryDescriptionDiv').removeClass('has-success');
                    $('#categoryDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addIncomeExpenseCategory',
                        type: 'POST',
                        data: $('#addIncomeExpense').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added category ", "Add Bank Account");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=income expense category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_5').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li id="catEdit'+totalCategory+'">'+
                                                        '<a onclick="editCategoryData('+totalCategory+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                    '<li id="catDelete'+totalCategory+'">'+
                                                        '<a onclick="deleteCategoryData('+totalCategory+')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<span id="radioIncomeExpense'+totalCategory+'">'+radioIncomeExpense+'</span>'+
                                            '<span id="categoryType'+totalCategory+'" style="display:none">'+incomeExpenseRadio+'</span>'+
                                            '<span id="categoryNotification'+totalCategory+'" style="display:none">'+notificationCheck+'</span>'+
                                            '<span id="categoryName'+totalCategory+'" style="display:none">'+categoryName+'</span>'+
                                            '<span id="categoryDescription'+totalCategory+'" style="display:none">'+categoryDescription+'</span>'+
                                            '<span id="categoryEmail'+totalCategory+'" style="display:none">'+notificationCategoryEmail+'</span>'+
                                            '<span id="categoryAmount'+totalCategory+'" style="display:none">'+notificationCategoryAmount+'</span>',
                                            checkNotification,
                                            categoryName,
                                            categoryDescription,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_5 tbody tr:first').attr('id');
                                    $('#sample_5 tbody tr:first').attr('id','bank'+totalBank);
                                    $('#sample_5 tr td:last-child').css('display', 'none');
                                    $('#addIncomeExpense')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    categoryListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function editCategoryData(id) {
                var table = $('#sample_5').DataTable();
                $('#categorySave').attr('id', 'categoryUpdate');
                $('#categoryUpdate').html('<i class="fa fa-save"></i> Update');
                $('#categorySaveNew').attr('id', 'categoryUpdateNew');
                $('#categoryUpdateNew').html('<i class="fa fa-newspaper-o"></i> Update & New');
                var type = $('#category'+id).closest('tr').find('td:eq(2) #categoryType'+id).text().trim();
                if(type == "Income") {
                    $('#radio221').attr("checked", false);
                    $('#radio222').attr("checked", true);
                } else {
                    $('#radio222').attr("checked", false);
                    $('#radio221').attr("checked", true);
                }
                var notification = $('#category'+id).closest('tr').find('td:eq(2) #categoryNotification'+id).text().trim();
                $('#notificationCheck').val(notification);
                if(notification == 1) {
                    $('#notofication').bootstrapSwitch('state', true);
                    $('#notoficationDiv').slideDown("slow");
                    $('#notificationCategoryEmail').addClass('edited');
                    $('#notificationCategoryEmail').val($('#category'+id).closest('tr').find('td:eq(2) #categoryEmail'+id).text().trim());
                    $('#notificationCategoryAmount').addClass('edited');
                    $('#notificationCategoryAmount').val($('#category'+id).closest('tr').find('td:eq(2) #categoryAmount'+id).text().trim());
                } else {
                    $('#notofication').bootstrapSwitch('state', false);
                    $('#notoficationDiv').slideUp("slow");
                }
                $('#categoryName').addClass('edited');
                $('#categoryName').val($('#category'+id).closest('tr').find('td:eq(2) #categoryName'+id).text().trim());
                if($('#categoryName').val() == 'Sales') {
                    $('#categoryName').attr("readonly", true);
                    $('.moreCheck').slideUp("slow");
                }
                if($('#categoryName').val() == 'Purchase') {
                    $('#categoryName').attr("readonly", true);
                    $('.moreCheck').slideUp("slow");
                }
                $('#categoryDescription').addClass('edited');
                $('#categoryDescription').val($('#category'+id).closest('tr').find('td:eq(2) #categoryDescription'+id).text().trim());
                $('#categoryEditId').val(id);
                $('.addIncomeExpense').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            }
            $('#categoryUpdate').live('click', function(e) {
                $('#categoryName').attr("readonly", false);
                $('.moreCheck').slideDown("slow");
                var error = false;
                var categoryName = $('#categoryName').val();
                var notificationCheck = $('#notificationCheck').val();
                var notificationCategoryAmount = $('#notificationCategoryAmount').val();
                var notificationCategoryEmail = $('#notificationCategoryEmail').val();
                var categoryDescription = $('#categoryDescription').val();
                var incomeExpenseRadio = $('input[name="incomeExpenseRadio"]:checked', '#addIncomeExpense').val();
                if(incomeExpenseRadio == "Income") {
                    var radioIncomeExpense = '<span class="label label-sm label-success"> Income </span>';
                } else {
                    var radioIncomeExpense = '<span class="label label-sm label-danger"> Expense </span>';
                }
                
                if(notificationCheck == 1) {
                    var checkNotification = '<span class="label label-sm" style="background: #0000FF"> Yes </span>';
                } else {
                    var checkNotification = '<span class="label label-sm label-warning"> No </span>';
                }
                if (categoryName != '') {
                    $('#categoryNameDiv').addClass('has-success');
                    $('#categoryNameDiv').removeClass('has-error');
                } else {
                    $('#categoryNameDiv').removeClass('has-success');
                    $('#categoryNameDiv').addClass('has-error');
                    error = true;
                }
                if (notificationCheck != 0) {
                    $('#categoryNotification').addClass('has-success');
                    $('#categoryNotification').removeClass('has-warning');
                } else {
                    $('#categoryNotification').removeClass('has-success');
                    $('#categoryNotification').addClass('has-warning');
                }
                if(notificationCheck == 1) {
                    if (notificationCategoryAmount != '') {
                        $('#notificationCategoryAmountDiv').addClass('has-success');
                        $('#notificationCategoryAmountDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryAmountDiv').removeClass('has-success');
                        $('#notificationCategoryAmountDiv').addClass('has-error');
                        error = true;
                    }
                    if (notificationCategoryEmail != '') {
                        $('#notificationCategoryEmailDiv').addClass('has-success');
                        $('#notificationCategoryEmailDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryEmailDiv').removeClass('has-success');
                        $('#notificationCategoryEmailDiv').addClass('has-error');
                        error = true;
                    }
                }
                if (categoryDescription != '') {
                    $('#categoryDescriptionDiv').addClass('has-success');
                    $('#categoryDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#categoryDescriptionDiv').removeClass('has-success');
                    $('#categoryDescriptionDiv').addClass('has-warning');
                }
                var id = $('#categoryEditId').val();
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateIncomeExpenseCategory',
                        type: 'POST',
                        data: $('#addIncomeExpense').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update category "+bankAccountTitle, "Update Category");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=income expense category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#category'+id).closest('tr').find('td:eq(2) #radioIncomeExpense'+id).html(radioIncomeExpense);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryType'+id).text(incomeExpenseRadio);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryNotification'+id).text(notificationCheck);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryName'+id).text(categoryName);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryDescription'+id).text(categoryDescription);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryEmail'+id).text(notificationCategoryEmail);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryAmount'+id).text(notificationCategoryAmount);
                                    $('#category'+id).closest('tr').find('td:eq(3)').html(checkNotification);
                                    $('#category'+id).closest('tr').find('td:eq(4)').text(categoryName);
                                    $('#category'+id).closest('tr').find('td:eq(5)').text(categoryDescription);
                                    $('#radio222').attr("checked", true);
                                    $('#notofication').bootstrapSwitch('state', false);
                                    $('#notoficationDiv').slideUp('slow');                                   
                                    $('.addIncomeExpense').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addIncomeExpense').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#categoryUpdate').attr('id', 'categorySave');
                                    $('#categorySave').html('<i class="fa fa-save"></i> Save');
                                    $('#categoryUpdateNew').attr('id', 'categorySaveNew');
                                    $('#categorySaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addIncomeExpense')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#categoryUpdateNew').live('click', function(e) {
                var error = false;
                var categoryName = $('#categoryName').val();
                var notificationCheck = $('#notificationCheck').val();
                var notificationCategoryAmount = $('#notificationCategoryAmount').val();
                var notificationCategoryEmail = $('#notificationCategoryEmail').val();
                var categoryDescription = $('#categoryDescription').val();
                var incomeExpenseRadio = $('input[name="incomeExpenseRadio"]:checked', '#addIncomeExpense').val();
                if(incomeExpenseRadio == "Income") {
                    var radioIncomeExpense = '<span class="label label-sm label-success"> Income </span>';
                } else {
                    var radioIncomeExpense = '<span class="label label-sm label-danger"> Expense </span>';
                }
                
                if(notificationCheck == 1) {
                    var checkNotification = '<span class="label label-sm" style="background: #0000FF"> Yes </span>';
                } else {
                    var checkNotification = '<span class="label label-sm label-warning"> No </span>';
                }
                if (categoryName != '') {
                    $('#categoryNameDiv').addClass('has-success');
                    $('#categoryNameDiv').removeClass('has-error');
                } else {
                    $('#categoryNameDiv').removeClass('has-success');
                    $('#categoryNameDiv').addClass('has-error');
                    error = true;
                }
                if (notificationCheck != 0) {
                    $('#categoryNotification').addClass('has-success');
                    $('#categoryNotification').removeClass('has-warning');
                } else {
                    $('#categoryNotification').removeClass('has-success');
                    $('#categoryNotification').addClass('has-warning');
                }
                if(notificationCheck == 1) {
                    if (notificationCategoryAmount != '') {
                        $('#notificationCategoryAmountDiv').addClass('has-success');
                        $('#notificationCategoryAmountDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryAmountDiv').removeClass('has-success');
                        $('#notificationCategoryAmountDiv').addClass('has-error');
                        error = true;
                    }
                    if (notificationCategoryEmail != '') {
                        $('#notificationCategoryEmailDiv').addClass('has-success');
                        $('#notificationCategoryEmailDiv').removeClass('has-error');
                    } else {
                        $('#notificationCategoryEmailDiv').removeClass('has-success');
                        $('#notificationCategoryEmailDiv').addClass('has-error');
                        error = true;
                    }
                }
                if (categoryDescription != '') {
                    $('#categoryDescriptionDiv').addClass('has-success');
                    $('#categoryDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#categoryDescriptionDiv').removeClass('has-success');
                    $('#categoryDescriptionDiv').addClass('has-warning');
                }
                var id = $('#categoryEditId').val();
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateIncomeExpenseCategory',
                        type: 'POST',
                        data: $('#addIncomeExpense').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update category "+bankAccountTitle, "Update Category");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=income expense category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#category'+id).closest('tr').find('td:eq(2) #radioIncomeExpense'+id).html(radioIncomeExpense);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryType'+id).text(incomeExpenseRadio);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryNotification'+id).text(notificationCheck);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryName'+id).text(categoryName);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryDescription'+id).text(categoryDescription);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryEmail'+id).text(notificationCategoryEmail);
                                    $('#category'+id).closest('tr').find('td:eq(2) #categoryAmount'+id).text(notificationCategoryAmount);
                                    $('#category'+id).closest('tr').find('td:eq(3)').html(checkNotification);
                                    $('#category'+id).closest('tr').find('td:eq(4)').text(categoryName);
                                    $('#category'+id).closest('tr').find('td:eq(5)').text(categoryDescription);
                                    $('#radio222').attr("checked", true);
                                    $('#notofication').bootstrapSwitch('state', false);
                                    $('#notoficationDiv').slideUp('slow');                                   
                                    $('#categoryUpdate').attr('id', 'categorySave');
                                    $('#categorySave').html('<i class="fa fa-save"></i> Save');
                                    $('#categoryUpdateNew').attr('id', 'categorySaveNew');
                                    $('#categorySaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addIncomeExpense')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function deleteCategoryData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will not be calculated any data within the archive.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, archive it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_5').DataTable();
                    if (isConfirm) {
                        var activeTd =  '<li id="catActive'+id+'">'+
                                            '<a onclick="activeCategoryData(\''+id+'\')"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>'+
                                        '</li>';
                        $(activeTd).insertAfter('#catEdit'+id);
                        $('#category'+id).closest('tr').find('td:eq(1) #catEdit'+id).remove();
                        $('#category'+id).closest('tr').find('td:eq(1) #catDelete'+id).remove();
                        var remarks = $('#category'+id).closest('tr').find('td:eq(6)').html();
                        var rowIndex = $('#sample_55').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#category'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#category'+id).data()[2],
                                table.row('#category'+id).data()[3],
                                table.row('#category'+id).data()[4],
                                table.row('#category'+id).data()[5],
                                table.row('#category'+id).data()[6],
                                table.row('#category'+id).data()[7],
                                remarks
                            ]
                        );
                        var row = $('#sample_55').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'category'+id);
                        $('#sample_55 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/categoryStatus",
                            data: 'id='+ id + '&status=' + 0,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#category"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.error(" You successfully archive category ", "Archive Category");
                                        }, 1500);
                                        swal({
                                            title: "Archive!",
                                            text: "This category has been archived.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=archive'+ '&title=category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            function activeCategoryData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will be calculated any data within the active.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, active it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_55').DataTable();
                    if (isConfirm) {
                        var editTd      =  '<li id="catEdit'+id+'">'+
                                                '<a onclick="editCategodyData(\''+id+'\')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                            '</li>';
                        var deleteTd    =  '<li id="catDelete'+id+'">'+
                                                '<a onclick="deleteCategoryData(\''+id+'\')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                            '</li>';
                        $(editTd).insertAfter('#catActive'+id);
                        $(deleteTd).insertAfter('#catEdit'+id);
                        $('#category'+id).closest('tr').find('td:eq(1) #catActive'+id).remove();
                        var remarks = $('#category'+id).closest('tr').find('td:eq(6)').html();                        
                        var rowIndex = $('#sample_5').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#category'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#category'+id).data()[2],
                                table.row('#category'+id).data()[3],
                                table.row('#category'+id).data()[4],
                                table.row('#category'+id).data()[5],
                                table.row('#category'+id).data()[6],
                                table.row('#category'+id).data()[7],
                                remarks
                            ]
                        );
                        var row = $('#sample_5').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'category'+id);
                        $('#sample_5 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/categoryStatus",
                            data: 'id='+ id + '&status=' + 1,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#sample_55 #category"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.success(" You successfully active category ", "Active Category");
                                        }, 1500);
                                        swal({
                                            title: "Activate!",
                                            text: "This category has been activate.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=active'+ '&title=category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            $('#taxSave').live('click', function(e) {
                var error = false;
                var taxName = $('#taxName').val();
                var taxRate = $('#taxRate').val();
                var taxDescription = $('#taxDescription').val();
                if (taxName != '') {
                    $('#taxNameDiv').addClass('has-success');
                    $('#taxNameDiv').removeClass('has-error');
                } else {
                    $('#taxNameDiv').removeClass('has-success');
                    $('#taxNameDiv').addClass('has-error');
                    error = true;
                }
                if (taxRate != '') {
                    $('#taxRateDiv').addClass('has-success');
                    $('#taxRateDiv').removeClass('has-error');
                } else {
                    $('#taxRateDiv').removeClass('has-success');
                    $('#taxRateDiv').addClass('has-error');
                    error = true;
                }
                if (taxDescription != '') {
                    $('#taxDescriptionDiv').addClass('has-success');
                    $('#taxDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#taxDescriptionDiv').removeClass('has-success');
                    $('#taxDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addTax',
                        type: 'POST',
                        data: $('#addTax').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added tax "+taxName, "Add Tax");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_1').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li>'+
                                                        '<a onclick="editTaxData('+totalTax+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                    '<li>'+
                                                        '<a onclick="deleteTaxData('+totalTax+')" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            taxName,
                                            taxRate,
                                            taxDescription,
                                            0,
                                            $('#taxSystemCode').val(),
                                            0,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_1 tbody tr:first').attr('id');
                                    $('#sample_1 tbody tr:first').attr('id','tax'+totalTax);
                                    $('#sample_1 tr td:last-child').css('display', 'none');
                                    $('.addTax').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addTax').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addTax')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    taxListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#taxSaveNew').live('click', function(e) {
                var error = false;
                var taxName = $('#taxName').val();
                var taxRate = $('#taxRate').val();
                var taxDescription = $('#taxDescription').val();
                if (taxName != '') {
                    $('#taxNameDiv').addClass('has-success');
                    $('#taxNameDiv').removeClass('has-error');
                } else {
                    $('#taxNameDiv').removeClass('has-success');
                    $('#taxNameDiv').addClass('has-error');
                    error = true;
                }
                if (taxRate != '') {
                    $('#taxRateDiv').addClass('has-success');
                    $('#taxRateDiv').removeClass('has-error');
                } else {
                    $('#taxRateDiv').removeClass('has-success');
                    $('#taxRateDiv').addClass('has-error');
                    error = true;
                }
                if (taxDescription != '') {
                    $('#taxDescriptionDiv').addClass('has-success');
                    $('#taxDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#taxDescriptionDiv').removeClass('has-success');
                    $('#taxDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addTax',
                        type: 'POST',
                        data: $('#addTax').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added tax "+taxName, "Add Tax");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_1').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li>'+
                                                        '<a onclick="editTaxData('+totalTax+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+
                                                    '<li>'+
                                                        '<a onclick="deleteTaxData('+totalTax+')" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            taxName,
                                            taxRate,
                                            taxDescription,
                                            0,
                                            $('#taxSystemCode').val(),
                                            0,
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_1 tbody tr:first').attr('id');
                                    $('#sample_1 tbody tr:first').attr('id','tax'+totalTax);
                                    $('#sample_1 tr td:last-child').css('display', 'none');
                                    $('#addTax').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addTax')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    taxListId();
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function editTaxData(id) {
                var table = $('#sample_1').DataTable();
                $('#taxSave').attr('id', 'taxUpdate');
                $('#taxUpdate').html('<i class="fa fa-save"></i> Update');
                $('#taxSaveNew').attr('id', 'taxUpdateNew');
                $('#taxUpdateNew').html('<i class="fa fa-newspaper-o"></i> Update & New');
                $('#taxName').addClass('edited');
                $('#taxName').val($('#tax'+id).closest('tr').find('td:eq(2)').text().trim());
                $('#taxRate').addClass('edited');
                $('#taxRate').val($('#tax'+id).closest('tr').find('td:eq(3)').text().trim());
                $('#taxDescription').addClass('edited');
                $('#taxDescription').val($('#tax'+id).closest('tr').find('td:eq(4)').text().trim());
                $('#taxEditId').val(id);
                $('.addTax').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            }
            $('#taxUpdate').live('click', function(e) {
                var error = false;
                var taxName = $('#taxName').val();
                var taxRate = $('#taxRate').val();
                var taxDescription = $('#taxDescription').val();
                var id = $('#taxEditId').val();
                if (taxName != '') {
                    $('#taxNameDiv').addClass('has-success');
                    $('#taxNameDiv').removeClass('has-error');
                } else {
                    $('#taxNameDiv').removeClass('has-success');
                    $('#taxNameDiv').addClass('has-error');
                    error = true;
                }
                if (taxRate != '') {
                    $('#taxRateDiv').addClass('has-success');
                    $('#taxRateDiv').removeClass('has-error');
                } else {
                    $('#taxRateDiv').removeClass('has-success');
                    $('#taxRateDiv').addClass('has-error');
                    error = true;
                }
                if (taxDescription != '') {
                    $('#taxDescriptionDiv').addClass('has-success');
                    $('#taxDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#taxDescriptionDiv').removeClass('has-success');
                    $('#taxDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateTax',
                        type: 'POST',
                        data: $('#addTax').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update tax "+taxName, "Update Tax");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#tax'+id).closest('tr').find('td:eq(2)').html(taxName);
                                    $('#tax'+id).closest('tr').find('td:eq(3)').html(taxRate);
                                    $('#tax'+id).closest('tr').find('td:eq(4)').html(taxDescription);
                                    $('#taxUpdate').attr('id', 'taxSave');
                                    $('#taxSave').html('<i class="fa fa-save"></i> Save');
                                    $('#taxUpdateNew').attr('id', 'taxSaveNew');
                                    $('#taxSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('.addTax').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addTax')[0].reset();
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#taxUpdateNew').live('click', function(e) {
                var error = false;
                var taxName = $('#taxName').val();
                var taxRate = $('#taxRate').val();
                var taxDescription = $('#taxDescription').val();
                var id = $('#taxEditId').val();
                if (taxName != '') {
                    $('#taxNameDiv').addClass('has-success');
                    $('#taxNameDiv').removeClass('has-error');
                } else {
                    $('#taxNameDiv').removeClass('has-success');
                    $('#taxNameDiv').addClass('has-error');
                    error = true;
                }
                if (taxRate != '') {
                    $('#taxRateDiv').addClass('has-success');
                    $('#taxRateDiv').removeClass('has-error');
                } else {
                    $('#taxRateDiv').removeClass('has-success');
                    $('#taxRateDiv').addClass('has-error');
                    error = true;
                }
                if (taxDescription != '') {
                    $('#taxDescriptionDiv').addClass('has-success');
                    $('#taxDescriptionDiv').removeClass('has-warning');
                } else {
                    $('#taxDescriptionDiv').removeClass('has-success');
                    $('#taxDescriptionDiv').addClass('has-warning');
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateTax',
                        type: 'POST',
                        data: $('#addTax').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update tax "+taxName, "Update Tax");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#tax'+id).closest('tr').find('td:eq(2)').html(taxName);
                                    $('#tax'+id).closest('tr').find('td:eq(3)').html(taxRate);
                                    $('#tax'+id).closest('tr').find('td:eq(4)').html(taxDescription);
                                    $('#taxUpdate').attr('id', 'taxSave');
                                    $('#taxSave').html('<i class="fa fa-save"></i> Save');
                                    $('#taxUpdateNew').attr('id', 'taxSaveNew');
                                    $('#taxSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addTax')[0].reset();
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function deleteTaxData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will not be calculated any data within the archive.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, archive it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_1').DataTable();
                    if (isConfirm) {
                        var activeTd =  '<li id="taxActive'+id+'">'+
                                            '<a onclick="activeTaxData(\''+id+'\')"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>'+
                                        '</li>';
                        $(activeTd).insertAfter('#taxEdit'+id);
                        $('#tax'+id).closest('tr').find('td:eq(1) #taxEdit'+id).remove();
                        $('#tax'+id).closest('tr').find('td:eq(1) #taxDelete'+id).remove();
                        var remarks = $('#tax'+id).closest('tr').find('td:eq(6)').html();
                        var rowIndex = $('#sample_11').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#tax'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#tax'+id).data()[2],
                                table.row('#tax'+id).data()[3],
                                table.row('#tax'+id).data()[4],
                                table.row('#tax'+id).data()[5],
                                table.row('#tax'+id).data()[6],
                                table.row('#tax'+id).data()[7],
                                table.row('#tax'+id).data()[8],
                                table.row('#tax'+id).data()[9],
                                remarks
                            ]
                        );
                        var row = $('#sample_11').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'tax'+id);
                        $('#sample_11 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/taxStatus",
                            data: 'id='+ id + '&status=' + 0,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#tax"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.error(" You successfully archive tax ", "Archive Tax");
                                        }, 1500);
                                        swal({
                                            title: "Archive!",
                                            text: "This tax has been archived.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=archive'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            function activeTaxData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will be calculated any data within the active.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, active it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_11').DataTable();
                    if (isConfirm) {
                        var editTd      =  '<li id="taxEdit'+id+'">'+
                                                '<a onclick="editTaxData(\''+id+'\')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                            '</li>';
                        var deleteTd    =  '<li id="taxDelete'+id+'">'+
                                                '<a onclick="deleteTaxData(\''+id+'\')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                            '</li>';
                        $(editTd).insertAfter('#taxActive'+id);
                        $(deleteTd).insertAfter('#taxEdit'+id);
                        $('#tax'+id).closest('tr').find('td:eq(1) #taxActive'+id).remove();
                        var remarks = $('#tax'+id).closest('tr').find('td:eq(6)').html();                        
                        var rowIndex = $('#sample_1').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#tax'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#tax'+id).data()[2],
                                table.row('#tax'+id).data()[3],
                                table.row('#tax'+id).data()[4],
                                table.row('#tax'+id).data()[5],
                                table.row('#tax'+id).data()[6],
                                table.row('#tax'+id).data()[7],
                                table.row('#tax'+id).data()[8],
                                table.row('#tax'+id).data()[9],
                                remarks
                            ]
                        );
                        var row = $('#sample_1').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'tax'+id);
                        $('#sample_1 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/taxStatus",
                            data: 'id='+ id + '&status=' + 1,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#sample_11 #tax"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.success(" You successfully active tax ", "Active Tax");
                                        }, 1500);
                                        swal({
                                            title: "Activate!",
                                            text: "This tax has been activate.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=active'+ '&title=tax'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            $('#productSave').live('click', function(e) {
                var error = false;
                var codeProduct = $('#codeProduct').val();
                var nameProduct = $('#nameProduct').val();
                var unitProduct = $('#unitProduct').val();
                var initialProduct = $('#initialProduct').val();
                var initialPrice = $('#priceProduct').val();
                var initialSale = $('#saleProduct').val();
                var alertProduct = $('#alertProduct').val();
                var categoryProduct = $('#categoryProduct').val();
                var subCategoryProduct = $('#subCategoryProduct').val();
                var descriptionProduct = $('#descriptionProduct').val();
                var warrantyYes = $('#warrantyYes').val();
                var discountCheck = $('#discountCheck').val();
                var warrantyTime = $('input[name="radio2Product"]:checked', '#addProduct').val();
                var alertStatus = '';
                var isWarrantyProduct = 'N/A';
                if(warrantyYes == 1) {
                    isWarrantyProduct = discountCheck+" "+$('input[name="radio2Product"]:checked', '#addProduct').val();
                }
                if(parseInt(initialProduct) == 0 || initialProduct == '') {
                    alertStatus = '<span class="label label-sm" style="background: blue"> N/A </span>';
                } else if(parseInt(alertProduct) > parseInt(initialProduct)) {
                    alertStatus = '<span class="label label-sm" style="background: red"> Short </span>';
                } else {
                    alertStatus = '<span class="label label-sm" style="background: green"> Ok </span>';
                }
                if (nameProduct != '') {
                    $('#nameProductDiv').addClass('has-success');
                    $('#nameProductDiv').removeClass('has-error');
                } else {
                    $('#nameProductDiv').removeClass('has-success');
                    $('#nameProductDiv').addClass('has-error');
                    error = true;
                }
                if (codeProduct != '') {
                    $('#codeProductDiv').addClass('has-success');
                    $('#codeProductDiv').removeClass('has-warning');
                } else {
                    $('#codeProductDiv').removeClass('has-success');
                    $('#codeProductDiv').addClass('has-warning');
                }
                if (unitProduct != '') {
                    $('#unitProductDiv').addClass('has-success');
                    $('#unitProductDiv').removeClass('has-warning');
                } else {
                    $('#unitProductDiv').removeClass('has-success');
                    $('#unitProductDiv').addClass('has-warning');
                }
                if (initialProduct != '') {
                    $('#initialProductDiv').addClass('has-success');
                    $('#initialProductDiv').removeClass('has-warning');
                } else {
                    $('#initialProductDiv').removeClass('has-success');
                    $('#initialProductDiv').addClass('has-warning');
                    $('#initialProduct').val(0);
                    $('#initialProduct').addClass("edited");
                }
                if(initialProduct > 0) {
                    if(initialPrice != '') {
                        $('#priceProductDiv').removeClass('has-error');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-success');
                    } else {
                        $('#priceProductDiv').removeClass('has-success');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-error');
                        $('#priceProduct').val("0.00");
                        $('#priceProduct').addClass("edited");
                        error = true;
                    }
                    if(initialSale != '') {
                        $('#saleProductDiv').removeClass('has-error');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-success');
                    } else {
                        $('#saleProductDiv').removeClass('has-success');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-error');
                        $('#saleProduct').val("0.00");
                        $('#saleProduct').addClass("edited");
                        error = true;
                    }
                } else {
                    $('#priceProductDiv').removeClass('has-success');
                    $('#priceProductDiv').removeClass('has-error');
                    $('#priceProductDiv').addClass('has-warning');
                    $('#saleProductDiv').removeClass('has-success');
                    $('#saleProductDiv').removeClass('has-error');
                    $('#saleProductDiv').addClass('has-warning');
                }
                if (alertProduct != '') {
                    $('#alertProductDiv').addClass('has-success');
                    $('#alertProductDiv').removeClass('has-warning');
                } else {
                    $('#alertProductDiv').removeClass('has-success');
                    $('#alertProductDiv').addClass('has-warning');
                    $('#alertProduct').val(0);
                    $('#alertProduct').addClass("edited");
                }
                if (descriptionProduct != '') {
                    $('#descriptionProductDiv').addClass('has-success');
                    $('#descriptionProductDiv').removeClass('has-warning');
                } else {
                    $('#descriptionProductDiv').removeClass('has-success');
                    $('#descriptionProductDiv').addClass('has-warning');
                }
                if(warrantyYes == 1) {
                    if (discountCheck != '') {
                        $('#discountCheckDiv').addClass('has-success');
                        $('#discountCheckDiv').removeClass('has-error');
                    } else {
                        $('#discountCheckDiv').removeClass('has-success');
                        $('#discountCheckDiv').addClass('has-error');
                        error = true;
                    } 
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addProduct',
                        type: 'POST',
                        data: $('#addProduct').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully product "+taxName, "Add Product");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_7').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li id="editProduct"'+totalProduct+'>'+
                                                        '<a onclick="editProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+                                                   
                                                    '<li id="duplicateProduct"'+totalProduct+'>'+
                                                        '<a onclick="duplicateProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>'+
                                                    '</li>'+
                                                    '<li id="deleteProduct"'+totalProduct+'>'+
                                                        '<a onclick="deleteProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span>Archive</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<a class="tooltipC">'+
                                                alertStatus
                                                +'<span class="sTooltip"><strong>Initial Quantity: '+initialProduct+' Alert Quantity: '+alertProduct+'</strong></span>'+
                                            '</a>',
                                            '<span id="nameProduct'+totalProduct+'">'+nameProduct+'</span>'+
                                            '<span id="codeProduct'+totalProduct+'" style="display:none;">'+codeProduct+'</span>'+
                                            '<span id="unitProduct'+totalProduct+'" style="display:none;">'+unitProduct+'</span>'+
                                            '<span id="initialProduct'+totalProduct+'" style="display:none;">'+initialProduct+'</span>'+
                                            '<span id="alertProduct'+totalProduct+'" style="display:none;">'+alertProduct+'</span>'+
                                            '<span id="categoryProduct'+totalProduct+'" style="display:none;">'+categoryProduct+'</span>'+
                                            '<span id="subCategoryProduct'+totalProduct+'" style="display:none;">'+subCategoryProduct+'</span>'+
                                            '<span id="warrantyYes'+totalProduct+'" style="display:none;">'+warrantyYes+'</span>'+
                                            '<span id="discountCheck'+totalProduct+'" style="display:none;">'+discountCheck+'</span>'+
                                            '<span id="warrantyTime'+totalProduct+'" style="display:none;">'+warrantyTime+'</span>'+
                                            '<span id="price'+totalProduct+'" style="display:none;">'+initialPrice+'</span>'+
                                            '<span id="picture'+totalProduct+'" style="display:none;">'+$("#productImg").val()+'</span>',
                                            '0.00',
                                            initialPrice,
                                            $('#productSystemCode').val(),
                                            codeProduct,
                                            "N/A Yet",
                                            initialProduct,
                                            isWarrantyProduct,
                                            $('#nameSubCategory').val(),
                                            $('#nameCategory').val(),
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_7 tbody tr:first').attr('id');
                                    $('#sample_7 tbody tr:first').attr('id','product'+totalProduct);
                                    $('#sample_7 tr td:last-child').css('display', 'none');
                                    $('.addProduct').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addProduct').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addProduct')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    productListId();  
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#productSaveNew').live('click', function(e) {
                var error = false;
                var codeProduct = $('#codeProduct').val();
                var nameProduct = $('#nameProduct').val();
                var unitProduct = $('#unitProduct').val();
                var initialProduct = $('#initialProduct').val();
                var initialPrice = $('#priceProductroduct');
                var initialSale = $('#saleProduct').val();
                var alertProduct = $('#alertProduct').val();
                var categoryProduct = $('#categoryProduct').val();
                var subCategoryProduct = $('#subCategoryProduct').val();
                var descriptionProduct = $('#descriptionProduct').val();
                var warrantyYes = $('#warrantyYes').val();
                var discountCheck = $('#discountCheck').val();
                var warrantyTime = $('input[name="radio2Product"]:checked', '#addProduct').val();
                var alertStatus = '';
                var isWarrantyProduct = 'N/A';
                if(warrantyYes == 1) {
                    isWarrantyProduct = discountCheck+" "+$('input[name="radio2Product"]:checked', '#addProduct').val();
                }
                if(parseInt(initialProduct) == 0 || initialProduct == '') {
                    alertStatus = '<span class="label label-sm" style="background: blue"> N/A </span>';
                }else if(parseInt(alertProduct) > parseInt(initialProduct)) {
                    alertStatus = '<span class="label label-sm" style="background: red"> Short </span>';
                } else {
                    alertStatus = '<span class="label label-sm" style="background: green"> Ok </span>';
                }
                if (nameProduct != '') {
                    $('#nameProductDiv').addClass('has-success');
                    $('#nameProductDiv').removeClass('has-error');
                } else {
                    $('#nameProductDiv').removeClass('has-success');
                    $('#nameProductDiv').addClass('has-error');
                    error = true;
                }
                if (codeProduct != '') {
                    $('#codeProductDiv').addClass('has-success');
                    $('#codeProductDiv').removeClass('has-warning');
                } else {
                    $('#codeProductDiv').removeClass('has-success');
                    $('#codeProductDiv').addClass('has-warning');
                }
                if (unitProduct != '') {
                    $('#unitProductDiv').addClass('has-success');
                    $('#unitProductDiv').removeClass('has-warning');
                } else {
                    $('#unitProductDiv').removeClass('has-success');
                    $('#unitProductDiv').addClass('has-warning');
                }
                if (initialProduct != '') {
                    $('#initialProductDiv').addClass('has-success');
                    $('#initialProductDiv').removeClass('has-warning');
                } else {
                    $('#initialProductDiv').removeClass('has-success');
                    $('#initialProductDiv').addClass('has-warning');
                    $('#initialProduct').val(0);
                    $('#initialProduct').addClass("edited");
                }
                if(initialProduct > 0) {
                    if(initialPrice != '') {
                        $('#priceProductDiv').removeClass('has-error');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-success');
                    } else {
                        $('#priceProductDiv').removeClass('has-success');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-error');
                        $('#priceProduct').val("0.00");
                        $('#priceProduct').addClass("edited");
                        error = true;
                    }
                    if(initialSale != '') {
                        $('#saleProductDiv').removeClass('has-error');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-success');
                    } else {
                        $('#saleProductDiv').removeClass('has-success');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-error');
                        $('#saleProduct').val("0.00");
                        $('#saleProduct').addClass("edited");
                        error = true;
                    }
                } else {
                    $('#priceProductDiv').removeClass('has-success');
                    $('#priceProductDiv').removeClass('has-error');
                    $('#priceProductDiv').addClass('has-warning');
                    $('#saleProductDiv').removeClass('has-success');
                    $('#saleProductDiv').removeClass('has-error');
                    $('#saleProductDiv').addClass('has-warning');
                }
                if (alertProduct != '') {
                    $('#alertProductDiv').addClass('has-success');
                    $('#alertProductDiv').removeClass('has-warning');
                } else {
                    $('#alertProductDiv').removeClass('has-success');
                    $('#alertProductDiv').addClass('has-warning');
                    $('#alertProduct').val(0);
                    $('#alertProduct').addClass("edited");
                }
                if (descriptionProduct != '') {
                    $('#descriptionProductDiv').addClass('has-success');
                    $('#descriptionProductDiv').removeClass('has-warning');
                } else {
                    $('#descriptionProductDiv').removeClass('has-success');
                    $('#descriptionProductDiv').addClass('has-warning');
                }
                if(warrantyYes == 1) {
                    if (discountCheck != '') {
                        $('#discountCheckDiv').addClass('has-success');
                        $('#discountCheckDiv').removeClass('has-error');
                    } else {
                        $('#discountCheckDiv').removeClass('has-success');
                        $('#discountCheckDiv').addClass('has-error');
                        error = true;
                    } 
                }
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/addProduct',
                        type: 'POST',
                        data: $('#addProduct').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully added product "+taxName, "Add Product");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=create'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#sample_7').dataTable().fnAddData( 
                                        [ 
                                            '<span class="row-details row-details-close"></span>',
                                            '<div class="btn-group" style="margin: -5px">'+
                                                '<button aria-expanded="false" class="btn btn-sm dark dropdown-toggle" type="button" data-toggle="dropdown"> Manage'+
                                                    '<i class="fa fa-angle-down"></i>'+
                                                '</button>'+
                                                '<ul class="dropdown-menu dropdown-menu-custom btn-group-circle" role="menu">'+
                                                    '<li id="editProduct"'+totalProduct+'>'+
                                                        '<a onclick="editProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                                    '</li>'+                                                   
                                                    '<li id="duplicateProduct"'+totalProduct+'>'+
                                                        '<a onclick="duplicateProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-clone" style="color: #E87E04;"></i><span>Duplicate</span></a>'+
                                                    '</li>'+
                                                    '<li id="deleteProduct"'+totalProduct+'>'+
                                                        '<a onclick="deleteProductData('+totalProduct+')" href="javascript:;"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span>Archive</span></a>'+
                                                    '</li>'+
                                                '</ul>'+
                                            '</div>',
                                            '<a class="tooltipC">'+
                                                alertStatus
                                                +'<span class="sTooltip"><strong>Initial Quantity: '+initialProduct+' Alert Quantity: '+alertProduct+'</strong></span>'+
                                            '</a>',
                                            '<span id="nameProduct'+totalProduct+'">'+nameProduct+'</span>'+
                                            '<span id="codeProduct'+totalProduct+'" style="display:none;">'+codeProduct+'</span>'+
                                            '<span id="unitProduct'+totalProduct+'" style="display:none;">'+unitProduct+'</span>'+
                                            '<span id="initialProduct'+totalProduct+'" style="display:none;">'+initialProduct+'</span>'+
                                            '<span id="alertProduct'+totalProduct+'" style="display:none;">'+alertProduct+'</span>'+
                                            '<span id="categoryProduct'+totalProduct+'" style="display:none;">'+categoryProduct+'</span>'+
                                            '<span id="subCategoryProduct'+totalProduct+'" style="display:none;">'+subCategoryProduct+'</span>'+
                                            '<span id="warrantyYes'+totalProduct+'" style="display:none;">'+warrantyYes+'</span>'+
                                            '<span id="discountCheck'+totalProduct+'" style="display:none;">'+discountCheck+'</span>'+
                                            '<span id="warrantyTime'+totalProduct+'" style="display:none;">'+warrantyTime+'</span>'+
                                            '<span id="price'+totalProduct+'" style="display:none;">'+initialPrice+'</span>'+
                                            '<span id="picture'+totalProduct+'" style="display:none;">'+$("#productImg").val()+'</span>',
                                            '0.00',
                                            initialPrice,
                                            $('#productSystemCode').val(),
                                            codeProduct,
                                            "N/A",
                                            initialProduct,
                                            isWarrantyProduct,
                                            $('#nameSubCategory').val(),
                                            $('#nameCategory').val(),
                                            userNameFull,
                                            getDateTime,
                                            '<div class="col-md-12 col-sm-12">'+
                                                '<div class="portlet">'+
                                                    '<div class="portlet-body" id="chats">                                                                           '+
                                                        '<div class="ibox float-e-margins ui-sortable">'+
                                                            '<div style="position: static;" class="ibox-content" id="ibox_form">'+
                                                                '<div id="sysfrm_ajaxrender">'+
                                                                '<section class="activity-post mb-xlg">'+
                                                                    '<form id="marking-form" method="get" action="/">'+
                                                                        '<textarea name="message-text" id="msg" data-plugin-textarea-autosize="" placeholder="Add a note..." rows="1" style="overflow: hidden; word-wrap: break-word; resize: none; height: 50px;"></textarea>'+
                                                                        '<input id="activity-type" value="fa-hourglass" type="hidden">'+
                                                                        '<input id="activity-id_user" value="<?php echo $this->uri->segment(3); ?>" type="hidden">'+
                                                                    '</form>'+
                                                                    '<div class="compose-box-footer">'+
                                                                        '<ul class="compose-toolbar">'+
                                                                            '<li id="fa-hourglass" onClick="iconChange(\'fa-hourglass\');" class="clickable"><a><i class="fa fa-hourglass"></i></a></li>'+
                                                                            '<li id="fa-hourglass-start" onClick="iconChange(\'fa-hourglass-start\');" class="clickable"><a><i class="fa fa-hourglass-start"></i></a></li>'+
                                                                            '<li id="fa-hourglass-o" onClick="iconChange(\'fa-hourglass-o\');" class="clickable"><a><i class="fa fa-hourglass-o"></i></a></li>'+
                                                                            '<li id="fa-balance-scale" onClick="iconChange(\'fa-balance-scale\');" class="clickable"><a><i class="fa fa-balance-scale"></i></a></li>'+
                                                                            '<li id="fa-adjust" onClick="iconChange(\'fa-adjust\');" class="clickable"><a><i class="fa fa-adjust"></i></a></li>'+
                                                                            '<li id="fa-certificate" onClick="iconChange(\'fa-certificate\');" class="clickable"><a><i class="fa fa-certificate"></i></a></li>'+
                                                                            '<li id="fa-check" onClick="iconChange(\'fa-check\');" class="clickable"><a><i class="fa fa-check"></i></a></li>'+
                                                                            '<li id="fa-times" onClick="iconChange(\'fa-times\');" class="clickable"><a><i class="fa fa-times"></i></a></li>'+
                                                                            '<li id="fa-exchange" onClick="iconChange(\'fa-exchange\');" class="clickable"><a><i class="fa fa-exchange"></i></a></li>'+
                                                                            '<li id="fa-cog" onClick="iconChange(\'fa-cog\');" class="clickable"><a><i class="fa fa-cog"></i></a></li>'+
                                                                        '</ul>'+
                                                                        '<ul class="compose-btn">'+
                                                                            '<li>'+
                                                                                '<a class="btn btn-success btn-xs" id="acf-post"><i class="fa fa-edit"></i> Add Note</a>'+
                                                                            '</li>'+
                                                                        '</ul>'+
                                                                    '</div>'+
                                                                    '</section>'+
                                                                    '<div style="margin-top:20px !important;" class="mt-lg"> </div>'+
                                                                        '<div id="all_timeline_div" class="myScroller" data-always-visible="1" data-rail-visible1="1">'+
                                                                        '</div>'+
                                                                    '</div>'+
                                                                '</div>'+
                                                            '</div>'+
                                                        '</div>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</div>'
                                        ]
                                    );
                                    $('#sample_7 tbody tr:first').attr('id');
                                    $('#sample_7 tbody tr:first').attr('id','product'+totalProduct);
                                    $('#sample_7 tr td:last-child').css('display', 'none');
                                    $('#addProduct').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addProduct')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                    productListId();  
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function editProductData(id) {
                $('#productSave').attr('id', 'productUpdate');
                $('#productUpdate').html('<i class="fa fa-save"></i> Update');
                $('#productSaveNew').attr('id', 'productUpdateNew');
                $('#productUpdateNew').html('<i class="fa fa-newspaper-o"></i> Update & New');
                $('#codeProduct').addClass('edited');
                $('#codeProduct').val($('#product'+id).closest('tr').find('td:eq(3) #codeProduct'+id).text().trim());
                $('#nameProduct').addClass('edited');
                $('#nameProduct').val($('#product'+id).closest('tr').find('td:eq(3) #nameProduct'+id).text().trim());
                $('#unitProduct').addClass('edited');
                $('#unitProduct').val($('#product'+id).closest('tr').find('td:eq(3) #unitProduct'+id).text().trim());
                $('#initialProduct').addClass('edited');
                $('#initialProduct').val($('#product'+id).closest('tr').find('td:eq(3) #initialProduct'+id).text().trim());
                $('#priceProduct').addClass('edited');
                $('#priceProduct').val($('#product'+id).closest('tr').find('td:eq(3) #price'+id).text().trim());
                $('#saleProduct').addClass('edited');
                $('#saleProduct').val($('#product'+id).closest('tr').find('td:eq(3) #sale'+id).text().trim());
                $('#alertProduct').addClass('edited');
                $('#alertProduct').val($('#product'+id).closest('tr').find('td:eq(3) #alertProduct'+id).text().trim());
                $("#categoryProduct").val($('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text().trim());  
                $("#subCategoryProduct").val($('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text().trim()); 
                $('.dd-main').removeClass('dd-main');
                $('.dd-sub').removeClass('dd-sub');
                $('.dd-main'+$('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text().trim()).addClass('dd-main');
                $('.dd-sub'+$('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text().trim()).addClass('dd-sub');
                $('#descriptionProduct').addClass('edited');
                $('#descriptionProduct').val($('#product'+id).closest('tr').find('td:eq(3) #description'+id).text().trim());
                var isWarrantyCheck = $('#product'+id).closest('tr').find('td:eq(3) #warrantyYes'+id).text().trim();
                $('#warrantyYes').val(isWarrantyCheck);
                if(isWarrantyCheck == 1) {
                    $('#warranty').bootstrapSwitch('state', true);
                    $('#discountCheckDiv').slideDown("slow");
                    $('.radioCheck').slideDown("slow");
                    $('#discountCheck').addClass('edited');
                    $('#discountCheck').val($('#product'+id).closest('tr').find('td:eq(3) #discountCheck'+id).text().trim());
                    var radioProduct = $('#product'+id).closest('tr').find('td:eq(3) #warrantyTime'+id).text().trim();
                    if(radioProduct == "Day") {
                        $('#radioDay').attr("checked", true);
                    } else if(radioProduct == "Month") {
                        $('#radioMonth').attr("checked", true);
                    } else {
                        $('#radioYear').attr("checked", true);                        
                    }
                } else {
                    $('#warranty').bootstrapSwitch('state', false);
                    $('#discountCheckDiv').slideUp("slow");
                    $('.radioCheck').slideUp("slow");
                }
                $('#productImg').val($('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text().trim());
                if($('#productImg').val() != '') {
                    $('#productPicture').css('display', 'none');
                    $('#productPictureDiv').css('display', 'block');
                    $('#productPictureImg').attr('src', base_link +'assets/uploadedFile/productPicture/'+$('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text().trim());
                }
                $('#productEditId').val(id);
                $('.addProduct').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            }
            function duplicateProductData(id) {
                // $('#productSave').attr('id', 'productUpdate');
                // $('#productUpdate').html('<i class="fa fa-save"></i> Update');
                // $('#productSaveNew').attr('id', 'productUpdateNew');
                // $('#productUpdateNew').html('<i class="fa fa-newspaper-o"></i> Update & New');
                $('#codeProduct').addClass('edited');
                $('#codeProduct').val($('#product'+id).closest('tr').find('td:eq(3) #codeProduct'+id).text().trim());
                $('#nameProduct').addClass('edited');
                $('#nameProduct').val($('#product'+id).closest('tr').find('td:eq(3) #nameProduct'+id).text().trim());
                $('#unitProduct').addClass('edited');
                $('#unitProduct').val($('#product'+id).closest('tr').find('td:eq(3) #unitProduct'+id).text().trim());
                $('#initialProduct').addClass('edited');
                $('#initialProduct').val($('#product'+id).closest('tr').find('td:eq(3) #initialProduct'+id).text().trim());
                $('#priceProduct').addClass('edited');
                $('#priceProduct').val($('#product'+id).closest('tr').find('td:eq(3) #price'+id).text().trim());
                $('#saleProduct').addClass('edited');
                $('#saleProduct').val($('#product'+id).closest('tr').find('td:eq(3) #sale'+id).text().trim());
                $('#alertProduct').addClass('edited');
                $('#alertProduct').val($('#product'+id).closest('tr').find('td:eq(3) #alertProduct'+id).text().trim());
                $("#categoryProduct").val($('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text().trim());  
                $("#subCategoryProduct").val($('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text().trim()); 
                $('.dd-main').removeClass('dd-main');
                $('.dd-sub').removeClass('dd-sub');
                $('.dd-main'+$('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text().trim()).addClass('dd-main');
                $('.dd-sub'+$('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text().trim()).addClass('dd-sub');
                $('#descriptionProduct').addClass('edited');
                $('#descriptionProduct').val($('#product'+id).closest('tr').find('td:eq(3) #descriptionProduct'+id).text().trim());
                var isWarrantyCheck = $('#product'+id).closest('tr').find('td:eq(3) #warrantyYes'+id).text().trim();
                $('#warrantyYes').val(isWarrantyCheck);
                if(isWarrantyCheck == 1) {
                    $('#warranty').bootstrapSwitch('state', true);
                    $('#discountCheckDiv').slideDown("slow");
                    $('.radioCheck').slideDown("slow");
                    $('#discountCheck').addClass('edited');
                    $('#discountCheck').val($('#product'+id).closest('tr').find('td:eq(3) #discountCheck'+id).text().trim());
                    var radioProduct = $('#product'+id).closest('tr').find('td:eq(3) #warrantyTime'+id).text().trim();
                    if(radioProduct == "Day") {
                        $('#radioDay').attr("checked", true);
                    } else if(radioProduct == "Month") {
                        $('#radioMonth').attr("checked", true);
                    } else {
                        $('#radioYear').attr("checked", true);                        
                    }
                } else {
                    $('#warranty').bootstrapSwitch('state', false);
                    $('#discountCheckDiv').slideUp("slow");
                    $('.radioCheck').slideUp("slow");
                }
                $('#productImg').val($('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text().trim());
                if($('#productImg').val() != '') {
                    $('#productPicture').css('display', 'none');
                    $('#productPictureDiv').css('display', 'block');
                    $('#productPictureImg').attr('src', base_link +'assets/uploadedFile/productPicture/'+$('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text().trim());
                }
                $('#productEditId').val(id);
                $('.addProduct').stop(true, true).fadeIn({ duration: 1500, queue: false }).css('display', 'none').slideDown(1500);    
                $("html, body").animate({ scrollTop: '0px' }, "slow");
            }
            $('#productUpdate').live('click', function(e) {
                var error = false;
                var codeProduct = $('#codeProduct').val();
                var nameProduct = $('#nameProduct').val();
                var unitProduct = $('#unitProduct').val();
                var initialProduct = $('#initialProduct').val();
                var initialPrice = $('#priceProduct').val();
                var initialSale = $('#saleProduct').val();
                var alertProduct = $('#alertProduct').val();
                var categoryProduct = $('#categoryProduct').val();
                var subCategoryProduct = $('#subCategoryProduct').val();
                var descriptionProduct = $('#descriptionProduct').val();
                var warrantyYes = $('#warrantyYes').val();
                var discountCheck = $('#discountCheck').val();
                var warrantyTime = $('input[name="radio2Product"]:checked', '#addProduct').val();
                var alertStatus = '';
                var isWarrantyProduct = 'N/A';
                if(warrantyYes == 1) {
                    isWarrantyProduct = discountCheck+" "+$('input[name="radio2Product"]:checked', '#addProduct').val();
                } else {
                    isWarrantyProduct = 'N/A';
                }
                if(parseInt(initialProduct) == 0 || initialProduct == '') {
                    alertStatus = '<span class="label label-sm" style="background: blue"> N/A </span>';
                }else if(parseInt(alertProduct) > parseInt(initialProduct)) {
                    alertStatus = '<span class="label label-sm" style="background: red"> Short </span>';
                } else {
                    alertStatus = '<span class="label label-sm" style="background: green"> Ok </span>';
                }
                if (nameProduct != '') {
                    $('#nameProductDiv').addClass('has-success');
                    $('#nameProductDiv').removeClass('has-error');
                } else {
                    $('#nameProductDiv').removeClass('has-success');
                    $('#nameProductDiv').addClass('has-error');
                    error = true;
                }
                if (codeProduct != '') {
                    $('#codeProductDiv').addClass('has-success');
                    $('#codeProductDiv').removeClass('has-warning');
                } else {
                    $('#codeProductDiv').removeClass('has-success');
                    $('#codeProductDiv').addClass('has-warning');
                }
                if (unitProduct != '') {
                    $('#unitProductDiv').addClass('has-success');
                    $('#unitProductDiv').removeClass('has-warning');
                } else {
                    $('#unitProductDiv').removeClass('has-success');
                    $('#unitProductDiv').addClass('has-warning');
                }
                if (initialProduct != '') {
                    $('#initialProductDiv').addClass('has-success');
                    $('#initialProductDiv').removeClass('has-warning');
                } else {
                    $('#initialProductDiv').removeClass('has-success');
                    $('#initialProductDiv').addClass('has-warning');
                    $('#initialProduct').val(0);
                    $('#initialProduct').addClass("edited");
                }
                if(initialProduct > 0) {
                    if(initialPrice != '') {
                        $('#priceProductDiv').removeClass('has-error');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-success');
                    } else {
                        $('#priceProductDiv').removeClass('has-success');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-error');
                        $('#priceProduct').val("0.00");
                        $('#priceProduct').addClass("edited");
                        error = true;
                    }
                    if(initialSale != '') {
                        $('#saleProductDiv').removeClass('has-error');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-success');
                    } else {
                        $('#saleProductDiv').removeClass('has-success');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-error');
                        $('#saleProduct').val("0.00");
                        $('#saleProduct').addClass("edited");
                        error = true;
                    }
                } else {
                    $('#priceProductDiv').removeClass('has-success');
                    $('#priceProductDiv').removeClass('has-error');
                    $('#priceProductDiv').addClass('has-warning');
                    $('#saleProductDiv').removeClass('has-success');
                    $('#saleProductDiv').removeClass('has-error');
                    $('#saleProductDiv').addClass('has-warning');
                }
                if (alertProduct != '') {
                    $('#alertProductDiv').addClass('has-success');
                    $('#alertProductDiv').removeClass('has-warning');
                } else {
                    $('#alertProductDiv').removeClass('has-success');
                    $('#alertProductDiv').addClass('has-warning');
                    $('#alertProduct').val(0);
                    $('#alertProduct').addClass("edited");
                }
                if (descriptionProduct != '') {
                    $('#descriptionProductDiv').addClass('has-success');
                    $('#descriptionProductDiv').removeClass('has-warning');
                } else {
                    $('#descriptionProductDiv').removeClass('has-success');
                    $('#descriptionProductDiv').addClass('has-warning');
                }
                if(warrantyYes == 1) {
                    if (discountCheck != '') {
                        $('#discountCheckDiv').addClass('has-success');
                        $('#discountCheckDiv').removeClass('has-error');
                    } else {
                        $('#discountCheckDiv').removeClass('has-success');
                        $('#discountCheckDiv').addClass('has-error');
                        error = true;
                    } 
                }
                var id = $('#productEditId').val();
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateProduct',
                        type: 'POST',
                        data: $('#addProduct').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update product "+taxName, "Update Product");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#product'+id).closest('tr').find('td:eq(2)').html(alertStatus);
                                    $('#product'+id).closest('tr').find('td:eq(3) #nameProduct'+id).text(nameProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #codeProduct'+id).text(codeProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #unitProduct'+id).text(unitProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #initialProduct'+id).text(initialProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #alertProduct'+id).text(alertProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text(categoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text(subCategoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #warrantyYes'+id).text(warrantyYes);
                                    $('#product'+id).closest('tr').find('td:eq(3) #discountCheck'+id).text(discountCheck);
                                    $('#product'+id).closest('tr').find('td:eq(3) #warrantyTime'+id).text(warrantyTime);
                                    $('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text($('#productImg').val());
                                    $('#product'+id).closest('tr').find('td:eq(3) #price'+id).text(initialPrice);
                                    $('#product'+id).closest('tr').find('td:eq(5)').text(initialPrice);
                                    $('#product'+id).closest('tr').find('td:eq(7)').text(codeProduct);
                                    $('#product'+id).closest('tr').find('td:eq(9)').text(initialProduct);
                                    $('#product'+id).closest('tr').find('td:eq(10)').text(isWarrantyProduct);
                                    $('#product'+id).closest('tr').find('td:eq(11)').text(categoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(12)').text(subCategoryProduct);
                                    $('#productPicture').css('display', 'block');
                                    $('#productPictureDiv').css('display', 'none');
                                    $('#productPictureImg').attr('src', base_link +'assets/uploadedFile/productPicture/productDefault.jpg');
                                    $('#radioMonth').attr("checked", true);
                                    $('#warranty').bootstrapSwitch('state', false);
                                    $('#notoficationDiv').slideUp('slow');                                   
                                    $('#productUpdate').attr('id', 'productSave');
                                    $('#productSave').html('<i class="fa fa-save"></i> Save');
                                    $('#productUpdateNew').attr('id', 'productSaveNew');
                                    $('#productSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('.addProduct').stop(true, true).fadeOut({ duration: 1000, queue: false }).slideUp(1000);
                                    $('#addProduct').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addProduct')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            $('#productUpdateNew').live('click', function(e) {
                var error = false;
                var codeProduct = $('#codeProduct').val();
                var nameProduct = $('#nameProduct').val();
                var unitProduct = $('#unitProduct').val();
                var initialProduct = $('#initialProduct').val();
                var initialPrice = $('#priceProduct').val();
                var initialSale = $('#saleProduct').val();
                var alertProduct = $('#alertProduct').val();
                var categoryProduct = $('#categoryProduct').val();
                var subCategoryProduct = $('#subCategoryProduct').val();
                var descriptionProduct = $('#descriptionProduct').val();
                var warrantyYes = $('#warrantyYes').val();
                var discountCheck = $('#discountCheck').val();
                var warrantyTime = $('input[name="radio2Product"]:checked', '#addProduct').val();
                var alertStatus = '';
                var isWarrantyProduct = 'N/A';
                if(warrantyYes == 1) {
                    isWarrantyProduct = discountCheck+" "+$('input[name="radio2Product"]:checked', '#addProduct').val();
                } else {
                    isWarrantyProduct = 'N/A';
                }
                if(parseInt(initialProduct) == 0 || initialProduct == '') {
                    alertStatus = '<span class="label label-sm" style="background: blue"> N/A </span>';
                }else if(parseInt(alertProduct) > parseInt(initialProduct)) {
                    alertStatus = '<span class="label label-sm" style="background: red"> Short </span>';
                } else {
                    alertStatus = '<span class="label label-sm" style="background: green"> Ok </span>';
                }
                if (nameProduct != '') {
                    $('#nameProductDiv').addClass('has-success');
                    $('#nameProductDiv').removeClass('has-error');
                } else {
                    $('#nameProductDiv').removeClass('has-success');
                    $('#nameProductDiv').addClass('has-error');
                    error = true;
                }
                if (codeProduct != '') {
                    $('#codeProductDiv').addClass('has-success');
                    $('#codeProductDiv').removeClass('has-warning');
                } else {
                    $('#codeProductDiv').removeClass('has-success');
                    $('#codeProductDiv').addClass('has-warning');
                }
                if (unitProduct != '') {
                    $('#unitProductDiv').addClass('has-success');
                    $('#unitProductDiv').removeClass('has-warning');
                } else {
                    $('#unitProductDiv').removeClass('has-success');
                    $('#unitProductDiv').addClass('has-warning');
                }
                if (initialProduct != '') {
                    $('#initialProductDiv').addClass('has-success');
                    $('#initialProductDiv').removeClass('has-warning');
                } else {
                    $('#initialProductDiv').removeClass('has-success');
                    $('#initialProductDiv').addClass('has-warning');
                    $('#initialProduct').val(0);
                    $('#initialProduct').addClass("edited");
                }
                if(initialProduct > 0) {
                    if(initialPrice != '') {
                        $('#priceProductDiv').removeClass('has-error');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-success');
                    } else {
                        $('#priceProductDiv').removeClass('has-success');
                        $('#priceProductDiv').removeClass('has-warning');
                        $('#priceProductDiv').addClass('has-error');
                        $('#priceProduct').val("0.00");
                        $('#priceProduct').addClass("edited");
                        error = true;
                    }
                    if(initialSale != '') {
                        $('#saleProductDiv').removeClass('has-error');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-success');
                    } else {
                        $('#saleProductDiv').removeClass('has-success');
                        $('#saleProductDiv').removeClass('has-warning');
                        $('#saleProductDiv').addClass('has-error');
                        $('#saleProduct').val("0.00");
                        $('#saleProduct').addClass("edited");
                        error = true;
                    }
                } else {
                    $('#priceProductDiv').removeClass('has-success');
                    $('#priceProductDiv').removeClass('has-error');
                    $('#priceProductDiv').addClass('has-warning');
                    $('#saleProductDiv').removeClass('has-success');
                    $('#saleProductDiv').removeClass('has-error');
                    $('#saleProductDiv').addClass('has-warning');
                }
                if (alertProduct != '') {
                    $('#alertProductDiv').addClass('has-success');
                    $('#alertProductDiv').removeClass('has-warning');
                } else {
                    $('#alertProductDiv').removeClass('has-success');
                    $('#alertProductDiv').addClass('has-warning');
                    $('#alertProduct').val(0);
                    $('#alertProduct').addClass("edited");
                }
                if (descriptionProduct != '') {
                    $('#descriptionProductDiv').addClass('has-success');
                    $('#descriptionProductDiv').removeClass('has-warning');
                } else {
                    $('#descriptionProductDiv').removeClass('has-success');
                    $('#descriptionProductDiv').addClass('has-warning');
                }
                if(warrantyYes == 1) {
                    if (discountCheck != '') {
                        $('#discountCheckDiv').addClass('has-success');
                        $('#discountCheckDiv').removeClass('has-error');
                    } else {
                        $('#discountCheckDiv').removeClass('has-success');
                        $('#discountCheckDiv').addClass('has-error');
                        error = true;
                    } 
                }
                var id = $('#productEditId').val();
                if(!error) {
                    $.ajax({
                        url: base_link+'settings/updateProduct',
                        type: 'POST',
                        data: $('#addProduct').serialize(),
                        async: false,
                        beforeSend: function() {
                            $('#overlay').css('display', 'block');
                            setLoadingImage();
                        },
                        complete: function() {
                            $('#overlay').css('display', 'none');
                            $('#loadingSpinner').remove();
                            $('#chatAudio')[0].play();
                        },
                        success: function (response) { 
                            r = $.parseJSON(response);
                            if(r.response == "success") {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                setTimeout(function() {
                                    setTimeout(function() {
                                        toastr.success(" You successfully update product "+taxName, "Update Product");
                                    }, 1000);
                                }, 500);
                                var activityId = activityListId();
                                var acType = "fa-plus";
                                var acLabel = "label-success";
                                $.ajax({
                                    url: base_link+'recent_activity/add_activity/',
                                    data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=edit'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                                    type: "POST",
                                    dataType: 'json',
                                    contentType: 'json',
                                    success: function(json) {
                                        toastr.options = {
                                            "closeButton": true,
                                            "debug": true,
                                            "positionClass": "toast-top-right",
                                            "showDuration": "1000",
                                            "hideDuration": "1000",
                                            "timeOut": "5000",
                                            "extendedTimeOut": "1000",
                                            "showEasing": "swing",
                                            "hideEasing": "linear",
                                            "showMethod": "fadeIn",
                                            "hideMethod": "fadeOut"
                                        }
                                        toastr.info("", "Recent activity recorded");
                                    }, 
                                    error: function(jqXHR, exception) {
                                        if (jqXHR.status === 0) {
                                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                        } else if (jqXHR.status == 404) {
                                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                        } else if (jqXHR.status == 500) {
                                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                        } else if (exception === 'parsererror') {
                                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                        } else if (exception === 'timeout') {
                                            sweetAlert("Oops...", "Time out error.", "error");
                                        } else if (exception === 'abort') {
                                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                                        } else {
                                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                        }
                                    }
                                });
                                setTimeout(function(){
                                    $('#product'+id).closest('tr').find('td:eq(2)').html(alertStatus);
                                    $('#product'+id).closest('tr').find('td:eq(3) #nameProduct'+id).text(nameProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #codeProduct'+id).text(codeProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #unitProduct'+id).text(unitProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #initialProduct'+id).text(initialProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #alertProduct'+id).text(alertProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #categoryProduct'+id).text(categoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #subCategoryProduct'+id).text(subCategoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(3) #warrantyYes'+id).text(warrantyYes);
                                    $('#product'+id).closest('tr').find('td:eq(3) #discountCheck'+id).text(discountCheck);
                                    $('#product'+id).closest('tr').find('td:eq(3) #warrantyTime'+id).text(warrantyTime);
                                    $('#product'+id).closest('tr').find('td:eq(3) #picture'+id).text($('#productImg').val());
                                    $('#product'+id).closest('tr').find('td:eq(3) #price'+id).text(initialPrice);
                                    $('#product'+id).closest('tr').find('td:eq(5)').text(initialPrice);
                                    $('#product'+id).closest('tr').find('td:eq(7)').text(codeProduct);
                                    $('#product'+id).closest('tr').find('td:eq(9)').text(initialProduct);
                                    $('#product'+id).closest('tr').find('td:eq(10)').text(isWarrantyProduct);
                                    $('#product'+id).closest('tr').find('td:eq(11)').text(categoryProduct);
                                    $('#product'+id).closest('tr').find('td:eq(12)').text(subCategoryProduct);
                                    $('#productPicture').css('display', 'block');
                                    $('#productPictureDiv').css('display', 'none');
                                    $('#productPictureImg').attr('src', base_link +'assets/uploadedFile/productPicture/productDefault.jpg');
                                    $('#radioMonth').attr("checked", true);
                                    $('#warranty').bootstrapSwitch('state', false);
                                    $('#notoficationDiv').slideUp('slow');                                   
                                    $('#productUpdate').attr('id', 'productSave');
                                    $('#productSave').html('<i class="fa fa-save"></i> Save');
                                    $('#productUpdateNew').attr('id', 'productSaveNew');
                                    $('#productSaveNew').html('<i class="fa fa-newspaper-o"></i> Save & New');
                                    $('#addProduct').trigger("reset");
                                    $("html, body").animate({ scrollTop: '0px' }, "slow");
                                    $('#addProduct')[0].reset();
                                    $('.has-success, .has-warning, .has-error, .edited').removeClass('has-success has-warning has-error edited');
                                }, 2000);
                            } else {
                                if(r.response == 'formManipulation') {
                                    sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                                } else if(r.response == 'Already exist') {
                                    sweetAlert("Oops...", "This email address already exist.", "error");                                   
                                } else {
                                    sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                                }
                            }
                        }, 
                        error: function(jqXHR, exception) {
                            if (jqXHR.status === 0) {
                                sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                            } else if (jqXHR.status == 404) {
                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                            } else if (jqXHR.status == 500) {
                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                            } else if (exception === 'parsererror') {
                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                            } else if (exception === 'timeout') {
                                sweetAlert("Oops...", "Time out error.", "error");
                            } else if (exception === 'abort') {
                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                            } else {
                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                            }
                        }
                    });
                    return false;
                }
            });
            function deleteProductData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will not be calculated any data within the archive.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, archive it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_7').DataTable();
                    if (isConfirm) {
                        var activeTd =  '<li id="activeProduct'+id+'">'+
                                            '<a onclick="activeProductData(\''+id+'\')"><i class="fa fa-recycle" style="color: green;"></i><span> Active</span></a>'+
                                        '</li>';
                        $(activeTd).insertAfter('#editProduct'+id);
                        $('#product'+id).closest('tr').find('td:eq(1) #editProduct'+id).remove();
                        $('#product'+id).closest('tr').find('td:eq(1) #duplicateProduct'+id).remove();
                        $('#product'+id).closest('tr').find('td:eq(1) #deleteProduct'+id).remove();
                        var remarks = $('#product'+id).closest('tr').find('td:eq(6)').html();
                        var rowIndex = $('#sample_77').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#product'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#product'+id).data()[2],
                                table.row('#product'+id).data()[3],
                                table.row('#product'+id).data()[4],
                                table.row('#product'+id).data()[5],
                                table.row('#product'+id).data()[6],
                                table.row('#product'+id).data()[7],
                                table.row('#product'+id).data()[8],
                                table.row('#product'+id).data()[9],
                                table.row('#product'+id).data()[10],
                                table.row('#product'+id).data()[11],
                                table.row('#product'+id).data()[12],
                                table.row('#product'+id).data()[12],
                                table.row('#product'+id).data()[14],
                                remarks
                            ]
                        );
                        var row = $('#sample_77').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'product'+id);
                        $('#sample_77 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/productStatus",
                            data: 'id='+ id + '&status=' + 0,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#product"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.error(" You successfully archive product ", "Archive Product");
                                        }, 1500);
                                        swal({
                                            title: "Archive!",
                                            text: "This product has been archived.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=archive'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            function activeProductData(id) {
                swal({
                    title: "Are you sure?",
                    text: "The system will be calculated any data within the active.",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes, active it!",
                    cancelButtonText: "No, cancel please!",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function(isConfirm){
                    var table = $('#sample_77').DataTable();
                    if (isConfirm) {
                        var editTd      =  '<li id="editProduct'+id+'">'+
                                                '<a onclick="editProductData(\''+id+'\')" href="javascript:;"><i class="fa fa-edit" style="color: #C49F47;"></i><span> Edit</span></a>'+
                                            '</li>';
                        var duplicateTd    =  '<li id="duplicateProduct'+id+'">'+
                                                '<a onclick="duplicateProductData(\''+id+'\')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                            '</li>';
                        var deleteTd    =  '<li id="deleteProduct'+id+'">'+
                                                '<a onclick="deleteProductData(\''+id+'\')"><i class="fa fa-trash-o" style="color: #F1C40F;"></i><span> Archive</span></a>'+
                                            '</li>';
                        $(editTd).insertAfter('#activeProduct'+id);
                        $(duplicateTd).insertAfter('#editProduct'+id);
                        $(deleteTd).insertAfter('#duplicateProduct'+id);
                        $('#product'+id).closest('tr').find('td:eq(1) #activeProduct'+id).remove();
                        var remarks = $('#product'+id).closest('tr').find('td:eq(6)').html();                        
                        var rowIndex = $('#sample_7').dataTable().fnAddData( 
                            [ 
                                '<span class="row-details row-details-close"></span>',
                                $('#product'+id).closest('tr').find('td:eq(1)').html(),
                                table.row('#product'+id).data()[2],
                                table.row('#product'+id).data()[3],
                                table.row('#product'+id).data()[4],
                                table.row('#product'+id).data()[5],
                                table.row('#product'+id).data()[6],
                                table.row('#product'+id).data()[7],
                                table.row('#product'+id).data()[8],
                                table.row('#product'+id).data()[9],
                                table.row('#product'+id).data()[10],
                                table.row('#product'+id).data()[11],
                                table.row('#product'+id).data()[12],
                                table.row('#product'+id).data()[13],
                                table.row('#product'+id).data()[14],
                                remarks
                            ]
                        );
                        var row = $('#sample_7').dataTable().fnGetNodes(rowIndex);
                        $(row).attr('id', 'product'+id);
                        $('#sample_7 tr td:last-child').css('display', 'none');
                          
                        $.ajax({
                            type: 'post',
                            url: base_link + "settings/productStatus",
                            data: 'id='+ id + '&status=' + 1,
                            success: function(response) {
                                r = $.parseJSON(response);
                                if(r.response == "success") {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    setTimeout(function() {
                                        setTimeout(function() {
                                            $("#sample_77 #product"+id).slideUp("normal", function() { $(this).remove(); });
                                            toastr.success(" You successfully active product ", "Active Product");
                                        }, 1500);
                                        swal({
                                            title: "Activate!",
                                            text: "This product has been activate.",
                                            timer: 3000,
                                            type : "success",
                                            showConfirmButton: false
                                        });
                                    }, 1000);
                                    var activityId = activityListId();
                                    var acType = "fa-trash-o";
                                    var acLabel = "label-danger";
                                    $.ajax({
                                        url: base_link+'recent_activity/add_activity/',
                                        data: 'systemId=bcra'+activityId+ '&userId='+userId+ '&workType=active'+ '&title=product'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings',
                                        type: "POST",
										dataType: 'json',
										contentType: 'json',
                                        success: function(json) {
                                            toastr.options = {
                                                "closeButton": true,
                                                "debug": true,
                                                "positionClass": "toast-top-right",
                                                "showDuration": "1000",
                                                "hideDuration": "1000",
                                                "timeOut": "5000",
                                                "extendedTimeOut": "1000",
                                                "showEasing": "swing",
                                                "hideEasing": "linear",
                                                "showMethod": "fadeIn",
                                                "hideMethod": "fadeOut"
                                            }
                                            toastr.info("", "Recent activity recorded");
                                        }, 
                                        error: function(jqXHR, exception) {
                                            if (jqXHR.status === 0) {
                                                sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                            } else if (jqXHR.status == 404) {
                                                sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                            } else if (jqXHR.status == 500) {
                                                sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                            } else if (exception === 'parsererror') {
                                                sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                            } else if (exception === 'timeout') {
                                                sweetAlert("Oops...", "Time out error.", "error");
                                            } else if (exception === 'abort') {
                                                sweetAlert("Oops...", "Ajax request aborted.", "error");
                                            } else {
                                                // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                            }
                                        }
                                    });
                                }
                            }
                        });
                    } else {
                        swal({
                            title: "Cancelled",
                            text: "I will close in 2 seconds.",
                            timer: 2000,
                            type : "error",
                            showConfirmButton: false
                        });
                    }
                });
            }
            function removeLogo(id, hiddenInput) {
                $.ajax({
                    url: base_link+'settings/removeFile',
                    type: 'POST',
                    data: 'identification='+id+'&file='+$('#'+hiddenInput).val(),
                    async: false,
                    beforeSend: function() {
                        $('#overlay').css('display', 'block');
                        setLoadingImage();
                    },
                    complete: function() {
                        $('#overlay').css('display', 'none');
                        $('#loadingSpinner').remove();
                        $('#chatAudio')[0].play();
                    },
                    success: function (response) { 
                        r = $.parseJSON(response);
                        if(r.response == "success") {
                            toastr.options = {
                                "closeButton": true,
                                "debug": true,
                                "positionClass": "toast-top-right",
                                "showDuration": "1000",
                                "hideDuration": "1000",
                                "timeOut": "5000",
                                "extendedTimeOut": "1000",
                                "showEasing": "swing",
                                "hideEasing": "linear",
                                "showMethod": "fadeIn",
                                "hideMethod": "fadeOut"
                            }
                            setTimeout(function() {
                                setTimeout(function() {
                                    toastr.success(" You successfully update photos", "Update Photos");
                                }, 1000);
                            }, 500);  
                            if(id == 'baseLogo') {
                                $('#purchaseLogoDiv').slideUp(1000);
                                $('#purchaseLogo').delay(1200).slideDown(); 
                            } 
                            if(id == 'productPicture') {
                                $('#productPictureDiv').slideUp(1000);
                                $('#productPicture').delay(1200).slideDown(); 
                            } 
                            if(id == 'invoiceLogo') {
                                $('#invoiceLogoDiv').slideUp(1000);
                                $('#invoiceLogo').delay(1200).slideDown();
                            }
                            var activityId = activityListId();
                            var acType = "fa-plus";
                            var acLabel = "label-success";
                            $.ajax({
                                url: base_link+'recent_activity/add_activity/',
                                data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=update'+ '&title=photos'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=product/viewBill/',
                                type: "POST",
								dataType: 'json',
								contentType: 'json',
                                success: function(json) {
                                    toastr.options = {
                                        "closeButton": true,
                                        "debug": true,
                                        "positionClass": "toast-top-right",
                                        "showDuration": "1000",
                                        "hideDuration": "1000",
                                        "timeOut": "5000",
                                        "extendedTimeOut": "1000",
                                        "showEasing": "swing",
                                        "hideEasing": "linear",
                                        "showMethod": "fadeIn",
                                        "hideMethod": "fadeOut"
                                    }
                                    toastr.info("", "Recent activity recorded");
                                }, 
                                error: function(jqXHR, exception) {
                                    if (jqXHR.status === 0) {
                                        sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                    } else if (jqXHR.status == 404) {
                                        sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                    } else if (jqXHR.status == 500) {
                                        sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                    } else if (exception === 'parsererror') {
                                        sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                    } else if (exception === 'timeout') {
                                        sweetAlert("Oops...", "Time out error.", "error");
                                    } else if (exception === 'abort') {
                                        sweetAlert("Oops...", "Ajax request aborted.", "error");
                                    } else {
                                        // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                    }
                                }
                            });
                            $('.saveDefault').css('display', 'none');
                        } else {
                            if(r.response == 'formManipulation') {
                                sweetAlert("Oops...", "Why you manipulate system.", "error");                                   
                            } else if(r.response == 'Already exist') {
                                sweetAlert("Oops...", "This email address already exist.", "error");                                   
                            } else {
                                sweetAlert("Oops...", "Syatem is busy now or please contact with your administrator.", "error");                                   
                            }
                        }
                    }, 
                    error: function(jqXHR, exception) {
                        if (jqXHR.status === 0) {
                            sweetAlert("Oops...", "Not connect. Verify Network.", "error");
                        } else if (jqXHR.status == 404) {
                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                        } else if (jqXHR.status == 500) {
                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                        } else if (exception === 'parsererror') {
                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                        } else if (exception === 'timeout') {
                            sweetAlert("Oops...", "Time out error.", "error");
                        } else if (exception === 'abort') {
                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                        } else {
                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                        }
                    }
                });
            }
            $('#addCato').on('switchChange.bootstrapSwitch', function (event, state) {
                if(state) {
                    $('.inPage').css("display", "block");
                } else {
                    $('.inPage').css("display", "none");
                }
            });
            $('.dd').on('change', function() {
                var updateOutput = function (e) {
                    var list = e.length ? e : $(e.target),
                        output = list.data('output');
                    if (window.JSON) {
                        output.val(window.JSON.stringify(list.nestable('serialize'))); //, null, 2));
                    } else {
                        output.val('JSON browser support required for this demo.');
                    }
                };
                $('#nestable_list_3').nestable({
                        group: 0, 
                        maxDepth: 2
                    }).on('change', updateOutput);
                updateOutput($('#nestable_list_3').data('output', $('#nestable-output'), true));
                var dataString = { 
                    data : $("#nestable-output").val(),
                };

                $.ajax({
                    type: "POST",
                    url: base_link+"settings/sortProductCategory/",
                    data: dataString,
                    cache : false,
                    success: function(response){
                        r = $.parseJSON(response);
                        toastr.options = {
                            "closeButton": true,
                            "debug": true,
                            "positionClass": "toast-top-right",
                            "showDuration": "1000",
                            "hideDuration": "1000",
                            "timeOut": "5000",
                            "extendedTimeOut": "1000",
                            "showEasing": "swing",
                            "hideEasing": "linear",
                            "showMethod": "fadeIn",
                            "hideMethod": "fadeOut"
                        }
                        setTimeout(function() {
                            toastr.success(" You successfully sort product category", "Sort Product Category");
                        }, 1000);
                        var activityId = activityListId();
                        var acType = "fa-plus";
                        var acLabel = "label-success";
                        $.ajax({
                            url: base_link+'recent_activity/add_activity_without_toastr/',
                            data: 'systemId=bcs'+activityId+ '&userId='+userId+ '&workType=sort'+ '&title=product category'+ '&type='+ acType + '&label='+ acLabel + '&fullLink=settings/',
                            type: "POST",
							dataType: 'json',
                            contentType: 'json',
                            success: function(json) {
                                toastr.options = {
                                    "closeButton": true,
                                    "debug": true,
                                    "positionClass": "toast-top-right",
                                    "showDuration": "1000",
                                    "hideDuration": "1000",
                                    "timeOut": "5000",
                                    "extendedTimeOut": "1000",
                                    "showEasing": "swing",
                                    "hideEasing": "linear",
                                    "showMethod": "fadeIn",
                                    "hideMethod": "fadeOut"
                                }
                                toastr.info("", "Recent activity recorded");
                            }, 
                            error: function(jqXHR, exception) {
                                if (jqXHR.status === 0) {
                                    sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                                } else if (jqXHR.status == 404) {
                                    sweetAlert("Oops...", "Requested page not found. [404]", "error");
                                } else if (jqXHR.status == 500) {
                                    sweetAlert("Oops...", "Internal Server Error [500].", "error");
                                } else if (exception === 'parsererror') {
                                    sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                                } else if (exception === 'timeout') {
                                    sweetAlert("Oops...", "Time out error.", "error");
                                } else if (exception === 'abort') {
                                    sweetAlert("Oops...", "Ajax request aborted.", "error");
                                } else {
                                    // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                                }
                            }
                        });
                    } ,
                    error: function(xhr, exception) {
                        if (xhr.status === 0) {
                            sweetAlert("Oops...", "Not connect.\n Verify Network.", "error");
                        } else if (xhr.status == 404) {
                            sweetAlert("Oops...", "Requested page not found. [404]", "error");
                        } else if (xhr.status == 500) {
                            sweetAlert("Oops...", "Internal Server Error [500].", "error");
                        } else if (exception === 'parsererror') {
                            sweetAlert("Oops...", "Requested JSON parse failed.", "error");
                        } else if (exception === 'timeout') {
                            sweetAlert("Oops...", "Time out error.", "error");
                        } else if (exception === 'abort') {
                            sweetAlert("Oops...", "Ajax request aborted.", "error");
                        } else {
                            // sweetAlert("Oops...", "Uncaught Error.\n" + jqXHR.statusText, "error");
                        }
                    },
                });
            });
            var ddCheck = 0;
            function dd_extra(id) {
                $('.dd-main').removeClass('dd-main');
                $('.dd-main'+id).addClass('dd-main');
                $('.dd-sub').removeClass('dd-sub');
                $('#categoryProduct').val(id);
                $('#subCategoryProduct').val('---');
                $('#nameCategory').val("Uncategories");
            }
            function dd_main(id) {
                if(ddCheck == 0) {
                    $('.dd-main').removeClass('dd-main');
                    $('.dd-main'+id).addClass('dd-main');
                    $('.dd-sub').removeClass('dd-sub');
                    $('.dd-main'+id).closest("li").children("ol").find('.dd3-handle:first').addClass('dd-sub');
                    $('.dd-main'+id).closest("li").children("ol").find('.dd3-handle:first').trigger('click');
                    
                    if( $('.dd-main'+id).closest("li").has("ul").length ) {
                        $('#categoryProduct').val(id);
                        $('#subCategoryProduct').val('---');
                        $.post(base_link+"settings/getNameCategory",{
                            id: id
                        },
                        function(data, status){
                            r = $.parseJSON(data);
                            vendorName = r.response;
                            $('#nameCategory').val(vendorName);
                        });
                    } else {
                        if ($('.dd-main'+id).closest("li").children("ol").length > 0) {
                            var str = $('.dd-main'+id).closest("li").children("ol").find('.dd3-handle:first').attr('class');
                            var ret = str.split(" ");
                            if(Math.floor(ret[0]) == ret[0] && $.isNumeric(ret[0]))  {
                                $('#categoryProduct').val(id);
                                $('#subCategoryProduct').val(ret[0]);
                                $.post(base_link+"settings/getNameCategory",{
                                    id: id
                                },
                                function(data, status){
                                    r = $.parseJSON(data);
                                    vendorName = r.response;
                                    $('#nameCategory').val(vendorName);
                                });                            
                                $.post(base_link+"settings/getNameCategory",{
                                    id: ret[0]
                                },
                                function(data, status){
                                    r = $.parseJSON(data);
                                    vendorName = r.response;
                                    $('#nameSubCategory').val(vendorName);
                                });
                            } else {
                                $('#categoryProduct').val(id);
                                $('#subCategoryProduct').val('---'); 
                                $.post(base_link+"settings/getNameCategory",{
                                    id: id
                                },
                                function(data, status){
                                    r = $.parseJSON(data);
                                    vendorName = r.response;
                                    $('#nameCategory').val(vendorName);
                                });                       
                            }
                        } else {
                            $('#categoryProduct').val(id);
                            $('#subCategoryProduct').val('---'); 
                            $.post(base_link+"settings/getNameCategory",{
                                id: id
                            },
                            function(data, status){
                                r = $.parseJSON(data);
                                vendorName = r.response;
                                $('#nameCategory').val(vendorName);
                            }); 
                        }
                    }
                }
                ddCheck = 0;
            }
            function dd_sub(id, subId) {
                ddCheck = 1;
                $('.dd-main').removeClass('dd-main');
                $('.dd-sub').removeClass('dd-sub');
                $('.dd-main'+id).addClass('dd-main');
                $('.dd-sub'+subId).addClass('dd-sub');
                $('#categoryProduct').val(id);
                $('#subCategoryProduct').val(subId);
                $.post(base_link+"settings/getNameCategory",{
                    id: id
                },
                function(data, status){
                    r = $.parseJSON(data);
                    vendorName = r.response;
                    $('#nameCategory').val(vendorName);
                });                            
                $.post(base_link+"settings/getNameCategory",{
                    id: subId
                },
                function(data, status){
                    r = $.parseJSON(data);
                    vendorName = r.response;
                    $('#nameSubCategory').val(vendorName);
                });
            }
            $('.productBody').css('min-height', ''+<?php echo ((($totalCount)*30)+950); ?>+'px');
        </script>
    </body>

</html>